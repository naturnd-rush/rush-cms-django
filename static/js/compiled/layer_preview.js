import{a as uu,g as cu}from"./graphql.js";import{l as ze,g as fu,c as du,i as zo,b as pa}from"./utils/math.js";import{w as Mr,a as $n,T as hu,e as va}from"./utils/timing.js";import{D as pu}from"./utils/events.js";import{g as vu}from"./_commonjsHelpers.js";var nt="INUMBER",zn="IOP1",Un="IOP2",qn="IOP3",_t="IVAR",hn="IVARNAME",jn="IFUNCALL",jr="IFUNDEF",Ue="IEXPR",Go="IEXPREVAL",pn="IMEMBER",Fr="IENDSTATEMENT",Fn="IARRAY";function ce(l,p){this.type=l,this.value=p??0}ce.prototype.toString=function(){switch(this.type){case nt:case zn:case Un:case qn:case _t:case hn:case Fr:return this.value;case jn:return"CALL "+this.value;case jr:return"DEF "+this.value;case Fn:return"ARRAY "+this.value;case pn:return"."+this.value;default:return"Invalid Instruction"}};function Hr(l){return new ce(zn,l)}function Nt(l){return new ce(Un,l)}function Aa(l){return new ce(qn,l)}function Vo(l,p,m,w,T){for(var L=[],_=[],R,y,$,B,q=0;q<l.length;q++){var j=l[q],K=j.type;if(K===nt||K===hn)Array.isArray(j.value)?L.push.apply(L,Vo(j.value.map(function(ae){return new ce(nt,ae)}).concat(new ce(Fn,j.value.length)),p,m,w,T)):L.push(j);else if(K===_t&&T.hasOwnProperty(j.value))j=new ce(nt,T[j.value]),L.push(j);else if(K===Un&&L.length>1)y=L.pop(),R=L.pop(),B=m[j.value],j=new ce(nt,B(R.value,y.value)),L.push(j);else if(K===qn&&L.length>2)$=L.pop(),y=L.pop(),R=L.pop(),j.value==="?"?L.push(R.value?y.value:$.value):(B=w[j.value],j=new ce(nt,B(R.value,y.value,$.value)),L.push(j));else if(K===zn&&L.length>0)R=L.pop(),B=p[j.value],j=new ce(nt,B(R.value)),L.push(j);else if(K===Ue){for(;L.length>0;)_.push(L.shift());_.push(new ce(Ue,Vo(j.value,p,m,w,T)))}else if(K===pn&&L.length>0)R=L.pop(),L.push(new ce(nt,R.value[j.value]));else{for(;L.length>0;)_.push(L.shift());_.push(j)}}for(;L.length>0;)_.push(L.shift());return _}function La(l,p,m){for(var w=[],T=0;T<l.length;T++){var L=l[T],_=L.type;if(_===_t&&L.value===p)for(var R=0;R<m.tokens.length;R++){var y=m.tokens[R],$;y.type===zn?$=Hr(y.value):y.type===Un?$=Nt(y.value):y.type===qn?$=Aa(y.value):$=new ce(y.type,y.value),w.push($)}else _===Ue?w.push(new ce(Ue,La(L.value,p,m))):w.push(L)}return w}function dn(l,p,m){var w=[],T,L,_,R,y,$;if(Xo(l))return Lt(l,m);for(var B=l.length,q=0;q<B;q++){var j=l[q],K=j.type;if(K===nt||K===hn)w.push(j.value);else if(K===Un)L=w.pop(),T=w.pop(),j.value==="and"?w.push(T?!!dn(L,p,m):!1):j.value==="or"?w.push(T?!0:!!dn(L,p,m)):j.value==="="?(R=p.binaryOps[j.value],w.push(R(T,dn(L,p,m),m))):(R=p.binaryOps[j.value],w.push(R(Lt(T,m),Lt(L,m))));else if(K===qn)_=w.pop(),L=w.pop(),T=w.pop(),j.value==="?"?w.push(dn(T?L:_,p,m)):(R=p.ternaryOps[j.value],w.push(R(Lt(T,m),Lt(L,m),Lt(_,m))));else if(K===_t)if(j.value in p.functions)w.push(p.functions[j.value]);else if(j.value in p.unaryOps&&p.parser.isOperatorEnabled(j.value))w.push(p.unaryOps[j.value]);else{var ae=m[j.value];if(ae!==void 0)w.push(ae);else throw new Error("undefined variable: "+j.value)}else if(K===zn)T=w.pop(),R=p.unaryOps[j.value],w.push(R(Lt(T,m)));else if(K===jn){for($=j.value,y=[];$-- >0;)y.unshift(Lt(w.pop(),m));if(R=w.pop(),R.apply&&R.call)w.push(R.apply(void 0,y));else throw new Error(R+" is not a function")}else if(K===jr)w.push(function(){for(var G=w.pop(),te=[],z=j.value;z-- >0;)te.unshift(w.pop());var ve=w.pop(),ee=function(){for(var Ee=Object.assign({},m),ke=0,u=te.length;ke<u;ke++)Ee[te[ke]]=arguments[ke];return dn(G,p,Ee)};return Object.defineProperty(ee,"name",{value:ve,writable:!1}),m[ve]=ee,ee}());else if(K===Ue)w.push(gu(j,p));else if(K===Go)w.push(j);else if(K===pn)T=w.pop(),w.push(T[j.value]);else if(K===Fr)w.pop();else if(K===Fn){for($=j.value,y=[];$-- >0;)y.unshift(w.pop());w.push(y)}else throw new Error("invalid Expression")}if(w.length>1)throw new Error("invalid Expression (parity)");return w[0]===0?0:Lt(w[0],m)}function gu(l,p,m){return Xo(l)?l:{type:Go,value:function(w){return dn(l.value,p,w)}}}function Xo(l){return l&&l.type===Go}function Lt(l,p){return Xo(l)?l.value(p):l}function Yo(l,p){for(var m=[],w,T,L,_,R,y,$=0;$<l.length;$++){var B=l[$],q=B.type;if(q===nt)typeof B.value=="number"&&B.value<0?m.push("("+B.value+")"):Array.isArray(B.value)?m.push("["+B.value.map(ga).join(", ")+"]"):m.push(ga(B.value));else if(q===Un)T=m.pop(),w=m.pop(),_=B.value,p?_==="^"?m.push("Math.pow("+w+", "+T+")"):_==="and"?m.push("(!!"+w+" && !!"+T+")"):_==="or"?m.push("(!!"+w+" || !!"+T+")"):_==="||"?m.push("(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+w+"),("+T+")))"):_==="=="?m.push("("+w+" === "+T+")"):_==="!="?m.push("("+w+" !== "+T+")"):_==="["?m.push(w+"[("+T+") | 0]"):m.push("("+w+" "+_+" "+T+")"):_==="["?m.push(w+"["+T+"]"):m.push("("+w+" "+_+" "+T+")");else if(q===qn)if(L=m.pop(),T=m.pop(),w=m.pop(),_=B.value,_==="?")m.push("("+w+" ? "+T+" : "+L+")");else throw new Error("invalid Expression");else if(q===_t||q===hn)m.push(B.value);else if(q===zn)w=m.pop(),_=B.value,_==="-"||_==="+"?m.push("("+_+w+")"):p?_==="not"?m.push("(!"+w+")"):_==="!"?m.push("fac("+w+")"):m.push(_+"("+w+")"):_==="!"?m.push("("+w+"!)"):m.push("("+_+" "+w+")");else if(q===jn){for(y=B.value,R=[];y-- >0;)R.unshift(m.pop());_=m.pop(),m.push(_+"("+R.join(", ")+")")}else if(q===jr){for(T=m.pop(),y=B.value,R=[];y-- >0;)R.unshift(m.pop());w=m.pop(),p?m.push("("+w+" = function("+R.join(", ")+") { return "+T+" })"):m.push("("+w+"("+R.join(", ")+") = "+T+")")}else if(q===pn)w=m.pop(),m.push(w+"."+B.value);else if(q===Fn){for(y=B.value,R=[];y-- >0;)R.unshift(m.pop());m.push("["+R.join(", ")+"]")}else if(q===Ue)m.push("("+Yo(B.value,p)+")");else if(q!==Fr)throw new Error("invalid Expression")}return m.length>1&&(p?m=[m.join(",")]:m=[m.join(";")]),String(m[0])}function ga(l){return typeof l=="string"?JSON.stringify(l).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):l}function Rn(l,p){for(var m=0;m<l.length;m++)if(l[m]===p)return!0;return!1}function Jo(l,p,m){m=m||{};for(var w=!!m.withMembers,T=null,L=0;L<l.length;L++){var _=l[L];_.type===_t||_.type===hn?!w&&!Rn(p,_.value)?p.push(_.value):(T!==null&&(Rn(p,T)||p.push(T)),T=_.value):_.type===pn&&w&&T!==null?T+="."+_.value:_.type===Ue?Jo(_.value,p,m):T!==null&&(Rn(p,T)||p.push(T),T=null)}T!==null&&!Rn(p,T)&&p.push(T)}function ct(l,p){this.tokens=l,this.parser=p,this.unaryOps=p.unaryOps,this.binaryOps=p.binaryOps,this.ternaryOps=p.ternaryOps,this.functions=p.functions}ct.prototype.simplify=function(l){return l=l||{},new ct(Vo(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,l),this.parser)};ct.prototype.substitute=function(l,p){return p instanceof ct||(p=this.parser.parse(String(p))),new ct(La(this.tokens,l,p),this.parser)};ct.prototype.evaluate=function(l){return l=l||{},dn(this.tokens,this,l)};ct.prototype.toString=function(){return Yo(this.tokens,!1)};ct.prototype.symbols=function(l){l=l||{};var p=[];return Jo(this.tokens,p,l),p};ct.prototype.variables=function(l){l=l||{};var p=[];Jo(this.tokens,p,l);var m=this.functions;return p.filter(function(w){return!(w in m)})};ct.prototype.toJSFunction=function(l,p){var m=this,w=new Function(l,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+Yo(this.simplify(p).tokens,!0)+"; }");return function(){return w.apply(m,arguments)}};var ji="TEOF",me="TOP",Br="TNUMBER",_a="TSTRING",It="TPAREN",Hn="TBRACKET",zr="TCOMMA",Qo="TNAME",Zo="TSEMICOLON";function Ia(l,p,m){this.type=l,this.value=p,this.index=m}Ia.prototype.toString=function(){return this.type+": "+this.value};function Te(l,p){this.pos=0,this.current=null,this.unaryOps=l.unaryOps,this.binaryOps=l.binaryOps,this.ternaryOps=l.ternaryOps,this.consts=l.consts,this.expression=p,this.savedPosition=0,this.savedCurrent=null,this.options=l.options,this.parser=l}Te.prototype.newToken=function(l,p,m){return new Ia(l,p,m??this.pos)};Te.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current};Te.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent};Te.prototype.next=function(){if(this.pos>=this.expression.length)return this.newToken(ji,"EOF");if(this.isWhitespace()||this.isComment())return this.next();if(this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName())return this.current;this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')};Te.prototype.isString=function(){var l=!1,p=this.pos,m=this.expression.charAt(p);if(m==="'"||m==='"')for(var w=this.expression.indexOf(m,p+1);w>=0&&this.pos<this.expression.length;){if(this.pos=w+1,this.expression.charAt(w-1)!=="\\"){var T=this.expression.substring(p+1,w);this.current=this.newToken(_a,this.unescape(T),p),l=!0;break}w=this.expression.indexOf(m,w+1)}return l};Te.prototype.isParen=function(){var l=this.expression.charAt(this.pos);return l==="("||l===")"?(this.current=this.newToken(It,l),this.pos++,!0):!1};Te.prototype.isBracket=function(){var l=this.expression.charAt(this.pos);return(l==="["||l==="]")&&this.isOperatorEnabled("[")?(this.current=this.newToken(Hn,l),this.pos++,!0):!1};Te.prototype.isComma=function(){var l=this.expression.charAt(this.pos);return l===","?(this.current=this.newToken(zr,","),this.pos++,!0):!1};Te.prototype.isSemicolon=function(){var l=this.expression.charAt(this.pos);return l===";"?(this.current=this.newToken(Zo,";"),this.pos++,!0):!1};Te.prototype.isConst=function(){for(var l=this.pos,p=l;p<this.expression.length;p++){var m=this.expression.charAt(p);if(m.toUpperCase()===m.toLowerCase()&&(p===this.pos||m!=="_"&&m!=="."&&(m<"0"||m>"9")))break}if(p>l){var w=this.expression.substring(l,p);if(w in this.consts)return this.current=this.newToken(Br,this.consts[w]),this.pos+=w.length,!0}return!1};Te.prototype.isNamedOp=function(){for(var l=this.pos,p=l;p<this.expression.length;p++){var m=this.expression.charAt(p);if(m.toUpperCase()===m.toLowerCase()&&(p===this.pos||m!=="_"&&(m<"0"||m>"9")))break}if(p>l){var w=this.expression.substring(l,p);if(this.isOperatorEnabled(w)&&(w in this.binaryOps||w in this.unaryOps||w in this.ternaryOps))return this.current=this.newToken(me,w),this.pos+=w.length,!0}return!1};Te.prototype.isName=function(){for(var l=this.pos,p=l,m=!1;p<this.expression.length;p++){var w=this.expression.charAt(p);if(w.toUpperCase()===w.toLowerCase()){if(p===this.pos&&(w==="$"||w==="_")){w==="_"&&(m=!0);continue}else if(p===this.pos||!m||w!=="_"&&(w<"0"||w>"9"))break}else m=!0}if(m){var T=this.expression.substring(l,p);return this.current=this.newToken(Qo,T),this.pos+=T.length,!0}return!1};Te.prototype.isWhitespace=function(){for(var l=!1,p=this.expression.charAt(this.pos);(p===" "||p==="	"||p===`
`||p==="\r")&&(l=!0,this.pos++,!(this.pos>=this.expression.length));)p=this.expression.charAt(this.pos);return l};var mu=/^[0-9a-f]{4}$/i;Te.prototype.unescape=function(l){var p=l.indexOf("\\");if(p<0)return l;for(var m=l.substring(0,p);p>=0;){var w=l.charAt(++p);switch(w){case"'":m+="'";break;case'"':m+='"';break;case"\\":m+="\\";break;case"/":m+="/";break;case"b":m+="\b";break;case"f":m+="\f";break;case"n":m+=`
`;break;case"r":m+="\r";break;case"t":m+="	";break;case"u":var T=l.substring(p+1,p+5);mu.test(T)||this.parseError("Illegal escape sequence: \\u"+T),m+=String.fromCharCode(parseInt(T,16)),p+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+w+'"')}++p;var L=l.indexOf("\\",p);m+=l.substring(p,L<0?l.length:L),p=L}return m};Te.prototype.isComment=function(){var l=this.expression.charAt(this.pos);return l==="/"&&this.expression.charAt(this.pos+1)==="*"?(this.pos=this.expression.indexOf("*/",this.pos)+2,this.pos===1&&(this.pos=this.expression.length),!0):!1};Te.prototype.isRadixInteger=function(){var l=this.pos;if(l>=this.expression.length-2||this.expression.charAt(l)!=="0")return!1;++l;var p,m;if(this.expression.charAt(l)==="x")p=16,m=/^[0-9a-f]$/i,++l;else if(this.expression.charAt(l)==="b")p=2,m=/^[01]$/i,++l;else return!1;for(var w=!1,T=l;l<this.expression.length;){var L=this.expression.charAt(l);if(m.test(L))l++,w=!0;else break}return w&&(this.current=this.newToken(Br,parseInt(this.expression.substring(T,l),p)),this.pos=l),w};Te.prototype.isNumber=function(){for(var l=!1,p=this.pos,m=p,w=p,T=!1,L=!1,_;p<this.expression.length&&(_=this.expression.charAt(p),_>="0"&&_<="9"||!T&&_===".");)_==="."?T=!0:L=!0,p++,l=L;if(l&&(w=p),_==="e"||_==="E"){p++;for(var R=!0,y=!1;p<this.expression.length;){if(_=this.expression.charAt(p),R&&(_==="+"||_==="-"))R=!1;else if(_>="0"&&_<="9")y=!0,R=!1;else break;p++}y||(p=w)}return l?(this.current=this.newToken(Br,parseFloat(this.expression.substring(m,p))),this.pos=p):this.pos=w,l};Te.prototype.isOperator=function(){var l=this.pos,p=this.expression.charAt(this.pos);if(p==="+"||p==="-"||p==="*"||p==="/"||p==="%"||p==="^"||p==="?"||p===":"||p===".")this.current=this.newToken(me,p);else if(p==="∙"||p==="•")this.current=this.newToken(me,"*");else if(p===">")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(me,">="),this.pos++):this.current=this.newToken(me,">");else if(p==="<")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(me,"<="),this.pos++):this.current=this.newToken(me,"<");else if(p==="|")if(this.expression.charAt(this.pos+1)==="|")this.current=this.newToken(me,"||"),this.pos++;else return!1;else if(p==="=")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(me,"=="),this.pos++):this.current=this.newToken(me,p);else if(p==="!")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(me,"!="),this.pos++):this.current=this.newToken(me,p);else return!1;return this.pos++,this.isOperatorEnabled(this.current.value)?!0:(this.pos=l,!1)};Te.prototype.isOperatorEnabled=function(l){return this.parser.isOperatorEnabled(l)};Te.prototype.getCoordinates=function(){var l=0,p,m=-1;do l++,p=this.pos-m,m=this.expression.indexOf(`
`,m+1);while(m>=0&&m<this.pos);return{line:l,column:p}};Te.prototype.parseError=function(l){var p=this.getCoordinates();throw new Error("parse error ["+p.line+":"+p.column+"]: "+l)};function be(l,p,m){this.parser=l,this.tokens=p,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=m.allowMemberAccess!==!1}be.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()};be.prototype.tokenMatches=function(l,p){return typeof p>"u"?!0:Array.isArray(p)?Rn(p,l.value):typeof p=="function"?p(l):l.value===p};be.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()};be.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken};be.prototype.accept=function(l,p){return this.nextToken.type===l&&this.tokenMatches(this.nextToken,p)?(this.next(),!0):!1};be.prototype.expect=function(l,p){if(!this.accept(l,p)){var m=this.tokens.getCoordinates();throw new Error("parse error ["+m.line+":"+m.column+"]: Expected "+(p||l))}};be.prototype.parseAtom=function(l){var p=this.tokens.unaryOps;function m(T){return T.value in p}if(this.accept(Qo)||this.accept(me,m))l.push(new ce(_t,this.current.value));else if(this.accept(Br))l.push(new ce(nt,this.current.value));else if(this.accept(_a))l.push(new ce(nt,this.current.value));else if(this.accept(It,"("))this.parseExpression(l),this.expect(It,")");else if(this.accept(Hn,"["))if(this.accept(Hn,"]"))l.push(new ce(Fn,0));else{var w=this.parseArrayList(l);l.push(new ce(Fn,w))}else throw new Error("unexpected "+this.nextToken)};be.prototype.parseExpression=function(l){var p=[];this.parseUntilEndStatement(l,p)||(this.parseVariableAssignmentExpression(p),!this.parseUntilEndStatement(l,p)&&this.pushExpression(l,p))};be.prototype.pushExpression=function(l,p){for(var m=0,w=p.length;m<w;m++)l.push(p[m])};be.prototype.parseUntilEndStatement=function(l,p){return this.accept(Zo)?(this.nextToken&&this.nextToken.type!==ji&&!(this.nextToken.type===It&&this.nextToken.value===")")&&p.push(new ce(Fr)),this.nextToken.type!==ji&&this.parseExpression(p),l.push(new ce(Ue,p)),!0):!1};be.prototype.parseArrayList=function(l){for(var p=0;!this.accept(Hn,"]");)for(this.parseExpression(l),++p;this.accept(zr);)this.parseExpression(l),++p;return p};be.prototype.parseVariableAssignmentExpression=function(l){for(this.parseConditionalExpression(l);this.accept(me,"=");){var p=l.pop(),m=[],w=l.length-1;if(p.type===jn){if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var T=0,L=p.value+1;T<L;T++){var _=w-T;l[_].type===_t&&(l[_]=new ce(hn,l[_].value))}this.parseVariableAssignmentExpression(m),l.push(new ce(Ue,m)),l.push(new ce(jr,p.value));continue}if(p.type!==_t&&p.type!==pn)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(m),l.push(new ce(hn,p.value)),l.push(new ce(Ue,m)),l.push(Nt("="))}};be.prototype.parseConditionalExpression=function(l){for(this.parseOrExpression(l);this.accept(me,"?");){var p=[],m=[];this.parseConditionalExpression(p),this.expect(me,":"),this.parseConditionalExpression(m),l.push(new ce(Ue,p)),l.push(new ce(Ue,m)),l.push(Aa("?"))}};be.prototype.parseOrExpression=function(l){for(this.parseAndExpression(l);this.accept(me,"or");){var p=[];this.parseAndExpression(p),l.push(new ce(Ue,p)),l.push(Nt("or"))}};be.prototype.parseAndExpression=function(l){for(this.parseComparison(l);this.accept(me,"and");){var p=[];this.parseComparison(p),l.push(new ce(Ue,p)),l.push(Nt("and"))}};var yu=["==","!=","<","<=",">=",">","in"];be.prototype.parseComparison=function(l){for(this.parseAddSub(l);this.accept(me,yu);){var p=this.current;this.parseAddSub(l),l.push(Nt(p.value))}};var bu=["+","-","||"];be.prototype.parseAddSub=function(l){for(this.parseTerm(l);this.accept(me,bu);){var p=this.current;this.parseTerm(l),l.push(Nt(p.value))}};var ku=["*","/","%"];be.prototype.parseTerm=function(l){for(this.parseFactor(l);this.accept(me,ku);){var p=this.current;this.parseFactor(l),l.push(Nt(p.value))}};be.prototype.parseFactor=function(l){var p=this.tokens.unaryOps;function m(T){return T.value in p}if(this.save(),this.accept(me,m)){if(this.current.value!=="-"&&this.current.value!=="+"){if(this.nextToken.type===It&&this.nextToken.value==="("){this.restore(),this.parseExponential(l);return}else if(this.nextToken.type===Zo||this.nextToken.type===zr||this.nextToken.type===ji||this.nextToken.type===It&&this.nextToken.value===")"){this.restore(),this.parseAtom(l);return}}var w=this.current;this.parseFactor(l),l.push(Hr(w.value))}else this.parseExponential(l)};be.prototype.parseExponential=function(l){for(this.parsePostfixExpression(l);this.accept(me,"^");)this.parseFactor(l),l.push(Nt("^"))};be.prototype.parsePostfixExpression=function(l){for(this.parseFunctionCall(l);this.accept(me,"!");)l.push(Hr("!"))};be.prototype.parseFunctionCall=function(l){var p=this.tokens.unaryOps;function m(L){return L.value in p}if(this.accept(me,m)){var w=this.current;this.parseAtom(l),l.push(Hr(w.value))}else for(this.parseMemberExpression(l);this.accept(It,"(");)if(this.accept(It,")"))l.push(new ce(jn,0));else{var T=this.parseArgumentList(l);l.push(new ce(jn,T))}};be.prototype.parseArgumentList=function(l){for(var p=0;!this.accept(It,")");)for(this.parseExpression(l),++p;this.accept(zr);)this.parseExpression(l),++p;return p};be.prototype.parseMemberExpression=function(l){for(this.parseAtom(l);this.accept(me,".")||this.accept(Hn,"[");){var p=this.current;if(p.value==="."){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect(Qo),l.push(new ce(pn,this.current.value))}else if(p.value==="["){if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(l),this.expect(Hn,"]"),l.push(Nt("["))}else throw new Error("unexpected symbol: "+p.value)}};function wu(l,p){return Number(l)+Number(p)}function Cu(l,p){return l-p}function Su(l,p){return l*p}function xu(l,p){return l/p}function Tu(l,p){return l%p}function Pu(l,p){return Array.isArray(l)&&Array.isArray(p)?l.concat(p):""+l+p}function Eu(l,p){return l===p}function Au(l,p){return l!==p}function Lu(l,p){return l>p}function _u(l,p){return l<p}function Iu(l,p){return l>=p}function Nu(l,p){return l<=p}function Du(l,p){return!!(l&&p)}function Ou(l,p){return!!(l||p)}function Mu(l,p){return Rn(p,l)}function Ru(l){return(Math.exp(l)-Math.exp(-l))/2}function $u(l){return(Math.exp(l)+Math.exp(-l))/2}function ju(l){return l===1/0?1:l===-1/0?-1:(Math.exp(l)-Math.exp(-l))/(Math.exp(l)+Math.exp(-l))}function Fu(l){return l===-1/0?l:Math.log(l+Math.sqrt(l*l+1))}function Hu(l){return Math.log(l+Math.sqrt(l*l-1))}function Bu(l){return Math.log((1+l)/(1-l))/2}function ma(l){return Math.log(l)*Math.LOG10E}function zu(l){return-l}function Uu(l){return!l}function qu(l){return l<0?Math.ceil(l):Math.floor(l)}function Wu(l){return Math.random()*(l||1)}function ya(l){return ea(l+1)}function Ku(l){return isFinite(l)&&l===Math.round(l)}var Vu=4.7421875,Uo=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function ea(l){var p,m;if(Ku(l)){if(l<=0)return isFinite(l)?1/0:NaN;if(l>171)return 1/0;for(var w=l-2,T=l-1;w>1;)T*=w,w--;return T===0&&(T=1),T}if(l<.5)return Math.PI/(Math.sin(Math.PI*l)*ea(1-l));if(l>=171.35)return 1/0;if(l>85){var L=l*l,_=L*l,R=_*l,y=R*l;return Math.sqrt(2*Math.PI/l)*Math.pow(l/Math.E,l)*(1+1/(12*l)+1/(288*L)-139/(51840*_)-571/(2488320*R)+163879/(209018880*y)+5246819/(75246796800*y*l))}--l,m=Uo[0];for(var $=1;$<Uo.length;++$)m+=Uo[$]/(l+$);return p=l+Vu+.5,Math.sqrt(2*Math.PI)*Math.pow(p,l+.5)*Math.exp(-p)*m}function Gu(l){return Array.isArray(l)?l.length:String(l).length}function ba(){for(var l=0,p=0,m=0;m<arguments.length;m++){var w=Math.abs(arguments[m]),T;p<w?(T=p/w,l=l*T*T+1,p=w):w>0?(T=w/p,l+=T*T):l+=w}return p===1/0?1/0:p*Math.sqrt(l)}function ka(l,p,m){return l?p:m}function Xu(l,p){return typeof p>"u"||+p==0?Math.round(l):(l=+l,p=-+p,isNaN(l)||!(typeof p=="number"&&p%1===0)?NaN:(l=l.toString().split("e"),l=Math.round(+(l[0]+"e"+(l[1]?+l[1]-p:-p))),l=l.toString().split("e"),+(l[0]+"e"+(l[1]?+l[1]+p:p))))}function Yu(l,p,m){return m&&(m[l]=p),p}function Ju(l,p){return l[p|0]}function Qu(l){return arguments.length===1&&Array.isArray(l)?Math.max.apply(Math,l):Math.max.apply(Math,arguments)}function Zu(l){return arguments.length===1&&Array.isArray(l)?Math.min.apply(Math,l):Math.min.apply(Math,arguments)}function ec(l,p){if(typeof l!="function")throw new Error("First argument to map is not a function");if(!Array.isArray(p))throw new Error("Second argument to map is not an array");return p.map(function(m,w){return l(m,w)})}function tc(l,p,m){if(typeof l!="function")throw new Error("First argument to fold is not a function");if(!Array.isArray(m))throw new Error("Second argument to fold is not an array");return m.reduce(function(w,T,L){return l(w,T,L)},p)}function nc(l,p){if(typeof l!="function")throw new Error("First argument to filter is not a function");if(!Array.isArray(p))throw new Error("Second argument to filter is not an array");return p.filter(function(m,w){return l(m,w)})}function ic(l,p){if(!(Array.isArray(p)||typeof p=="string"))throw new Error("Second argument to indexOf is not a string or array");return p.indexOf(l)}function rc(l,p){if(!Array.isArray(p))throw new Error("Second argument to join is not an array");return p.join(l)}function oc(l){return(l>0)-(l<0)||+l}var wa=1/3;function ac(l){return l<0?-Math.pow(-l,wa):Math.pow(l,wa)}function sc(l){return Math.exp(l)-1}function lc(l){return Math.log(1+l)}function uc(l){return Math.log(l)/Math.LN2}function vn(l){this.options=l||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||Ru,cosh:Math.cosh||$u,tanh:Math.tanh||ju,asinh:Math.asinh||Fu,acosh:Math.acosh||Hu,atanh:Math.atanh||Bu,sqrt:Math.sqrt,cbrt:Math.cbrt||ac,log:Math.log,log2:Math.log2||uc,ln:Math.log,lg:Math.log10||ma,log10:Math.log10||ma,expm1:Math.expm1||sc,log1p:Math.log1p||lc,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||qu,"-":zu,"+":Number,exp:Math.exp,not:Uu,length:Gu,"!":ya,sign:Math.sign||oc},this.binaryOps={"+":wu,"-":Cu,"*":Su,"/":xu,"%":Tu,"^":Math.pow,"||":Pu,"==":Eu,"!=":Au,">":Lu,"<":_u,">=":Iu,"<=":Nu,and:Du,or:Ou,in:Mu,"=":Yu,"[":Ju},this.ternaryOps={"?":ka},this.functions={random:Wu,fac:ya,min:Zu,max:Qu,hypot:Math.hypot||ba,pyt:Math.hypot||ba,pow:Math.pow,atan2:Math.atan2,if:ka,gamma:ea,roundTo:Xu,map:ec,fold:tc,filter:nc,indexOf:ic,join:rc},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}vn.prototype.parse=function(l){var p=[],m=new be(this,new Te(this,l),{allowMemberAccess:this.options.allowMemberAccess});return m.parseExpression(p),m.expect(ji,"EOF"),new ct(p,this)};vn.prototype.evaluate=function(l,p){return this.parse(l).evaluate(p)};var Na=new vn;vn.parse=function(l){return Na.parse(l)};vn.evaluate=function(l,p){return Na.parse(l).evaluate(p)};var Ca={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};function cc(l){return Ca.hasOwnProperty(l)?Ca[l]:l}vn.prototype.isOperatorEnabled=function(l){var p=cc(l),m=this.options.operators||{};return!(p in m)||!!m[p]};/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var fc=Object.prototype.toString,Wn=Array.isArray||function(p){return fc.call(p)==="[object Array]"};function ta(l){return typeof l=="function"}function dc(l){return Wn(l)?"array":typeof l}function qo(l){return l.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Sa(l,p){return l!=null&&typeof l=="object"&&p in l}function hc(l,p){return l!=null&&typeof l!="object"&&l.hasOwnProperty&&l.hasOwnProperty(p)}var pc=RegExp.prototype.test;function vc(l,p){return pc.call(l,p)}var gc=/\S/;function mc(l){return!vc(gc,l)}var yc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function bc(l){return String(l).replace(/[&<>"'`=\/]/g,function(m){return yc[m]})}var kc=/\s*/,wc=/\s+/,xa=/\s*=/,Cc=/\s*\}/,Sc=/#|\^|\/|>|\{|&|=|!/;function xc(l,p){if(!l)return[];var m=!1,w=[],T=[],L=[],_=!1,R=!1,y="",$=0;function B(){if(_&&!R)for(;L.length;)delete T[L.pop()];else L=[];_=!1,R=!1}var q,j,K;function ae(Pe){if(typeof Pe=="string"&&(Pe=Pe.split(wc,2)),!Wn(Pe)||Pe.length!==2)throw new Error("Invalid tags: "+Pe);q=new RegExp(qo(Pe[0])+"\\s*"),j=new RegExp("\\s*"+qo(Pe[1])),K=new RegExp("\\s*"+qo("}"+Pe[1]))}ae(p||Ve.tags);for(var G=new Hi(l),te,z,ve,ee,Ee,ke;!G.eos();){if(te=G.pos,ve=G.scanUntil(q),ve)for(var u=0,ne=ve.length;u<ne;++u)ee=ve.charAt(u),mc(ee)?(L.push(T.length),y+=ee):(R=!0,m=!0,y+=" "),T.push(["text",ee,te,te+1]),te+=1,ee===`
`&&(B(),y="",$=0,m=!1);if(!G.scan(q))break;if(_=!0,z=G.scan(Sc)||"name",G.scan(kc),z==="="?(ve=G.scanUntil(xa),G.scan(xa),G.scanUntil(j)):z==="{"?(ve=G.scanUntil(K),G.scan(Cc),G.scanUntil(j),z="&"):ve=G.scanUntil(j),!G.scan(j))throw new Error("Unclosed tag at "+G.pos);if(z==">"?Ee=[z,ve,te,G.pos,y,$,m]:Ee=[z,ve,te,G.pos],$++,T.push(Ee),z==="#"||z==="^")w.push(Ee);else if(z==="/"){if(ke=w.pop(),!ke)throw new Error('Unopened section "'+ve+'" at '+te);if(ke[1]!==ve)throw new Error('Unclosed section "'+ke[1]+'" at '+te)}else z==="name"||z==="{"||z==="&"?R=!0:z==="="&&ae(ve)}if(B(),ke=w.pop(),ke)throw new Error('Unclosed section "'+ke[1]+'" at '+G.pos);return Pc(Tc(T))}function Tc(l){for(var p=[],m,w,T=0,L=l.length;T<L;++T)m=l[T],m&&(m[0]==="text"&&w&&w[0]==="text"?(w[1]+=m[1],w[3]=m[3]):(p.push(m),w=m));return p}function Pc(l){for(var p=[],m=p,w=[],T,L,_=0,R=l.length;_<R;++_)switch(T=l[_],T[0]){case"#":case"^":m.push(T),w.push(T),m=T[4]=[];break;case"/":L=w.pop(),L[5]=T[2],m=w.length>0?w[w.length-1][4]:p;break;default:m.push(T)}return p}function Hi(l){this.string=l,this.tail=l,this.pos=0}Hi.prototype.eos=function(){return this.tail===""};Hi.prototype.scan=function(p){var m=this.tail.match(p);if(!m||m.index!==0)return"";var w=m[0];return this.tail=this.tail.substring(w.length),this.pos+=w.length,w};Hi.prototype.scanUntil=function(p){var m=this.tail.search(p),w;switch(m){case-1:w=this.tail,this.tail="";break;case 0:w="";break;default:w=this.tail.substring(0,m),this.tail=this.tail.substring(m)}return this.pos+=w.length,w};function Bn(l,p){this.view=l,this.cache={".":this.view},this.parent=p}Bn.prototype.push=function(p){return new Bn(p,this)};Bn.prototype.lookup=function(p){var m=this.cache,w;if(m.hasOwnProperty(p))w=m[p];else{for(var T=this,L,_,R,y=!1;T;){if(p.indexOf(".")>0)for(L=T.view,_=p.split("."),R=0;L!=null&&R<_.length;)R===_.length-1&&(y=Sa(L,_[R])||hc(L,_[R])),L=L[_[R++]];else L=T.view[p],y=Sa(T.view,p);if(y){w=L;break}T=T.parent}m[p]=w}return ta(w)&&(w=w.call(this.view)),w};function He(){this.templateCache={_cache:{},set:function(p,m){this._cache[p]=m},get:function(p){return this._cache[p]},clear:function(){this._cache={}}}}He.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};He.prototype.parse=function(p,m){var w=this.templateCache,T=p+":"+(m||Ve.tags).join(":"),L=typeof w<"u",_=L?w.get(T):void 0;return _==null&&(_=xc(p,m),L&&w.set(T,_)),_};He.prototype.render=function(p,m,w,T){var L=this.getConfigTags(T),_=this.parse(p,L),R=m instanceof Bn?m:new Bn(m,void 0);return this.renderTokens(_,R,w,p,T)};He.prototype.renderTokens=function(p,m,w,T,L){for(var _="",R,y,$,B=0,q=p.length;B<q;++B)$=void 0,R=p[B],y=R[0],y==="#"?$=this.renderSection(R,m,w,T,L):y==="^"?$=this.renderInverted(R,m,w,T,L):y===">"?$=this.renderPartial(R,m,w,L):y==="&"?$=this.unescapedValue(R,m):y==="name"?$=this.escapedValue(R,m,L):y==="text"&&($=this.rawValue(R)),$!==void 0&&(_+=$);return _};He.prototype.renderSection=function(p,m,w,T,L){var _=this,R="",y=m.lookup(p[1]);function $(j){return _.render(j,m,w,L)}if(y){if(Wn(y))for(var B=0,q=y.length;B<q;++B)R+=this.renderTokens(p[4],m.push(y[B]),w,T,L);else if(typeof y=="object"||typeof y=="string"||typeof y=="number")R+=this.renderTokens(p[4],m.push(y),w,T,L);else if(ta(y)){if(typeof T!="string")throw new Error("Cannot use higher-order sections without the original template");y=y.call(m.view,T.slice(p[3],p[5]),$),y!=null&&(R+=y)}else R+=this.renderTokens(p[4],m,w,T,L);return R}};He.prototype.renderInverted=function(p,m,w,T,L){var _=m.lookup(p[1]);if(!_||Wn(_)&&_.length===0)return this.renderTokens(p[4],m,w,T,L)};He.prototype.indentPartial=function(p,m,w){for(var T=m.replace(/[^ \t]/g,""),L=p.split(`
`),_=0;_<L.length;_++)L[_].length&&(_>0||!w)&&(L[_]=T+L[_]);return L.join(`
`)};He.prototype.renderPartial=function(p,m,w,T){if(w){var L=this.getConfigTags(T),_=ta(w)?w(p[1]):w[p[1]];if(_!=null){var R=p[6],y=p[5],$=p[4],B=_;y==0&&$&&(B=this.indentPartial(_,$,R));var q=this.parse(B,L);return this.renderTokens(q,m,w,B,T)}}};He.prototype.unescapedValue=function(p,m){var w=m.lookup(p[1]);if(w!=null)return w};He.prototype.escapedValue=function(p,m,w){var T=this.getConfigEscape(w)||Ve.escape,L=m.lookup(p[1]);if(L!=null)return typeof L=="number"&&T===Ve.escape?String(L):T(L)};He.prototype.rawValue=function(p){return p[1]};He.prototype.getConfigTags=function(p){return Wn(p)?p:p&&typeof p=="object"?p.tags:void 0};He.prototype.getConfigEscape=function(p){if(p&&typeof p=="object"&&!Wn(p))return p.escape};var Ve={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(l){Fi.templateCache=l},get templateCache(){return Fi.templateCache}},Fi=new He;Ve.clearCache=function(){return Fi.clearCache()};Ve.parse=function(p,m){return Fi.parse(p,m)};Ve.render=function(p,m,w,T){if(typeof p!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+dc(p)+'" was given as the first argument for mustache#render(template, view, partials)');return Fi.render(p,m,w,T)};Ve.escape=bc;Ve.Scanner=Hi;Ve.Context=Bn;Ve.Writer=He;/*!
 * jQuery JavaScript Library v4.0.0
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.com/license/
 *
 * Date: 2026-01-18T00:20Z
 */function Ec(l,p){if(typeof l>"u"||!l.document)throw new Error("jQuery requires a window with a document");var m=[],w=Object.getPrototypeOf,T=m.slice,L=m.flat?function(n){return m.flat.call(n)}:function(n){return m.concat.apply([],n)},_=m.push,R=m.indexOf,y={},$=y.toString,B=y.hasOwnProperty,q=B.toString,j=q.call(Object),K={};function ae(n){return n==null?n+"":typeof n=="object"?y[$.call(n)]||"object":typeof n}function G(n){return n!=null&&n===n.window}function te(n){var o=!!n&&n.length,a=ae(n);return typeof n=="function"||G(n)?!1:a==="array"||o===0||typeof o=="number"&&o>0&&o-1 in n}var z=l.document,ve={type:!0,src:!0,nonce:!0,noModule:!0};function ee(n,o,a){a=a||z;var s,f=a.createElement("script");f.text=n;for(s in ve)o&&o[s]&&(f[s]=o[s]);a.head.appendChild(f).parentNode&&f.parentNode.removeChild(f)}var Ee="4.0.0",ke=/HTML$/i,u=function(n,o){return new u.fn.init(n,o)};u.fn=u.prototype={jquery:Ee,constructor:u,length:0,toArray:function(){return T.call(this)},get:function(n){return n==null?T.call(this):n<0?this[n+this.length]:this[n]},pushStack:function(n){var o=u.merge(this.constructor(),n);return o.prevObject=this,o},each:function(n){return u.each(this,n)},map:function(n){return this.pushStack(u.map(this,function(o,a){return n.call(o,a,o)}))},slice:function(){return this.pushStack(T.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(u.grep(this,function(n,o){return(o+1)%2}))},odd:function(){return this.pushStack(u.grep(this,function(n,o){return o%2}))},eq:function(n){var o=this.length,a=+n+(n<0?o:0);return this.pushStack(a>=0&&a<o?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()}},u.extend=u.fn.extend=function(){var n,o,a,s,f,d,v=arguments[0]||{},S=1,k=arguments.length,P=!1;for(typeof v=="boolean"&&(P=v,v=arguments[S]||{},S++),typeof v!="object"&&typeof v!="function"&&(v={}),S===k&&(v=this,S--);S<k;S++)if((n=arguments[S])!=null)for(o in n)s=n[o],!(o==="__proto__"||v===s)&&(P&&s&&(u.isPlainObject(s)||(f=Array.isArray(s)))?(a=v[o],f&&!Array.isArray(a)?d=[]:!f&&!u.isPlainObject(a)?d={}:d=a,f=!1,v[o]=u.extend(P,d,s)):s!==void 0&&(v[o]=s));return v},u.extend({expando:"jQuery"+(Ee+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n)},noop:function(){},isPlainObject:function(n){var o,a;return!n||$.call(n)!=="[object Object]"?!1:(o=w(n),o?(a=B.call(o,"constructor")&&o.constructor,typeof a=="function"&&q.call(a)===j):!0)},isEmptyObject:function(n){var o;for(o in n)return!1;return!0},globalEval:function(n,o,a){ee(n,{nonce:o&&o.nonce},a)},each:function(n,o){var a,s=0;if(te(n))for(a=n.length;s<a&&o.call(n[s],s,n[s])!==!1;s++);else for(s in n)if(o.call(n[s],s,n[s])===!1)break;return n},text:function(n){var o,a="",s=0,f=n.nodeType;if(!f)for(;o=n[s++];)a+=u.text(o);return f===1||f===11?n.textContent:f===9?n.documentElement.textContent:f===3||f===4?n.nodeValue:a},makeArray:function(n,o){var a=o||[];return n!=null&&(te(Object(n))?u.merge(a,typeof n=="string"?[n]:n):_.call(a,n)),a},inArray:function(n,o,a){return o==null?-1:R.call(o,n,a)},isXMLDoc:function(n){var o=n&&n.namespaceURI,a=n&&(n.ownerDocument||n).documentElement;return!ke.test(o||a&&a.nodeName||"HTML")},contains:function(n,o){var a=o&&o.parentNode;return n===a||!!(a&&a.nodeType===1&&(n.contains?n.contains(a):n.compareDocumentPosition&&n.compareDocumentPosition(a)&16))},merge:function(n,o){for(var a=+o.length,s=0,f=n.length;s<a;s++)n[f++]=o[s];return n.length=f,n},grep:function(n,o,a){for(var s,f=[],d=0,v=n.length,S=!a;d<v;d++)s=!o(n[d],d),s!==S&&f.push(n[d]);return f},map:function(n,o,a){var s,f,d=0,v=[];if(te(n))for(s=n.length;d<s;d++)f=o(n[d],d,a),f!=null&&v.push(f);else for(d in n)f=o(n[d],d,a),f!=null&&v.push(f);return L(v)},guid:1,support:K}),typeof Symbol=="function"&&(u.fn[Symbol.iterator]=m[Symbol.iterator]),u.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(n,o){y["[object "+o+"]"]=o.toLowerCase()});function ne(n,o){return n.nodeName&&n.nodeName.toLowerCase()===o.toLowerCase()}var Pe=m.pop,re="[\\x20\\t\\r\\n\\f]",Ae=z.documentMode,ft=Ae&&new RegExp(":enabled|:disabled|\\["+re+"*name"+re+"*="+re+`*(?:''|"")`),dt=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),ht="(?:\\\\[\\da-fA-F]{1,6}"+re+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Bi=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),Ur=new RegExp(re+"|>"),Kn=/[+~]/,pt=z.documentElement,qr=pt.matches||pt.msMatchesSelector;function gn(){var n=[];function o(a,s){return n.push(a+" ")>u.expr.cacheLength&&delete o[n.shift()],o[a+" "]=s}return o}function Vn(n){return n&&typeof n.getElementsByTagName<"u"&&n}var ie="\\["+re+"*("+ht+")(?:"+re+"*([*^$|!~]?=)"+re+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ht+"))|)"+re+"*\\]",Gn=":("+ht+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ie+")*)|.*)\\)|)",Kt={ID:new RegExp("^#("+ht+")"),CLASS:new RegExp("^\\.("+ht+")"),TAG:new RegExp("^("+ht+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+Gn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i")},Wr=new RegExp(Gn),zi=new RegExp("\\\\[\\da-fA-F]{1,6}"+re+"?|\\\\([^\\r\\n\\f])","g"),Kr=function(n,o){var a="0x"+n.slice(1)-65536;return o||(a<0?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320))};function vt(n){return n.replace(zi,Kr)}function Dt(n){u.error("Syntax error, unrecognized expression: "+n)}var Vr=new RegExp("^"+re+"*,"+re+"*"),Ui=gn();function Vt(n,o){var a,s,f,d,v,S,k,P=Ui[n+" "];if(P)return o?0:P.slice(0);for(v=n,S=[],k=u.expr.preFilter;v;){(!a||(s=Vr.exec(v)))&&(s&&(v=v.slice(s[0].length)||v),S.push(f=[])),a=!1,(s=Bi.exec(v))&&(a=s.shift(),f.push({value:a,type:s[0].replace(dt," ")}),v=v.slice(a.length));for(d in Kt)(s=u.expr.match[d].exec(v))&&(!k[d]||(s=k[d](s)))&&(a=s.shift(),f.push({value:a,type:d,matches:s}),v=v.slice(a.length));if(!a)break}return o?v.length:v?Dt(n):Ui(n,S).slice(0)}var Gr={ATTR:function(n){return n[1]=vt(n[1]),n[3]=vt(n[3]||n[4]||n[5]||""),n[2]==="~="&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),n[1].slice(0,3)==="nth"?(n[3]||Dt(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*(n[3]==="even"||n[3]==="odd")),n[5]=+(n[7]+n[8]||n[3]==="odd")):n[3]&&Dt(n[0]),n},PSEUDO:function(n){var o,a=!n[6]&&n[2];return Kt.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":a&&Wr.test(a)&&(o=Vt(a,!0))&&(o=a.indexOf(")",a.length-o)-a.length)&&(n[0]=n[0].slice(0,o),n[2]=a.slice(0,o)),n.slice(0,3))}};function mn(n){for(var o=0,a=n.length,s="";o<a;o++)s+=n[o].value;return s}function it(n,o,a,s,f,d,v){var S=0,k=n.length,P=a==null;if(ae(a)==="object"){f=!0;for(S in a)it(n,o,S,a[S],!0,d,v)}else if(s!==void 0&&(f=!0,typeof s!="function"&&(v=!0),P&&(v?(o.call(n,s),o=null):(P=o,o=function(I,M,A){return P.call(u(I),A)})),o))for(;S<k;S++)o(n[S],a,v?s:s.call(n[S],S,o(n[S],a)));return f?n:P?o.call(n):k?o(n[0],a):d}var Ge=/[^\x20\t\r\n\f]+/g;u.fn.extend({attr:function(n,o){return it(this,u.attr,n,o,arguments.length>1)},removeAttr:function(n){return this.each(function(){u.removeAttr(this,n)})}}),u.extend({attr:function(n,o,a){var s,f,d=n.nodeType;if(!(d===3||d===8||d===2)){if(typeof n.getAttribute>"u")return u.prop(n,o,a);if((d!==1||!u.isXMLDoc(n))&&(f=u.attrHooks[o.toLowerCase()]),a!==void 0){if(a===null||a===!1&&o.toLowerCase().indexOf("aria-")!==0){u.removeAttr(n,o);return}return f&&"set"in f&&(s=f.set(n,a,o))!==void 0?s:(n.setAttribute(o,a),a)}return f&&"get"in f&&(s=f.get(n,o))!==null?s:(s=n.getAttribute(o),s??void 0)}},attrHooks:{},removeAttr:function(n,o){var a,s=0,f=o&&o.match(Ge);if(f&&n.nodeType===1)for(;a=f[s++];)n.removeAttribute(a)}}),Ae&&(u.attrHooks.type={set:function(n,o){if(o==="radio"&&ne(n,"input")){var a=n.value;return n.setAttribute("type",o),a&&(n.value=a),o}}});var Xr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function F(n,o){return o?n==="\0"?"�":n.slice(0,-1)+"\\"+n.charCodeAt(n.length-1).toString(16)+" ":"\\"+n}u.escapeSelector=function(n){return(n+"").replace(Xr,F)};var Xn=m.sort,Yr=m.splice,je;function Jr(n,o){if(n===o)return je=!0,0;var a=!n.compareDocumentPosition-!o.compareDocumentPosition;return a||(a=(n.ownerDocument||n)==(o.ownerDocument||o)?n.compareDocumentPosition(o):1,a&1?n==z||n.ownerDocument==z&&u.contains(z,n)?-1:o==z||o.ownerDocument==z&&u.contains(z,o)?1:0:a&4?-1:1)}u.uniqueSort=function(n){var o,a=[],s=0,f=0;if(je=!1,Xn.call(n,Jr),je){for(;o=n[f++];)o===n[f]&&(s=a.push(f));for(;s--;)Yr.call(n,a[s],1)}return n},u.fn.uniqueSort=function(){return this.pushStack(u.uniqueSort(T.apply(this)))};var ye,Ne,Fe,Gt,De,rt=0,Qr=0,yn=gn(),qi=gn(),Ot=gn(),Wi=new RegExp(re+"+","g"),bn=new RegExp("^"+ht+"$"),kn=u.extend({needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},Kt),Zr=/^(?:input|select|textarea|button)$/i,Ki=/^h\d$/i,Yn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Jn=function(){Le()},Vi=ot(function(n){return n.disabled===!0&&ne(n,"fieldset")},{dir:"parentNode",next:"legend"});function qe(n,o,a,s){var f,d,v,S,k,P,I,M=o&&o.ownerDocument,A=o?o.nodeType:9;if(a=a||[],typeof n!="string"||!n||A!==1&&A!==9&&A!==11)return a;if(!s&&(Le(o),o=o||Fe,De)){if(A!==11&&(k=Yn.exec(n)))if(f=k[1]){if(A===9)return(v=o.getElementById(f))&&_.call(a,v),a;if(M&&(v=M.getElementById(f))&&u.contains(o,v))return _.call(a,v),a}else{if(k[2])return _.apply(a,o.getElementsByTagName(n)),a;if((f=k[3])&&o.getElementsByClassName)return _.apply(a,o.getElementsByClassName(f)),a}if(!Ot[n+" "]&&(!ft||!ft.test(n))){if(I=n,M=o,A===1&&(Ur.test(n)||Bi.test(n))){for(M=Kn.test(n)&&Vn(o.parentNode)||o,(M!=o||Ae)&&((S=o.getAttribute("id"))?S=u.escapeSelector(S):o.setAttribute("id",S=u.expando)),P=Vt(n),d=P.length;d--;)P[d]=(S?"#"+S:":scope")+" "+mn(P[d]);I=P.join(",")}try{return _.apply(a,M.querySelectorAll(I)),a}catch{Ot(n,!0)}finally{S===u.expando&&o.removeAttribute("id")}}}return ei(n.replace(dt,"$1"),o,a,s)}function Xe(n){return n[u.expando]=!0,n}function eo(n){return function(o){return ne(o,"input")&&o.type===n}}function to(n){return function(o){return(ne(o,"input")||ne(o,"button"))&&o.type===n}}function Gi(n){return function(o){return"form"in o?o.parentNode&&o.disabled===!1?"label"in o?"label"in o.parentNode?o.parentNode.disabled===n:o.disabled===n:o.isDisabled===n||o.isDisabled!==!n&&Vi(o)===n:o.disabled===n:"label"in o?o.disabled===n:!1}}function Ye(n){return Xe(function(o){return o=+o,Xe(function(a,s){for(var f,d=n([],a.length,o),v=d.length;v--;)a[f=d[v]]&&(a[f]=!(s[f]=a[f]))})})}function Le(n){var o,a=n?n.ownerDocument||n:z;a==Fe||a.nodeType!==9||(Fe=a,Gt=Fe.documentElement,De=!u.isXMLDoc(Fe),Ae&&z!=Fe&&(o=Fe.defaultView)&&o.top!==o&&o.addEventListener("unload",Jn))}qe.matches=function(n,o){return qe(n,null,null,o)},qe.matchesSelector=function(n,o){if(Le(n),De&&!Ot[o+" "]&&(!ft||!ft.test(o)))try{return qr.call(n,o)}catch{Ot(o,!0)}return qe(o,Fe,null,[n]).length>0},u.expr={cacheLength:50,createPseudo:Xe,match:kn,find:{ID:function(n,o){if(typeof o.getElementById<"u"&&De){var a=o.getElementById(n);return a?[a]:[]}},TAG:function(n,o){return typeof o.getElementsByTagName<"u"?o.getElementsByTagName(n):o.querySelectorAll(n)},CLASS:function(n,o){if(typeof o.getElementsByClassName<"u"&&De)return o.getElementsByClassName(n)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:Gr,filter:{ID:function(n){var o=vt(n);return function(a){return a.getAttribute("id")===o}},TAG:function(n){var o=vt(n).toLowerCase();return n==="*"?function(){return!0}:function(a){return ne(a,o)}},CLASS:function(n){var o=yn[n+" "];return o||(o=new RegExp("(^|"+re+")"+n+"("+re+"|$)"))&&yn(n,function(a){return o.test(typeof a.className=="string"&&a.className||typeof a.getAttribute<"u"&&a.getAttribute("class")||"")})},ATTR:function(n,o,a){return function(s){var f=u.attr(s,n);return f==null?o==="!=":o?(f+="",o==="="?f===a:o==="!="?f!==a:o==="^="?a&&f.indexOf(a)===0:o==="*="?a&&f.indexOf(a)>-1:o==="$="?a&&f.slice(-a.length)===a:o==="~="?(" "+f.replace(Wi," ")+" ").indexOf(a)>-1:o==="|="?f===a||f.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(n,o,a,s,f){var d=n.slice(0,3)!=="nth",v=n.slice(-4)!=="last",S=o==="of-type";return s===1&&f===0?function(k){return!!k.parentNode}:function(k,P,I){var M,A,O,W,J,X=d!==v?"nextSibling":"previousSibling",ge=k.parentNode,fe=S&&k.nodeName.toLowerCase(),Re=!I&&!S,_e=!1;if(ge){if(d){for(;X;){for(O=k;O=O[X];)if(S?ne(O,fe):O.nodeType===1)return!1;J=X=n==="only"&&!J&&"nextSibling"}return!0}if(J=[v?ge.firstChild:ge.lastChild],v&&Re){for(A=ge[u.expando]||(ge[u.expando]={}),M=A[n]||[],W=M[0]===rt&&M[1],_e=W&&M[2],O=W&&ge.childNodes[W];O=++W&&O&&O[X]||(_e=W=0)||J.pop();)if(O.nodeType===1&&++_e&&O===k){A[n]=[rt,W,_e];break}}else if(Re&&(A=k[u.expando]||(k[u.expando]={}),M=A[n]||[],W=M[0]===rt&&M[1],_e=W),_e===!1)for(;(O=++W&&O&&O[X]||(_e=W=0)||J.pop())&&!((S?ne(O,fe):O.nodeType===1)&&++_e&&(Re&&(A=O[u.expando]||(O[u.expando]={}),A[n]=[rt,_e]),O===k)););return _e-=f,_e===s||_e%s===0&&_e/s>=0}}},PSEUDO:function(n,o){var a=u.expr.pseudos[n]||u.expr.setFilters[n.toLowerCase()]||Dt("unsupported pseudo: "+n);return a[u.expando]?a(o):a}},pseudos:{not:Xe(function(n){var o=[],a=[],s=Zn(n.replace(dt,"$1"));return s[u.expando]?Xe(function(f,d,v,S){for(var k,P=s(f,null,S,[]),I=f.length;I--;)(k=P[I])&&(f[I]=!(d[I]=k))}):function(f,d,v){return o[0]=f,s(o,null,v,a),o[0]=null,!a.pop()}}),has:Xe(function(n){return function(o){return qe(n,o).length>0}}),contains:Xe(function(n){return n=vt(n),function(o){return(o.textContent||u.text(o)).indexOf(n)>-1}}),lang:Xe(function(n){return bn.test(n||"")||Dt("unsupported lang: "+n),n=vt(n).toLowerCase(),function(o){var a;do if(a=De?o.lang:o.getAttribute("xml:lang")||o.getAttribute("lang"))return a=a.toLowerCase(),a===n||a.indexOf(n+"-")===0;while((o=o.parentNode)&&o.nodeType===1);return!1}}),target:function(n){var o=l.location&&l.location.hash;return o&&o.slice(1)===n.id},root:function(n){return n===Gt},focus:function(n){return n===Fe.activeElement&&Fe.hasFocus()&&!!(n.type||n.href||~n.tabIndex)},enabled:Gi(!1),disabled:Gi(!0),checked:function(n){return ne(n,"input")&&!!n.checked||ne(n,"option")&&!!n.selected},selected:function(n){return Ae&&n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!u.expr.pseudos.empty(n)},header:function(n){return Ki.test(n.nodeName)},input:function(n){return Zr.test(n.nodeName)},button:function(n){return ne(n,"input")&&n.type==="button"||ne(n,"button")},text:function(n){return ne(n,"input")&&n.type==="text"},first:Ye(function(){return[0]}),last:Ye(function(n,o){return[o-1]}),eq:Ye(function(n,o,a){return[a<0?a+o:a]}),even:Ye(function(n,o){for(var a=0;a<o;a+=2)n.push(a);return n}),odd:Ye(function(n,o){for(var a=1;a<o;a+=2)n.push(a);return n}),lt:Ye(function(n,o,a){var s;for(a<0?s=a+o:a>o?s=o:s=a;--s>=0;)n.push(s);return n}),gt:Ye(function(n,o,a){for(var s=a<0?a+o:a;++s<o;)n.push(s);return n})}},u.expr.pseudos.nth=u.expr.pseudos.eq;for(ye in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})u.expr.pseudos[ye]=eo(ye);for(ye in{submit:!0,reset:!0})u.expr.pseudos[ye]=to(ye);function Xi(){}Xi.prototype=u.expr.pseudos,u.expr.setFilters=new Xi;function ot(n,o,a){var s=o.dir,f=o.next,d=f||s,v=a&&d==="parentNode",S=Qr++;return o.first?function(k,P,I){for(;k=k[s];)if(k.nodeType===1||v)return n(k,P,I);return!1}:function(k,P,I){var M,A,O=[rt,S];if(I){for(;k=k[s];)if((k.nodeType===1||v)&&n(k,P,I))return!0}else for(;k=k[s];)if(k.nodeType===1||v)if(A=k[u.expando]||(k[u.expando]={}),f&&ne(k,f))k=k[s]||k;else{if((M=A[d])&&M[0]===rt&&M[1]===S)return O[2]=M[2];if(A[d]=O,O[2]=n(k,P,I))return!0}return!1}}function wn(n){return n.length>1?function(o,a,s){for(var f=n.length;f--;)if(!n[f](o,a,s))return!1;return!0}:n[0]}function Cn(n,o,a){for(var s=0,f=o.length;s<f;s++)qe(n,o[s],a);return a}function Sn(n,o,a,s,f){for(var d,v=[],S=0,k=n.length,P=o!=null;S<k;S++)(d=n[S])&&(!a||a(d,s,f))&&(v.push(d),P&&o.push(S));return v}function Je(n,o,a,s,f,d){return s&&!s[u.expando]&&(s=Je(s)),f&&!f[u.expando]&&(f=Je(f,d)),Xe(function(v,S,k,P){var I,M,A,O,W=[],J=[],X=S.length,ge=v||Cn(o||"*",k.nodeType?[k]:k,[]),fe=n&&(v||!o)?Sn(ge,W,n,k,P):ge;if(a?(O=f||(v?n:X||s)?[]:S,a(fe,O,k,P)):O=fe,s)for(I=Sn(O,J),s(I,[],k,P),M=I.length;M--;)(A=I[M])&&(O[J[M]]=!(fe[J[M]]=A));if(v){if(f||n){if(f){for(I=[],M=O.length;M--;)(A=O[M])&&I.push(fe[M]=A);f(null,O=[],I,P)}for(M=O.length;M--;)(A=O[M])&&(I=f?R.call(v,A):W[M])>-1&&(v[I]=!(S[I]=A))}}else O=Sn(O===S?O.splice(X,O.length):O),f?f(null,S,O,P):_.apply(S,O)})}function Qn(n){for(var o,a,s,f=n.length,d=u.expr.relative[n[0].type],v=d||u.expr.relative[" "],S=d?1:0,k=ot(function(M){return M===o},v,!0),P=ot(function(M){return R.call(o,M)>-1},v,!0),I=[function(M,A,O){var W=!d&&(O||A!=Ne)||((o=A).nodeType?k(M,A,O):P(M,A,O));return o=null,W}];S<f;S++)if(a=u.expr.relative[n[S].type])I=[ot(wn(I),a)];else{if(a=u.expr.filter[n[S].type].apply(null,n[S].matches),a[u.expando]){for(s=++S;s<f&&!u.expr.relative[n[s].type];s++);return Je(S>1&&wn(I),S>1&&mn(n.slice(0,S-1).concat({value:n[S-2].type===" "?"*":""})).replace(dt,"$1"),a,S<s&&Qn(n.slice(S,s)),s<f&&Qn(n=n.slice(s)),s<f&&mn(n))}I.push(a)}return wn(I)}function no(n,o){var a=o.length>0,s=n.length>0,f=function(d,v,S,k,P){var I,M,A,O=0,W="0",J=d&&[],X=[],ge=Ne,fe=d||s&&u.expr.find.TAG("*",P),Re=rt+=ge==null?1:Math.random()||.1;for(P&&(Ne=v==Fe||v||P);(I=fe[W])!=null;W++){if(s&&I){for(M=0,!v&&I.ownerDocument!=Fe&&(Le(I),S=!De);A=n[M++];)if(A(I,v||Fe,S)){_.call(k,I);break}P&&(rt=Re)}a&&((I=!A&&I)&&O--,d&&J.push(I))}if(O+=W,a&&W!==O){for(M=0;A=o[M++];)A(J,X,v,S);if(d){if(O>0)for(;W--;)J[W]||X[W]||(X[W]=Pe.call(k));X=Sn(X)}_.apply(k,X),P&&!d&&X.length>0&&O+o.length>1&&u.uniqueSort(k)}return P&&(rt=Re,Ne=ge),J};return a?Xe(f):f}function Zn(n,o){var a,s=[],f=[],d=qi[n+" "];if(!d){for(o||(o=Vt(n)),a=o.length;a--;)d=Qn(o[a]),d[u.expando]?s.push(d):f.push(d);d=qi(n,no(f,s)),d.selector=n}return d}function ei(n,o,a,s){var f,d,v,S,k,P=typeof n=="function"&&n,I=!s&&Vt(n=P.selector||n);if(a=a||[],I.length===1){if(d=I[0]=I[0].slice(0),d.length>2&&(v=d[0]).type==="ID"&&o.nodeType===9&&De&&u.expr.relative[d[1].type]){if(o=(u.expr.find.ID(vt(v.matches[0]),o)||[])[0],o)P&&(o=o.parentNode);else return a;n=n.slice(d.shift().value.length)}for(f=kn.needsContext.test(n)?0:d.length;f--&&(v=d[f],!u.expr.relative[S=v.type]);)if((k=u.expr.find[S])&&(s=k(vt(v.matches[0]),Kn.test(d[0].type)&&Vn(o.parentNode)||o))){if(d.splice(f,1),n=s.length&&mn(d),!n)return _.apply(a,s),a;break}}return(P||Zn(n,I))(s,o,!De,a,!o||Kn.test(n)&&Vn(o.parentNode)||o),a}Le(),u.find=qe,qe.compile=Zn,qe.select=ei,qe.setDocument=Le,qe.tokenize=Vt;function Mt(n,o,a){for(var s=[],f=a!==void 0;(n=n[o])&&n.nodeType!==9;)if(n.nodeType===1){if(f&&u(n).is(a))break;s.push(n)}return s}function Yi(n,o){for(var a=[];n;n=n.nextSibling)n.nodeType===1&&n!==o&&a.push(n);return a}var xn=u.expr.match.needsContext,Tn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Xt(n){return n[0]==="<"&&n[n.length-1]===">"&&n.length>=3}function kt(n,o,a){return typeof o=="function"?u.grep(n,function(s,f){return!!o.call(s,f,s)!==a}):o.nodeType?u.grep(n,function(s){return s===o!==a}):typeof o!="string"?u.grep(n,function(s){return R.call(o,s)>-1!==a}):u.filter(o,n,a)}u.filter=function(n,o,a){var s=o[0];return a&&(n=":not("+n+")"),o.length===1&&s.nodeType===1?u.find.matchesSelector(s,n)?[s]:[]:u.find.matches(n,u.grep(o,function(f){return f.nodeType===1}))},u.fn.extend({find:function(n){var o,a,s=this.length,f=this;if(typeof n!="string")return this.pushStack(u(n).filter(function(){for(o=0;o<s;o++)if(u.contains(f[o],this))return!0}));for(a=this.pushStack([]),o=0;o<s;o++)u.find(n,f[o],a);return s>1?u.uniqueSort(a):a},filter:function(n){return this.pushStack(kt(this,n||[],!1))},not:function(n){return this.pushStack(kt(this,n||[],!0))},is:function(n){return!!kt(this,typeof n=="string"&&xn.test(n)?u(n):n||[],!1).length}});var Yt,Ji=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Qi=u.fn.init=function(n,o){var a,s;if(!n)return this;if(n.nodeType)return this[0]=n,this.length=1,this;if(typeof n=="function")return Yt.ready!==void 0?Yt.ready(n):n(u);if(a=n+"",Xt(a))a=[null,n,null];else if(typeof n=="string")a=Ji.exec(n);else return u.makeArray(n,this);if(a&&(a[1]||!o))if(a[1]){if(o=o instanceof u?o[0]:o,u.merge(this,u.parseHTML(a[1],o&&o.nodeType?o.ownerDocument||o:z,!0)),Tn.test(a[1])&&u.isPlainObject(o))for(a in o)typeof this[a]=="function"?this[a](o[a]):this.attr(a,o[a]);return this}else return s=z.getElementById(a[2]),s&&(this[0]=s,this.length=1),this;else return!o||o.jquery?(o||Yt).find(n):this.constructor(o).find(n)};Qi.prototype=u.fn,Yt=u(z);var io=/^(?:parents|prev(?:Until|All))/,ro={children:!0,contents:!0,next:!0,prev:!0};u.fn.extend({has:function(n){var o=u(n,this),a=o.length;return this.filter(function(){for(var s=0;s<a;s++)if(u.contains(this,o[s]))return!0})},closest:function(n,o){var a,s=0,f=this.length,d=[],v=typeof n!="string"&&u(n);if(!xn.test(n)){for(;s<f;s++)for(a=this[s];a&&a!==o;a=a.parentNode)if(a.nodeType<11&&(v?v.index(a)>-1:a.nodeType===1&&u.find.matchesSelector(a,n))){d.push(a);break}}return this.pushStack(d.length>1?u.uniqueSort(d):d)},index:function(n){return n?typeof n=="string"?R.call(u(n),this[0]):R.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,o){return this.pushStack(u.uniqueSort(u.merge(this.get(),u(n,o))))},addBack:function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}});function at(n,o){for(;(n=n[o])&&n.nodeType!==1;);return n}u.each({parent:function(n){var o=n.parentNode;return o&&o.nodeType!==11?o:null},parents:function(n){return Mt(n,"parentNode")},parentsUntil:function(n,o,a){return Mt(n,"parentNode",a)},next:function(n){return at(n,"nextSibling")},prev:function(n){return at(n,"previousSibling")},nextAll:function(n){return Mt(n,"nextSibling")},prevAll:function(n){return Mt(n,"previousSibling")},nextUntil:function(n,o,a){return Mt(n,"nextSibling",a)},prevUntil:function(n,o,a){return Mt(n,"previousSibling",a)},siblings:function(n){return Yi((n.parentNode||{}).firstChild,n)},children:function(n){return Yi(n.firstChild)},contents:function(n){return n.contentDocument!=null&&w(n.contentDocument)?n.contentDocument:(ne(n,"template")&&(n=n.content||n),u.merge([],n.childNodes))}},function(n,o){u.fn[n]=function(a,s){var f=u.map(this,o,a);return n.slice(-5)!=="Until"&&(s=a),s&&typeof s=="string"&&(f=u.filter(s,f)),this.length>1&&(ro[n]||u.uniqueSort(f),io.test(n)&&f.reverse()),this.pushStack(f)}});function Jt(n){var o={};return u.each(n.match(Ge)||[],function(a,s){o[s]=!0}),o}u.Callbacks=function(n){n=typeof n=="string"?Jt(n):u.extend({},n);var o,a,s,f,d=[],v=[],S=-1,k=function(){for(f=f||n.once,s=o=!0;v.length;S=-1)for(a=v.shift();++S<d.length;)d[S].apply(a[0],a[1])===!1&&n.stopOnFalse&&(S=d.length,a=!1);n.memory||(a=!1),o=!1,f&&(a?d=[]:d="")},P={add:function(){return d&&(a&&!o&&(S=d.length-1,v.push(a)),function I(M){u.each(M,function(A,O){typeof O=="function"?(!n.unique||!P.has(O))&&d.push(O):O&&O.length&&ae(O)!=="string"&&I(O)})}(arguments),a&&!o&&k()),this},remove:function(){return u.each(arguments,function(I,M){for(var A;(A=u.inArray(M,d,A))>-1;)d.splice(A,1),A<=S&&S--}),this},has:function(I){return I?u.inArray(I,d)>-1:d.length>0},empty:function(){return d&&(d=[]),this},disable:function(){return f=v=[],d=a="",this},disabled:function(){return!d},lock:function(){return f=v=[],!a&&!o&&(d=a=""),this},locked:function(){return!!f},fireWith:function(I,M){return f||(M=M||[],M=[I,M.slice?M.slice():M],v.push(M),o||k()),this},fire:function(){return P.fireWith(this,arguments),this},fired:function(){return!!s}};return P};function wt(n){return n}function Qt(n){throw n}function ti(n,o,a,s){var f;try{n&&typeof(f=n.promise)=="function"?f.call(n).done(o).fail(a):n&&typeof(f=n.then)=="function"?f.call(n,o,a):o.apply(void 0,[n].slice(s))}catch(d){a(d)}}u.extend({Deferred:function(n){var o=[["notify","progress",u.Callbacks("memory"),u.Callbacks("memory"),2],["resolve","done",u.Callbacks("once memory"),u.Callbacks("once memory"),0,"resolved"],["reject","fail",u.Callbacks("once memory"),u.Callbacks("once memory"),1,"rejected"]],a="pending",s={state:function(){return a},always:function(){return f.done(arguments).fail(arguments),this},catch:function(d){return s.then(null,d)},pipe:function(){var d=arguments;return u.Deferred(function(v){u.each(o,function(S,k){var P=typeof d[k[4]]=="function"&&d[k[4]];f[k[1]](function(){var I=P&&P.apply(this,arguments);I&&typeof I.promise=="function"?I.promise().progress(v.notify).done(v.resolve).fail(v.reject):v[k[0]+"With"](this,P?[I]:arguments)})}),d=null}).promise()},then:function(d,v,S){var k=0;function P(I,M,A,O){return function(){var W=this,J=arguments,X=function(){var fe,Re;if(!(I<k)){if(fe=A.apply(W,J),fe===M.promise())throw new TypeError("Thenable self-resolution");Re=fe&&(typeof fe=="object"||typeof fe=="function")&&fe.then,typeof Re=="function"?O?Re.call(fe,P(k,M,wt,O),P(k,M,Qt,O)):(k++,Re.call(fe,P(k,M,wt,O),P(k,M,Qt,O),P(k,M,wt,M.notifyWith))):(A!==wt&&(W=void 0,J=[fe]),(O||M.resolveWith)(W,J))}},ge=O?X:function(){try{X()}catch(fe){u.Deferred.exceptionHook&&u.Deferred.exceptionHook(fe,ge.error),I+1>=k&&(A!==Qt&&(W=void 0,J=[fe]),M.rejectWith(W,J))}};I?ge():(u.Deferred.getErrorHook&&(ge.error=u.Deferred.getErrorHook()),l.setTimeout(ge))}}return u.Deferred(function(I){o[0][3].add(P(0,I,typeof S=="function"?S:wt,I.notifyWith)),o[1][3].add(P(0,I,typeof d=="function"?d:wt)),o[2][3].add(P(0,I,typeof v=="function"?v:Qt))}).promise()},promise:function(d){return d!=null?u.extend(d,s):s}},f={};return u.each(o,function(d,v){var S=v[2],k=v[5];s[v[1]]=S.add,k&&S.add(function(){a=k},o[3-d][2].disable,o[3-d][3].disable,o[0][2].lock,o[0][3].lock),S.add(v[3].fire),f[v[0]]=function(){return f[v[0]+"With"](this===f?void 0:this,arguments),this},f[v[0]+"With"]=S.fireWith}),s.promise(f),n&&n.call(f,f),f},when:function(n){var o=arguments.length,a=o,s=Array(a),f=T.call(arguments),d=u.Deferred(),v=function(S){return function(k){s[S]=this,f[S]=arguments.length>1?T.call(arguments):k,--o||d.resolveWith(s,f)}};if(o<=1&&(ti(n,d.done(v(a)).resolve,d.reject,!o),d.state()==="pending"||typeof(f[a]&&f[a].then)=="function"))return d.then();for(;a--;)ti(f[a],v(a),d.reject);return d.promise()}});var Zi=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;u.Deferred.exceptionHook=function(n,o){n&&Zi.test(n.name)&&l.console.warn("jQuery.Deferred exception",n,o)},u.readyException=function(n){l.setTimeout(function(){throw n})};var Pn=u.Deferred();u.fn.ready=function(n){return Pn.then(n).catch(function(o){u.readyException(o)}),this},u.extend({isReady:!1,readyWait:1,ready:function(n){(n===!0?--u.readyWait:u.isReady)||(u.isReady=!0,!(n!==!0&&--u.readyWait>0)&&Pn.resolveWith(z,[u]))}}),u.ready.then=Pn.then;function En(){z.removeEventListener("DOMContentLoaded",En),l.removeEventListener("load",En),u.ready()}z.readyState!=="loading"?l.setTimeout(u.ready):(z.addEventListener("DOMContentLoaded",En),l.addEventListener("load",En));var oo=/-([a-z])/g;function ao(n,o){return o.toUpperCase()}function Ct(n){return n.replace(oo,ao)}function Zt(n){return n.nodeType===1||n.nodeType===9||!+n.nodeType}function en(){this.expando=u.expando+en.uid++}en.uid=1,en.prototype={cache:function(n){var o=n[this.expando];return o||(o=Object.create(null),Zt(n)&&(n.nodeType?n[this.expando]=o:Object.defineProperty(n,this.expando,{value:o,configurable:!0}))),o},set:function(n,o,a){var s,f=this.cache(n);if(typeof o=="string")f[Ct(o)]=a;else for(s in o)f[Ct(s)]=o[s];return a},get:function(n,o){return o===void 0?this.cache(n):n[this.expando]&&n[this.expando][Ct(o)]},access:function(n,o,a){return o===void 0||o&&typeof o=="string"&&a===void 0?this.get(n,o):(this.set(n,o,a),a!==void 0?a:o)},remove:function(n,o){var a,s=n[this.expando];if(s!==void 0){if(o!==void 0)for(Array.isArray(o)?o=o.map(Ct):(o=Ct(o),o=o in s?[o]:o.match(Ge)||[]),a=o.length;a--;)delete s[o[a]];(o===void 0||u.isEmptyObject(s))&&(n.nodeType?n[this.expando]=void 0:delete n[this.expando])}},hasData:function(n){var o=n[this.expando];return o!==void 0&&!u.isEmptyObject(o)}};var Q=new en,Oe=new en,ni=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,er=/[A-Z]/g;function so(n){return n==="true"?!0:n==="false"?!1:n==="null"?null:n===+n+""?+n:ni.test(n)?JSON.parse(n):n}function An(n,o,a){var s;if(a===void 0&&n.nodeType===1)if(s="data-"+o.replace(er,"-$&").toLowerCase(),a=n.getAttribute(s),typeof a=="string"){try{a=so(a)}catch{}Oe.set(n,o,a)}else a=void 0;return a}u.extend({hasData:function(n){return Oe.hasData(n)||Q.hasData(n)},data:function(n,o,a){return Oe.access(n,o,a)},removeData:function(n,o){Oe.remove(n,o)},_data:function(n,o,a){return Q.access(n,o,a)},_removeData:function(n,o){Q.remove(n,o)}}),u.fn.extend({data:function(n,o){var a,s,f,d=this[0],v=d&&d.attributes;if(n===void 0){if(this.length&&(f=Oe.get(d),d.nodeType===1&&!Q.get(d,"hasDataAttrs"))){for(a=v.length;a--;)v[a]&&(s=v[a].name,s.indexOf("data-")===0&&(s=Ct(s.slice(5)),An(d,s,f[s])));Q.set(d,"hasDataAttrs",!0)}return f}return typeof n=="object"?this.each(function(){Oe.set(this,n)}):it(this,function(S){var k;if(d&&S===void 0)return k=Oe.get(d,n),k!==void 0||(k=An(d,n),k!==void 0)?k:void 0;this.each(function(){Oe.set(this,n,S)})},null,o,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){Oe.remove(this,n)})}}),u.extend({queue:function(n,o,a){var s;if(n)return o=(o||"fx")+"queue",s=Q.get(n,o),a&&(!s||Array.isArray(a)?s=Q.set(n,o,u.makeArray(a)):s.push(a)),s||[]},dequeue:function(n,o){o=o||"fx";var a=u.queue(n,o),s=a.length,f=a.shift(),d=u._queueHooks(n,o),v=function(){u.dequeue(n,o)};f==="inprogress"&&(f=a.shift(),s--),f&&(o==="fx"&&a.unshift("inprogress"),delete d.stop,f.call(n,v,d)),!s&&d&&d.empty.fire()},_queueHooks:function(n,o){var a=o+"queueHooks";return Q.get(n,a)||Q.set(n,a,{empty:u.Callbacks("once memory").add(function(){Q.remove(n,[o+"queue",a])})})}}),u.fn.extend({queue:function(n,o){var a=2;return typeof n!="string"&&(o=n,n="fx",a--),arguments.length<a?u.queue(this[0],n):o===void 0?this:this.each(function(){var s=u.queue(this,n,o);u._queueHooks(this,n),n==="fx"&&s[0]!=="inprogress"&&u.dequeue(this,n)})},dequeue:function(n){return this.each(function(){u.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,o){var a,s=1,f=u.Deferred(),d=this,v=this.length,S=function(){--s||f.resolveWith(d,[d])};for(typeof n!="string"&&(o=n,n=void 0),n=n||"fx";v--;)a=Q.get(d[v],n+"queueHooks"),a&&a.empty&&(s++,a.empty.add(S));return S(),f.promise(o)}});var tr=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,st=new RegExp("^(?:([+-])=|)("+tr+")([a-z%]*)$","i"),gt=["Top","Right","Bottom","Left"];function Ln(n,o){return n=o||n,n.style.display==="none"||n.style.display===""&&u.css(n,"display")==="none"}var nr=/^[a-z]/,ir=/^(?:Border(?:Top|Right|Bottom|Left)?(?:Width|)|(?:Margin|Padding)?(?:Top|Right|Bottom|Left)?|(?:Min|Max)?(?:Width|Height))$/;function _n(n){return nr.test(n)&&ir.test(n[0].toUpperCase()+n.slice(1))}function rr(n,o,a,s){var f,d,v=20,S=s?function(){return s.cur()}:function(){return u.css(n,o,"")},k=S(),P=a&&a[3]||(_n(o)?"px":""),I=n.nodeType&&(!_n(o)||P!=="px"&&+k)&&st.exec(u.css(n,o));if(I&&I[3]!==P){for(k=k/2,P=P||I[3],I=+k||1;v--;)u.style(n,o,I+P),(1-d)*(1-(d=S()/k||.5))<=0&&(v=0),I=I/d;I=I*2,u.style(n,o,I+P),a=a||[]}return a&&(I=+I||+k||0,f=a[1]?I+(a[1]+1)*a[2]:+a[2],s&&(s.unit=P,s.start=I,s.end=f)),f}var lo=/^-ms-/;function ii(n){return Ct(n.replace(lo,"ms-"))}var or={};function C(n){var o,a=n.ownerDocument,s=n.nodeName,f=or[s];return f||(o=a.body.appendChild(a.createElement(s)),f=u.css(o,"display"),o.parentNode.removeChild(o),f==="none"&&(f="block"),or[s]=f,f)}function Qe(n,o){for(var a,s,f=[],d=0,v=n.length;d<v;d++)s=n[d],s.style&&(a=s.style.display,o?(a==="none"&&(f[d]=Q.get(s,"display")||null,f[d]||(s.style.display="")),s.style.display===""&&Ln(s)&&(f[d]=C(s))):a!=="none"&&(f[d]="none",Q.set(s,"display",a)));for(d=0;d<v;d++)f[d]!=null&&(n[d].style.display=f[d]);return n}u.fn.extend({show:function(){return Qe(this,!0)},hide:function(){return Qe(this)},toggle:function(n){return typeof n=="boolean"?n?this.show():this.hide():this.each(function(){Ln(this)?u(this).show():u(this).hide()})}});var tn=function(n){return u.contains(n.ownerDocument,n)||n.getRootNode(uo)===n.ownerDocument},uo={composed:!0};pt.getRootNode||(tn=function(n){return u.contains(n.ownerDocument,n)});var ar=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,lt={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};lt.tbody=lt.tfoot=lt.colgroup=lt.caption=lt.thead,lt.th=lt.td;function Me(n,o){var a;return typeof n.getElementsByTagName<"u"?a=m.slice.call(n.getElementsByTagName(o||"*")):typeof n.querySelectorAll<"u"?a=n.querySelectorAll(o||"*"):a=[],o===void 0||o&&ne(n,o)?u.merge([n],a):a}var sr=/^$|^module$|\/(?:java|ecma)script/i;function nn(n,o){for(var a=0,s=n.length;a<s;a++)Q.set(n[a],"globalEval",!o||Q.get(o[a],"globalEval"))}var rn=/<|&#?\w+;/;function lr(n,o,a,s,f){for(var d,v,S,k,P,I,M=o.createDocumentFragment(),A=[],O=0,W=n.length;O<W;O++)if(d=n[O],d||d===0)if(ae(d)==="object"&&(d.nodeType||te(d)))u.merge(A,d.nodeType?[d]:d);else if(!rn.test(d))A.push(o.createTextNode(d));else{for(v=v||M.appendChild(o.createElement("div")),S=(ar.exec(d)||["",""])[1].toLowerCase(),k=lt[S]||m,I=k.length;--I>-1;)v=v.appendChild(o.createElement(k[I]));v.innerHTML=u.htmlPrefilter(d),u.merge(A,v.childNodes),v=M.firstChild,v.textContent=""}for(M.textContent="",O=0;d=A[O++];){if(s&&u.inArray(d,s)>-1){f&&f.push(d);continue}if(P=tn(d),v=Me(M.appendChild(d),"script"),P&&nn(v),a)for(I=0;d=v[I++];)sr.test(d.type||"")&&a.push(d)}return M}function co(n){return n.type=(n.getAttribute("type")!==null)+"/"+n.type,n}function fo(n){return(n.type||"").slice(0,5)==="true/"?n.type=n.type.slice(5):n.removeAttribute("type"),n}function Rt(n,o,a,s){o=L(o);var f,d,v,S,k,P,I=0,M=n.length,A=M-1,O=o[0],W=typeof O=="function";if(W)return n.each(function(J){var X=n.eq(J);o[0]=O.call(this,J,X.html()),Rt(X,o,a,s)});if(M&&(f=lr(o,n[0].ownerDocument,!1,n,s),d=f.firstChild,f.childNodes.length===1&&(f=d),d||s)){for(v=u.map(Me(f,"script"),co),S=v.length;I<M;I++)k=f,I!==A&&(k=u.clone(k,!0,!0),S&&u.merge(v,Me(k,"script"))),a.call(n[I],k,I);if(S)for(P=v[v.length-1].ownerDocument,u.map(v,fo),I=0;I<S;I++)k=v[I],sr.test(k.type||"")&&!Q.get(k,"globalEval")&&u.contains(P,k)&&(k.src&&(k.type||"").toLowerCase()!=="module"?u._evalUrl&&!k.noModule&&u._evalUrl(k.src,{nonce:k.nonce,crossOrigin:k.crossOrigin},P):ee(k.textContent,k,P))}return n}var In=/^(?:checkbox|radio)$/i,ri=/^([^.]*)(?:\.(.+)|)/;function St(){return!0}function Ze(){return!1}function se(n,o,a,s,f,d){var v,S;if(typeof o=="object"){typeof a!="string"&&(s=s||a,a=void 0);for(S in o)se(n,S,a,s,o[S],d);return n}if(s==null&&f==null?(f=a,s=a=void 0):f==null&&(typeof a=="string"?(f=s,s=void 0):(f=s,s=a,a=void 0)),f===!1)f=Ze;else if(!f)return n;return d===1&&(v=f,f=function(k){return u().off(k),v.apply(this,arguments)},f.guid=v.guid||(v.guid=u.guid++)),n.each(function(){u.event.add(this,o,f,s,a)})}u.event={add:function(n,o,a,s,f){var d,v,S,k,P,I,M,A,O,W,J,X=Q.get(n);if(Zt(n))for(a.handler&&(d=a,a=d.handler,f=d.selector),f&&u.find.matchesSelector(pt,f),a.guid||(a.guid=u.guid++),(k=X.events)||(k=X.events=Object.create(null)),(v=X.handle)||(v=X.handle=function(ge){return typeof u<"u"&&u.event.triggered!==ge.type?u.event.dispatch.apply(n,arguments):void 0}),o=(o||"").match(Ge)||[""],P=o.length;P--;)S=ri.exec(o[P])||[],O=J=S[1],W=(S[2]||"").split(".").sort(),O&&(M=u.event.special[O]||{},O=(f?M.delegateType:M.bindType)||O,M=u.event.special[O]||{},I=u.extend({type:O,origType:J,data:s,handler:a,guid:a.guid,selector:f,needsContext:f&&u.expr.match.needsContext.test(f),namespace:W.join(".")},d),(A=k[O])||(A=k[O]=[],A.delegateCount=0,(!M.setup||M.setup.call(n,s,W,v)===!1)&&n.addEventListener&&n.addEventListener(O,v)),M.add&&(M.add.call(n,I),I.handler.guid||(I.handler.guid=a.guid)),f?A.splice(A.delegateCount++,0,I):A.push(I))},remove:function(n,o,a,s,f){var d,v,S,k,P,I,M,A,O,W,J,X=Q.hasData(n)&&Q.get(n);if(!(!X||!(k=X.events))){for(o=(o||"").match(Ge)||[""],P=o.length;P--;){if(S=ri.exec(o[P])||[],O=J=S[1],W=(S[2]||"").split(".").sort(),!O){for(O in k)u.event.remove(n,O+o[P],a,s,!0);continue}for(M=u.event.special[O]||{},O=(s?M.delegateType:M.bindType)||O,A=k[O]||[],S=S[2]&&new RegExp("(^|\\.)"+W.join("\\.(?:.*\\.|)")+"(\\.|$)"),v=d=A.length;d--;)I=A[d],(f||J===I.origType)&&(!a||a.guid===I.guid)&&(!S||S.test(I.namespace))&&(!s||s===I.selector||s==="**"&&I.selector)&&(A.splice(d,1),I.selector&&A.delegateCount--,M.remove&&M.remove.call(n,I));v&&!A.length&&((!M.teardown||M.teardown.call(n,W,X.handle)===!1)&&u.removeEvent(n,O,X.handle),delete k[O])}u.isEmptyObject(k)&&Q.remove(n,"handle events")}},dispatch:function(n){var o,a,s,f,d,v,S=new Array(arguments.length),k=u.event.fix(n),P=(Q.get(this,"events")||Object.create(null))[k.type]||[],I=u.event.special[k.type]||{};for(S[0]=k,o=1;o<arguments.length;o++)S[o]=arguments[o];if(k.delegateTarget=this,!(I.preDispatch&&I.preDispatch.call(this,k)===!1)){for(v=u.event.handlers.call(this,k,P),o=0;(f=v[o++])&&!k.isPropagationStopped();)for(k.currentTarget=f.elem,a=0;(d=f.handlers[a++])&&!k.isImmediatePropagationStopped();)(!k.rnamespace||d.namespace===!1||k.rnamespace.test(d.namespace))&&(k.handleObj=d,k.data=d.data,s=((u.event.special[d.origType]||{}).handle||d.handler).apply(f.elem,S),s!==void 0&&(k.result=s)===!1&&(k.preventDefault(),k.stopPropagation()));return I.postDispatch&&I.postDispatch.call(this,k),k.result}},handlers:function(n,o){var a,s,f,d,v,S=[],k=o.delegateCount,P=n.target;if(k&&!(n.type==="click"&&n.button>=1)){for(;P!==this;P=P.parentNode||this)if(P.nodeType===1&&!(n.type==="click"&&P.disabled===!0)){for(d=[],v={},a=0;a<k;a++)s=o[a],f=s.selector+" ",v[f]===void 0&&(v[f]=s.needsContext?u(f,this).index(P)>-1:u.find(f,this,null,[P]).length),v[f]&&d.push(s);d.length&&S.push({elem:P,handlers:d})}}return P=this,k<o.length&&S.push({elem:P,handlers:o.slice(k)}),S},addProp:function(n,o){Object.defineProperty(u.Event.prototype,n,{enumerable:!0,configurable:!0,get:typeof o=="function"?function(){if(this.originalEvent)return o(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set:function(a){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:a})}})},fix:function(n){return n[u.expando]?n:new u.Event(n)},special:u.extend(Object.create(null),{load:{noBubble:!0},click:{setup:function(n){var o=this||n;return In.test(o.type)&&o.click&&ne(o,"input")&&Ce(o,"click",!0),!1},trigger:function(n){var o=this||n;return In.test(o.type)&&o.click&&ne(o,"input")&&Ce(o,"click"),!0},_default:function(n){var o=n.target;return In.test(o.type)&&o.click&&ne(o,"input")&&Q.get(o,"click")||ne(o,"a")}},beforeunload:{postDispatch:function(n){n.result!==void 0&&n.preventDefault()}}})};function Ce(n,o,a){if(!a){Q.get(n,o)===void 0&&u.event.add(n,o,St);return}Q.set(n,o,!1),u.event.add(n,o,{namespace:!1,handler:function(s){var f,d=Q.get(this,o);if(s.isTrigger&1&&this[o]){if(d.length)(u.event.special[o]||{}).delegateType&&s.stopPropagation();else if(d=T.call(arguments),Q.set(this,o,d),this[o](),f=Q.get(this,o),Q.set(this,o,!1),d!==f)return s.stopImmediatePropagation(),s.preventDefault(),f&&f.value}else d.length&&(Q.set(this,o,{value:u.event.trigger(d[0],d.slice(1),this)}),s.stopPropagation(),s.isImmediatePropagationStopped=St)}})}u.removeEvent=function(n,o,a){n.removeEventListener&&n.removeEventListener(o,a)},u.Event=function(n,o){if(!(this instanceof u.Event))return new u.Event(n,o);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented?St:Ze,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget):this.type=n,o&&u.extend(this,o),this.timeStamp=n&&n.timeStamp||Date.now(),this[u.expando]=!0},u.Event.prototype={constructor:u.Event,isDefaultPrevented:Ze,isPropagationStopped:Ze,isImmediatePropagationStopped:Ze,isSimulated:!1,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=St,n&&!this.isSimulated&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=St,n&&!this.isSimulated&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=St,n&&!this.isSimulated&&n.stopImmediatePropagation(),this.stopPropagation()}},u.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},u.event.addProp),u.each({focus:"focusin",blur:"focusout"},function(n,o){function a(s){var f=u.event.fix(s);f.type=s.type==="focusin"?"focus":"blur",f.isSimulated=!0,f.target===f.currentTarget&&Q.get(this,"handle")(f)}u.event.special[n]={setup:function(){if(Ce(this,n,!0),Ae)this.addEventListener(o,a);else return!1},trigger:function(){return Ce(this,n),!0},teardown:function(){if(Ae)this.removeEventListener(o,a);else return!1},_default:function(s){return Q.get(s.target,n)},delegateType:o}}),u.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,o){u.event.special[n]={delegateType:o,bindType:o,handle:function(a){var s,f=this,d=a.relatedTarget,v=a.handleObj;return(!d||d!==f&&!u.contains(f,d))&&(a.type=v.origType,s=v.handler.apply(this,arguments),a.type=o),s}}}),u.fn.extend({on:function(n,o,a,s){return se(this,n,o,a,s)},one:function(n,o,a,s){return se(this,n,o,a,s,1)},off:function(n,o,a){var s,f;if(n&&n.preventDefault&&n.handleObj)return s=n.handleObj,u(n.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if(typeof n=="object"){for(f in n)this.off(f,o,n[f]);return this}return(o===!1||typeof o=="function")&&(a=o,o=void 0),a===!1&&(a=Ze),this.each(function(){u.event.remove(this,n,a,o)})}});var de=/<script|<style|<link/i;function ur(n,o){return ne(n,"table")&&ne(o.nodeType!==11?o:o.firstChild,"tr")&&u(n).children("tbody")[0]||n}function cr(n,o){var a,s,f,d=Q.get(n,"events");if(o.nodeType===1){if(d){Q.remove(o,"handle events");for(a in d)for(s=0,f=d[a].length;s<f;s++)u.event.add(o,a,d[a][s])}Oe.hasData(n)&&Oe.set(o,u.extend({},Oe.get(n)))}}function $t(n,o,a){for(var s,f=o?u.filter(o,n):n,d=0;(s=f[d])!=null;d++)!a&&s.nodeType===1&&u.cleanData(Me(s)),s.parentNode&&(a&&tn(s)&&nn(Me(s,"script")),s.parentNode.removeChild(s));return n}u.extend({htmlPrefilter:function(n){return n},clone:function(n,o,a){var s,f,d,v,S=n.cloneNode(!0),k=tn(n);if(Ae&&(n.nodeType===1||n.nodeType===11)&&!u.isXMLDoc(n))for(v=Me(S),d=Me(n),s=0,f=d.length;s<f;s++)ne(v[s],"textarea")&&(v[s].defaultValue=d[s].defaultValue);if(o)if(a)for(d=d||Me(n),v=v||Me(S),s=0,f=d.length;s<f;s++)cr(d[s],v[s]);else cr(n,S);return v=Me(S,"script"),v.length>0&&nn(v,!k&&Me(n,"script")),S},cleanData:function(n){for(var o,a,s,f=u.event.special,d=0;(a=n[d])!==void 0;d++)if(Zt(a)){if(o=a[Q.expando]){if(o.events)for(s in o.events)f[s]?u.event.remove(a,s):u.removeEvent(a,s,o.handle);a[Q.expando]=void 0}a[Oe.expando]&&(a[Oe.expando]=void 0)}}}),u.fn.extend({detach:function(n){return $t(this,n,!0)},remove:function(n){return $t(this,n)},text:function(n){return it(this,function(o){return o===void 0?u.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=o)})},null,n,arguments.length)},append:function(){return Rt(this,arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var o=ur(this,n);o.appendChild(n)}})},prepend:function(){return Rt(this,arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var o=ur(this,n);o.insertBefore(n,o.firstChild)}})},before:function(){return Rt(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return Rt(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},empty:function(){for(var n,o=0;(n=this[o])!=null;o++)n.nodeType===1&&(u.cleanData(Me(n,!1)),n.textContent="");return this},clone:function(n,o){return n=n??!1,o=o??n,this.map(function(){return u.clone(this,n,o)})},html:function(n){return it(this,function(o){var a=this[0]||{},s=0,f=this.length;if(o===void 0&&a.nodeType===1)return a.innerHTML;if(typeof o=="string"&&!de.test(o)&&!lt[(ar.exec(o)||["",""])[1].toLowerCase()]){o=u.htmlPrefilter(o);try{for(;s<f;s++)a=this[s]||{},a.nodeType===1&&(u.cleanData(Me(a,!1)),a.innerHTML=o);a=0}catch{}}a&&this.empty().append(o)},null,n,arguments.length)},replaceWith:function(){var n=[];return Rt(this,arguments,function(o){var a=this.parentNode;u.inArray(this,n)<0&&(u.cleanData(Me(this)),a&&a.replaceChild(o,this))},n)}}),u.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,o){u.fn[n]=function(a){for(var s,f=[],d=u(a),v=d.length-1,S=0;S<=v;S++)s=S===v?this:this.clone(!0),u(d[S])[o](s),_.apply(f,s);return this.pushStack(f)}});var ho=new RegExp("^("+tr+")(?!px)[a-z%]+$","i"),oi=/^--/;function Nn(n){var o=n.ownerDocument.defaultView;return o||(o=l),o.getComputedStyle(n)}function po(n,o,a){var s,f,d={};for(f in o)d[f]=n.style[f],n.style[f]=o[f];s=a.call(n);for(f in o)n.style[f]=d[f];return s}function fr(n,o,a){var s,f=oi.test(o);return a=a||Nn(n),a&&(s=a.getPropertyValue(o)||a[o],f&&s&&(s=s.replace(dt,"$1")||void 0),s===""&&!tn(n)&&(s=u.style(n,o))),s!==void 0?s+"":s}var dr=["Webkit","Moz","ms"],jt=z.createElement("div").style;function vo(n){for(var o=n[0].toUpperCase()+n.slice(1),a=dr.length;a--;)if(n=dr[a]+o,n in jt)return n}function ai(n){return n in jt?n:vo(n)||n}var hr,pr,mt=z.createElement("table");function vr(){if(!(!mt||!mt.style)){var n,o=z.createElement("col"),a=z.createElement("tr"),s=z.createElement("td");if(mt.style.cssText="position:absolute;left:-11111px;border-collapse:separate;border-spacing:0",a.style.cssText="box-sizing:content-box;border:1px solid;height:1px",s.style.cssText="height:9px;width:9px;padding:0",o.span=2,pt.appendChild(mt).appendChild(o).parentNode.appendChild(a).appendChild(s).parentNode.appendChild(s.cloneNode(!0)),mt.offsetWidth===0){pt.removeChild(mt);return}n=l.getComputedStyle(a),pr=Ae||Math.round(parseFloat(l.getComputedStyle(o).width))===18,hr=Math.round(parseFloat(n.height)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth))===a.offsetHeight,pt.removeChild(mt),mt=null}}u.extend(K,{reliableTrDimensions:function(){return vr(),hr},reliableColDimensions:function(){return vr(),pr}});var on={position:"absolute",visibility:"hidden",display:"block"},gr={letterSpacing:"0",fontWeight:"400"};function mr(n,o,a){var s=st.exec(o);return s?Math.max(0,s[2]-(a||0))+(s[3]||"px"):o}function yr(n,o,a,s,f,d){var v=o==="width"?1:0,S=0,k=0,P=0;if(a===(s?"border":"content"))return 0;for(;v<4;v+=2)a==="margin"&&(P+=u.css(n,a+gt[v],!0,f)),s?(a==="content"&&(k-=u.css(n,"padding"+gt[v],!0,f)),a!=="margin"&&(k-=u.css(n,"border"+gt[v]+"Width",!0,f))):(k+=u.css(n,"padding"+gt[v],!0,f),a!=="padding"?k+=u.css(n,"border"+gt[v]+"Width",!0,f):S+=u.css(n,"border"+gt[v]+"Width",!0,f));return!s&&d>=0&&(k+=Math.max(0,Math.ceil(n["offset"+o[0].toUpperCase()+o.slice(1)]-d-k-S-.5))||0),k+P}function br(n,o,a){var s=Nn(n),f=Ae||a,d=f&&u.css(n,"boxSizing",!1,s)==="border-box",v=d,S=fr(n,o,s),k="offset"+o[0].toUpperCase()+o.slice(1);if(ho.test(S)){if(!a)return S;S="auto"}return(S==="auto"||Ae&&d||!K.reliableColDimensions()&&ne(n,"col")||!K.reliableTrDimensions()&&ne(n,"tr"))&&n.getClientRects().length&&(d=u.css(n,"boxSizing",!1,s)==="border-box",v=k in n,v&&(S=n[k])),S=parseFloat(S)||0,S+yr(n,o,a||(d?"border":"content"),v,s,S)+"px"}u.extend({cssHooks:{},style:function(n,o,a,s){if(!(!n||n.nodeType===3||n.nodeType===8||!n.style)){var f,d,v,S=ii(o),k=oi.test(o),P=n.style;if(k||(o=ai(S)),v=u.cssHooks[o]||u.cssHooks[S],a!==void 0){if(d=typeof a,d==="string"&&(f=st.exec(a))&&f[1]&&(a=rr(n,o,f),d="number"),a==null||a!==a)return;d==="number"&&(a+=f&&f[3]||(_n(S)?"px":"")),Ae&&a===""&&o.indexOf("background")===0&&(P[o]="inherit"),(!v||!("set"in v)||(a=v.set(n,a,s))!==void 0)&&(k?P.setProperty(o,a):P[o]=a)}else return v&&"get"in v&&(f=v.get(n,!1,s))!==void 0?f:P[o]}},css:function(n,o,a,s){var f,d,v,S=ii(o),k=oi.test(o);return k||(o=ai(S)),v=u.cssHooks[o]||u.cssHooks[S],v&&"get"in v&&(f=v.get(n,!0,a)),f===void 0&&(f=fr(n,o,s)),f==="normal"&&o in gr&&(f=gr[o]),a===""||a?(d=parseFloat(f),a===!0||isFinite(d)?d||0:f):f}}),u.each(["height","width"],function(n,o){u.cssHooks[o]={get:function(a,s,f){if(s)return u.css(a,"display")==="none"?po(a,on,function(){return br(a,o,f)}):br(a,o,f)},set:function(a,s,f){var d,v=Nn(a),S=f&&u.css(a,"boxSizing",!1,v)==="border-box",k=f?yr(a,o,f,S,v):0;return k&&(d=st.exec(s))&&(d[3]||"px")!=="px"&&(a.style[o]=s,s=u.css(a,o)),mr(a,s,k)}}}),u.each({margin:"",padding:"",border:"Width"},function(n,o){u.cssHooks[n+o]={expand:function(a){for(var s=0,f={},d=typeof a=="string"?a.split(" "):[a];s<4;s++)f[n+gt[s]+o]=d[s]||d[s-2]||d[0];return f}},n!=="margin"&&(u.cssHooks[n+o].set=mr)}),u.fn.extend({css:function(n,o){return it(this,function(a,s,f){var d,v,S={},k=0;if(Array.isArray(s)){for(d=Nn(a),v=s.length;k<v;k++)S[s[k]]=u.css(a,s[k],!1,d);return S}return f!==void 0?u.style(a,s,f):u.css(a,s)},n,o,arguments.length>1)}});function Be(n,o,a,s,f){return new Be.prototype.init(n,o,a,s,f)}u.Tween=Be,Be.prototype={constructor:Be,init:function(n,o,a,s,f,d){this.elem=n,this.prop=a,this.easing=f||u.easing._default,this.options=o,this.start=this.now=this.cur(),this.end=s,this.unit=d||(_n(a)?"px":"")},cur:function(){var n=Be.propHooks[this.prop];return n&&n.get?n.get(this):Be.propHooks._default.get(this)},run:function(n){var o,a=Be.propHooks[this.prop];return this.options.duration?this.pos=o=u.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):this.pos=o=n,this.now=(this.end-this.start)*o+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),a&&a.set?a.set(this):Be.propHooks._default.set(this),this}},Be.prototype.init.prototype=Be.prototype,Be.propHooks={_default:{get:function(n){var o;return n.elem.nodeType!==1||n.elem[n.prop]!=null&&n.elem.style[n.prop]==null?n.elem[n.prop]:(o=u.css(n.elem,n.prop,""),!o||o==="auto"?0:o)},set:function(n){u.fx.step[n.prop]?u.fx.step[n.prop](n):n.elem.nodeType===1&&(u.cssHooks[n.prop]||n.elem.style[ai(n.prop)]!=null)?u.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}},u.easing={linear:function(n){return n},swing:function(n){return .5-Math.cos(n*Math.PI)/2},_default:"swing"},u.fx=Be.prototype.init,u.fx.step={};var xt,yt,go=/^(?:toggle|show|hide)$/,mo=/queueHooks$/;function si(){yt&&(z.hidden===!1&&l.requestAnimationFrame?l.requestAnimationFrame(si):l.setTimeout(si,13),u.fx.tick())}function kr(){return l.setTimeout(function(){xt=void 0}),xt=Date.now()}function Dn(n,o){var a,s=0,f={height:n};for(o=o?1:0;s<4;s+=2-o)a=gt[s],f["margin"+a]=f["padding"+a]=n;return o&&(f.opacity=f.width=n),f}function wr(n,o,a){for(var s,f=(We.tweeners[o]||[]).concat(We.tweeners["*"]),d=0,v=f.length;d<v;d++)if(s=f[d].call(a,o,n))return s}function an(n,o,a){var s,f,d,v,S,k,P,I,M="width"in o||"height"in o,A=this,O={},W=n.style,J=n.nodeType&&Ln(n),X=Q.get(n,"fxshow");a.queue||(v=u._queueHooks(n,"fx"),v.unqueued==null&&(v.unqueued=0,S=v.empty.fire,v.empty.fire=function(){v.unqueued||S()}),v.unqueued++,A.always(function(){A.always(function(){v.unqueued--,u.queue(n,"fx").length||v.empty.fire()})}));for(s in o)if(f=o[s],go.test(f)){if(delete o[s],d=d||f==="toggle",f===(J?"hide":"show"))if(f==="show"&&X&&X[s]!==void 0)J=!0;else continue;O[s]=X&&X[s]||u.style(n,s)}if(k=!u.isEmptyObject(o),!(!k&&u.isEmptyObject(O))){M&&n.nodeType===1&&(a.overflow=[W.overflow,W.overflowX,W.overflowY],P=X&&X.display,P==null&&(P=Q.get(n,"display")),I=u.css(n,"display"),I==="none"&&(P?I=P:(Qe([n],!0),P=n.style.display||P,I=u.css(n,"display"),Qe([n]))),(I==="inline"||I==="inline-block"&&P!=null)&&u.css(n,"float")==="none"&&(k||(A.done(function(){W.display=P}),P==null&&(I=W.display,P=I==="none"?"":I)),W.display="inline-block")),a.overflow&&(W.overflow="hidden",A.always(function(){W.overflow=a.overflow[0],W.overflowX=a.overflow[1],W.overflowY=a.overflow[2]})),k=!1;for(s in O)k||(X?"hidden"in X&&(J=X.hidden):X=Q.set(n,"fxshow",{display:P}),d&&(X.hidden=!J),J&&Qe([n],!0),A.done(function(){J||Qe([n]),Q.remove(n,"fxshow");for(s in O)u.style(n,s,O[s])})),k=wr(J?X[s]:0,s,A),s in X||(X[s]=k.start,J&&(k.end=k.start,k.start=0))}}function yo(n,o){var a,s,f,d,v;for(a in n)if(s=ii(a),f=o[s],d=n[a],Array.isArray(d)&&(f=d[1],d=n[a]=d[0]),a!==s&&(n[s]=d,delete n[a]),v=u.cssHooks[s],v&&"expand"in v){d=v.expand(d),delete n[s];for(a in d)a in n||(n[a]=d[a],o[a]=f)}else o[s]=f}function We(n,o,a){var s,f,d=0,v=We.prefilters.length,S=u.Deferred().always(function(){delete k.elem}),k=function(){if(f)return!1;for(var M=xt||kr(),A=Math.max(0,P.startTime+P.duration-M),O=1-(A/P.duration||0),W=0,J=P.tweens.length;W<J;W++)P.tweens[W].run(O);return S.notifyWith(n,[P,O,A]),O<1&&J?A:(J||S.notifyWith(n,[P,1,0]),S.resolveWith(n,[P]),!1)},P=S.promise({elem:n,props:u.extend({},o),opts:u.extend(!0,{specialEasing:{},easing:u.easing._default},a),originalProperties:o,originalOptions:a,startTime:xt||kr(),duration:a.duration,tweens:[],createTween:function(M,A){var O=u.Tween(n,P.opts,M,A,P.opts.specialEasing[M]||P.opts.easing);return P.tweens.push(O),O},stop:function(M){var A=0,O=M?P.tweens.length:0;if(f)return this;for(f=!0;A<O;A++)P.tweens[A].run(1);return M?(S.notifyWith(n,[P,1,0]),S.resolveWith(n,[P,M])):S.rejectWith(n,[P,M]),this}}),I=P.props;for(yo(I,P.opts.specialEasing);d<v;d++)if(s=We.prefilters[d].call(P,n,I,P.opts),s)return typeof s.stop=="function"&&(u._queueHooks(P.elem,P.opts.queue).stop=s.stop.bind(s)),s;return u.map(I,wr,P),typeof P.opts.start=="function"&&P.opts.start.call(n,P),P.progress(P.opts.progress).done(P.opts.done,P.opts.complete).fail(P.opts.fail).always(P.opts.always),u.fx.timer(u.extend(k,{elem:n,anim:P,queue:P.opts.queue})),P}u.Animation=u.extend(We,{tweeners:{"*":[function(n,o){var a=this.createTween(n,o);return rr(a.elem,n,st.exec(o),a),a}]},tweener:function(n,o){typeof n=="function"?(o=n,n=["*"]):n=n.match(Ge);for(var a,s=0,f=n.length;s<f;s++)a=n[s],We.tweeners[a]=We.tweeners[a]||[],We.tweeners[a].unshift(o)},prefilters:[an],prefilter:function(n,o){o?We.prefilters.unshift(n):We.prefilters.push(n)}}),u.speed=function(n,o,a){var s=n&&typeof n=="object"?u.extend({},n):{complete:a||o||typeof n=="function"&&n,duration:n,easing:a&&o||o&&typeof o!="function"&&o};return u.fx.off?s.duration=0:typeof s.duration!="number"&&(s.duration in u.fx.speeds?s.duration=u.fx.speeds[s.duration]:s.duration=u.fx.speeds._default),(s.queue==null||s.queue===!0)&&(s.queue="fx"),s.old=s.complete,s.complete=function(){typeof s.old=="function"&&s.old.call(this),s.queue&&u.dequeue(this,s.queue)},s},u.fn.extend({fadeTo:function(n,o,a,s){return this.filter(Ln).css("opacity",0).show().end().animate({opacity:o},n,a,s)},animate:function(n,o,a,s){var f=u.isEmptyObject(n),d=u.speed(o,a,s),v=function(){var S=We(this,u.extend({},n),d);(f||Q.get(this,"finish"))&&S.stop(!0)};return v.finish=v,f||d.queue===!1?this.each(v):this.queue(d.queue,v)},stop:function(n,o,a){var s=function(f){var d=f.stop;delete f.stop,d(a)};return typeof n!="string"&&(a=o,o=n,n=void 0),o&&this.queue(n||"fx",[]),this.each(function(){var f=!0,d=n!=null&&n+"queueHooks",v=u.timers,S=Q.get(this);if(d)S[d]&&S[d].stop&&s(S[d]);else for(d in S)S[d]&&S[d].stop&&mo.test(d)&&s(S[d]);for(d=v.length;d--;)v[d].elem===this&&(n==null||v[d].queue===n)&&(v[d].anim.stop(a),f=!1,v.splice(d,1));(f||!a)&&u.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var o,a=Q.get(this),s=a[n+"queue"],f=a[n+"queueHooks"],d=u.timers,v=s?s.length:0;for(a.finish=!0,u.queue(this,n,[]),f&&f.stop&&f.stop.call(this,!0),o=d.length;o--;)d[o].elem===this&&d[o].queue===n&&(d[o].anim.stop(!0),d.splice(o,1));for(o=0;o<v;o++)s[o]&&s[o].finish&&s[o].finish.call(this);delete a.finish})}}),u.each(["toggle","show","hide"],function(n,o){var a=u.fn[o];u.fn[o]=function(s,f,d){return s==null||typeof s=="boolean"?a.apply(this,arguments):this.animate(Dn(o,!0),s,f,d)}}),u.each({slideDown:Dn("show"),slideUp:Dn("hide"),slideToggle:Dn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,o){u.fn[n]=function(a,s,f){return this.animate(o,a,s,f)}}),u.timers=[],u.fx.tick=function(){var n,o=0,a=u.timers;for(xt=Date.now();o<a.length;o++)n=a[o],!n()&&a[o]===n&&a.splice(o--,1);a.length||u.fx.stop(),xt=void 0},u.fx.timer=function(n){u.timers.push(n),u.fx.start()},u.fx.start=function(){yt||(yt=!0,si())},u.fx.stop=function(){yt=null},u.fx.speeds={slow:600,fast:200,_default:400},u.fn.delay=function(n,o){return n=u.fx&&u.fx.speeds[n]||n,o=o||"fx",this.queue(o,function(a,s){var f=l.setTimeout(a,n);s.stop=function(){l.clearTimeout(f)}})};var bo=/^(?:input|select|textarea|button)$/i,ko=/^(?:a|area)$/i;u.fn.extend({prop:function(n,o){return it(this,u.prop,n,o,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[u.propFix[n]||n]})}}),u.extend({prop:function(n,o,a){var s,f,d=n.nodeType;if(!(d===3||d===8||d===2))return(d!==1||!u.isXMLDoc(n))&&(o=u.propFix[o]||o,f=u.propHooks[o]),a!==void 0?f&&"set"in f&&(s=f.set(n,a,o))!==void 0?s:n[o]=a:f&&"get"in f&&(s=f.get(n,o))!==null?s:n[o]},propHooks:{tabIndex:{get:function(n){var o=n.getAttribute("tabindex");return o?parseInt(o,10):bo.test(n.nodeName)||ko.test(n.nodeName)&&n.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Ae&&(u.propHooks.selected={get:function(n){var o=n.parentNode;return o&&o.parentNode&&o.parentNode.selectedIndex,null},set:function(n){var o=n.parentNode;o&&(o.selectedIndex,o.parentNode&&o.parentNode.selectedIndex)}}),u.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){u.propFix[this.toLowerCase()]=this});function Tt(n){var o=n.match(Ge)||[];return o.join(" ")}function le(n){return n.getAttribute&&n.getAttribute("class")||""}function li(n){return Array.isArray(n)?n:typeof n=="string"?n.match(Ge)||[]:[]}u.fn.extend({addClass:function(n){var o,a,s,f,d,v;return typeof n=="function"?this.each(function(S){u(this).addClass(n.call(this,S,le(this)))}):(o=li(n),o.length?this.each(function(){if(s=le(this),a=this.nodeType===1&&" "+Tt(s)+" ",a){for(d=0;d<o.length;d++)f=o[d],a.indexOf(" "+f+" ")<0&&(a+=f+" ");v=Tt(a),s!==v&&this.setAttribute("class",v)}}):this)},removeClass:function(n){var o,a,s,f,d,v;return typeof n=="function"?this.each(function(S){u(this).removeClass(n.call(this,S,le(this)))}):arguments.length?(o=li(n),o.length?this.each(function(){if(s=le(this),a=this.nodeType===1&&" "+Tt(s)+" ",a){for(d=0;d<o.length;d++)for(f=o[d];a.indexOf(" "+f+" ")>-1;)a=a.replace(" "+f+" "," ");v=Tt(a),s!==v&&this.setAttribute("class",v)}}):this):this.attr("class","")},toggleClass:function(n,o){var a,s,f,d;return typeof n=="function"?this.each(function(v){u(this).toggleClass(n.call(this,v,le(this),o),o)}):typeof o=="boolean"?o?this.addClass(n):this.removeClass(n):(a=li(n),a.length?this.each(function(){for(d=u(this),f=0;f<a.length;f++)s=a[f],d.hasClass(s)?d.removeClass(s):d.addClass(s)}):this)},hasClass:function(n){var o,a,s=0;for(o=" "+n+" ";a=this[s++];)if(a.nodeType===1&&(" "+Tt(le(a))+" ").indexOf(o)>-1)return!0;return!1}}),u.fn.extend({val:function(n){var o,a,s,f=this[0];return arguments.length?(s=typeof n=="function",this.each(function(d){var v;this.nodeType===1&&(s?v=n.call(this,d,u(this).val()):v=n,v==null?v="":typeof v=="number"?v+="":Array.isArray(v)&&(v=u.map(v,function(S){return S==null?"":S+""})),o=u.valHooks[this.type]||u.valHooks[this.nodeName.toLowerCase()],(!o||!("set"in o)||o.set(this,v,"value")===void 0)&&(this.value=v))})):f?(o=u.valHooks[f.type]||u.valHooks[f.nodeName.toLowerCase()],o&&"get"in o&&(a=o.get(f,"value"))!==void 0?a:(a=f.value,a??"")):void 0}}),u.extend({valHooks:{select:{get:function(n){var o,a,s,f=n.options,d=n.selectedIndex,v=n.type==="select-one",S=v?null:[],k=v?d+1:f.length;for(d<0?s=k:s=v?d:0;s<k;s++)if(a=f[s],a.selected&&!a.disabled&&(!a.parentNode.disabled||!ne(a.parentNode,"optgroup"))){if(o=u(a).val(),v)return o;S.push(o)}return S},set:function(n,o){for(var a,s,f=n.options,d=u.makeArray(o),v=f.length;v--;)s=f[v],(s.selected=u.inArray(u(s).val(),d)>-1)&&(a=!0);return a||(n.selectedIndex=-1),d}}}}),Ae&&(u.valHooks.option={get:function(n){var o=n.getAttribute("value");return o??Tt(u.text(n))}}),u.each(["radio","checkbox"],function(){u.valHooks[this]={set:function(n,o){if(Array.isArray(o))return n.checked=u.inArray(u(n).val(),o)>-1}}});var Ft=/^(?:focusinfocus|focusoutblur)$/,Cr=function(n){n.stopPropagation()};u.extend(u.event,{trigger:function(n,o,a,s){var f,d,v,S,k,P,I,M,A=[a||z],O=B.call(n,"type")?n.type:n,W=B.call(n,"namespace")?n.namespace.split("."):[];if(d=M=v=a=a||z,!(a.nodeType===3||a.nodeType===8)&&!Ft.test(O+u.event.triggered)&&(O.indexOf(".")>-1&&(W=O.split("."),O=W.shift(),W.sort()),k=O.indexOf(":")<0&&"on"+O,n=n[u.expando]?n:new u.Event(O,typeof n=="object"&&n),n.isTrigger=s?2:3,n.namespace=W.join("."),n.rnamespace=n.namespace?new RegExp("(^|\\.)"+W.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=void 0,n.target||(n.target=a),o=o==null?[n]:u.makeArray(o,[n]),I=u.event.special[O]||{},!(!s&&I.trigger&&I.trigger.apply(a,o)===!1))){if(!s&&!I.noBubble&&!G(a)){for(S=I.delegateType||O,Ft.test(S+O)||(d=d.parentNode);d;d=d.parentNode)A.push(d),v=d;v===(a.ownerDocument||z)&&A.push(v.defaultView||v.parentWindow||l)}for(f=0;(d=A[f++])&&!n.isPropagationStopped();)M=d,n.type=f>1?S:I.bindType||O,P=(Q.get(d,"events")||Object.create(null))[n.type]&&Q.get(d,"handle"),P&&P.apply(d,o),P=k&&d[k],P&&P.apply&&Zt(d)&&(n.result=P.apply(d,o),n.result===!1&&n.preventDefault());return n.type=O,!s&&!n.isDefaultPrevented()&&(!I._default||I._default.apply(A.pop(),o)===!1)&&Zt(a)&&k&&typeof a[O]=="function"&&!G(a)&&(v=a[k],v&&(a[k]=null),u.event.triggered=O,n.isPropagationStopped()&&M.addEventListener(O,Cr),a[O](),n.isPropagationStopped()&&M.removeEventListener(O,Cr),u.event.triggered=void 0,v&&(a[k]=v)),n.result}},simulate:function(n,o,a){var s=u.extend(new u.Event,a,{type:n,isSimulated:!0});u.event.trigger(s,null,o)}}),u.fn.extend({trigger:function(n,o){return this.each(function(){u.event.trigger(n,o,this)})},triggerHandler:function(n,o){var a=this[0];if(a)return u.event.trigger(n,o,a,!0)}});var sn=l.location,Sr={guid:Date.now()},ui=/\?/;u.parseXML=function(n){var o,a;if(!n||typeof n!="string")return null;try{o=new l.DOMParser().parseFromString(n,"text/xml")}catch{}return a=o&&o.getElementsByTagName("parsererror")[0],(!o||a)&&u.error("Invalid XML: "+(a?u.map(a.childNodes,function(s){return s.textContent}).join(`
`):n)),o};var wo=/\[\]$/,xr=/\r?\n/g,Co=/^(?:submit|button|image|reset|file)$/i,So=/^(?:input|select|textarea|keygen)/i;function ci(n,o,a,s){var f;if(Array.isArray(o))u.each(o,function(d,v){a||wo.test(n)?s(n,v):ci(n+"["+(typeof v=="object"&&v!=null?d:"")+"]",v,a,s)});else if(!a&&ae(o)==="object")for(f in o)ci(n+"["+f+"]",o[f],a,s);else s(n,o)}u.param=function(n,o){var a,s=[],f=function(d,v){var S=typeof v=="function"?v():v;s[s.length]=encodeURIComponent(d)+"="+encodeURIComponent(S??"")};if(n==null)return"";if(Array.isArray(n)||n.jquery&&!u.isPlainObject(n))u.each(n,function(){f(this.name,this.value)});else for(a in n)ci(a,n[a],o,f);return s.join("&")},u.fn.extend({serialize:function(){return u.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=u.prop(this,"elements");return n?u.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!u(this).is(":disabled")&&So.test(this.nodeName)&&!Co.test(n)&&(this.checked||!In.test(n))}).map(function(n,o){var a=u(this).val();return a==null?null:Array.isArray(a)?u.map(a,function(s){return{name:o.name,value:s.replace(xr,`\r
`)}}):{name:o.name,value:a.replace(xr,`\r
`)}}).get()}});var xo=/%20/g,ln=/#.*$/,To=/([?&])_=[^&]*/,Po=/^(.*?):[ \t]*([^\r\n]*)$/mg,Eo=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ao=/^(?:GET|HEAD)$/,Lo=/^\/\//,Tr={},Pt={},Pr="*/".concat("*"),fi=z.createElement("a");fi.href=sn.href;function Er(n){return function(o,a){typeof o!="string"&&(a=o,o="*");var s,f=0,d=o.toLowerCase().match(Ge)||[];if(typeof a=="function")for(;s=d[f++];)s[0]==="+"?(s=s.slice(1)||"*",(n[s]=n[s]||[]).unshift(a)):(n[s]=n[s]||[]).push(a)}}function Ar(n,o,a,s){var f={},d=n===Pt;function v(S){var k;return f[S]=!0,u.each(n[S]||[],function(P,I){var M=I(o,a,s);if(typeof M=="string"&&!d&&!f[M])return o.dataTypes.unshift(M),v(M),!1;if(d)return!(k=M)}),k}return v(o.dataTypes[0])||!f["*"]&&v("*")}function di(n,o){var a,s,f=u.ajaxSettings.flatOptions||{};for(a in o)o[a]!==void 0&&((f[a]?n:s||(s={}))[a]=o[a]);return s&&u.extend(!0,n,s),n}function _o(n,o,a){for(var s,f,d,v,S=n.contents,k=n.dataTypes;k[0]==="*";)k.shift(),s===void 0&&(s=n.mimeType||o.getResponseHeader("Content-Type"));if(s){for(f in S)if(S[f]&&S[f].test(s)){k.unshift(f);break}}if(k[0]in a)d=k[0];else{for(f in a){if(!k[0]||n.converters[f+" "+k[0]]){d=f;break}v||(v=f)}d=d||v}if(d)return d!==k[0]&&k.unshift(d),a[d]}function un(n,o,a,s){var f,d,v,S,k,P={},I=n.dataTypes.slice();if(I[1])for(v in n.converters)P[v.toLowerCase()]=n.converters[v];for(d=I.shift();d;)if(n.responseFields[d]&&(a[n.responseFields[d]]=o),!k&&s&&n.dataFilter&&(o=n.dataFilter(o,n.dataType)),k=d,d=I.shift(),d){if(d==="*")d=k;else if(k!=="*"&&k!==d){if(v=P[k+" "+d]||P["* "+d],!v){for(f in P)if(S=f.split(" "),S[1]===d&&(v=P[k+" "+S[0]]||P["* "+S[0]],v)){v===!0?v=P[f]:P[f]!==!0&&(d=S[0],I.unshift(S[1]));break}}if(v!==!0)if(v&&n.throws)o=v(o);else try{o=v(o)}catch(M){return{state:"parsererror",error:v?M:"No conversion from "+k+" to "+d}}}}return{state:"success",data:o}}u.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:sn.href,type:"GET",isLocal:Eo.test(sn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":u.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,o){return o?di(di(n,u.ajaxSettings),o):di(u.ajaxSettings,n)},ajaxPrefilter:Er(Tr),ajaxTransport:Er(Pt),ajax:function(n,o){typeof n=="object"&&(o=n,n=void 0),o=o||{};var a,s,f,d,v,S,k,P,I,M,A=u.ajaxSetup({},o),O=A.context||A,W=A.context&&(O.nodeType||O.jquery)?u(O):u.event,J=u.Deferred(),X=u.Callbacks("once memory"),ge=A.statusCode||{},fe={},Re={},_e="canceled",oe={readyState:0,getResponseHeader:function(ue){var Se;if(k){if(!d)for(d={};Se=Po.exec(f);)d[Se[1].toLowerCase()+" "]=(d[Se[1].toLowerCase()+" "]||[]).concat(Se[2]);Se=d[ue.toLowerCase()+" "]}return Se==null?null:Se.join(", ")},getAllResponseHeaders:function(){return k?f:null},setRequestHeader:function(ue,Se){return k==null&&(ue=Re[ue.toLowerCase()]=Re[ue.toLowerCase()]||ue,fe[ue]=Se),this},overrideMimeType:function(ue){return k==null&&(A.mimeType=ue),this},statusCode:function(ue){var Se;if(ue)if(k)oe.always(ue[oe.status]);else for(Se in ue)ge[Se]=[ge[Se],ue[Se]];return this},abort:function(ue){var Se=ue||_e;return a&&a.abort(Se),On(0,Se),this}};if(J.promise(oe),A.url=((n||A.url||sn.href)+"").replace(Lo,sn.protocol+"//"),A.type=o.method||o.type||A.method||A.type,A.dataTypes=(A.dataType||"*").toLowerCase().match(Ge)||[""],A.crossDomain==null){S=z.createElement("a");try{S.href=A.url,S.href=S.href,A.crossDomain=fi.protocol+"//"+fi.host!=S.protocol+"//"+S.host}catch{A.crossDomain=!0}}if(Ar(Tr,A,o,oe),A.data&&A.processData&&typeof A.data!="string"&&(A.data=u.param(A.data,A.traditional)),k)return oe;P=u.event&&A.global,P&&u.active++===0&&u.event.trigger("ajaxStart"),A.type=A.type.toUpperCase(),A.hasContent=!Ao.test(A.type),s=A.url.replace(ln,""),A.hasContent?A.data&&A.processData&&(A.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(A.data=A.data.replace(xo,"+")):(M=A.url.slice(s.length),A.data&&(A.processData||typeof A.data=="string")&&(s+=(ui.test(s)?"&":"?")+A.data,delete A.data),A.cache===!1&&(s=s.replace(To,"$1"),M=(ui.test(s)?"&":"?")+"_="+Sr.guid+++M),A.url=s+M),A.ifModified&&(u.lastModified[s]&&oe.setRequestHeader("If-Modified-Since",u.lastModified[s]),u.etag[s]&&oe.setRequestHeader("If-None-Match",u.etag[s])),(A.data&&A.hasContent&&A.contentType!==!1||o.contentType)&&oe.setRequestHeader("Content-Type",A.contentType),oe.setRequestHeader("Accept",A.dataTypes[0]&&A.accepts[A.dataTypes[0]]?A.accepts[A.dataTypes[0]]+(A.dataTypes[0]!=="*"?", "+Pr+"; q=0.01":""):A.accepts["*"]);for(I in A.headers)oe.setRequestHeader(I,A.headers[I]);if(A.beforeSend&&(A.beforeSend.call(O,oe,A)===!1||k))return oe.abort();if(_e="abort",X.add(A.complete),oe.done(A.success),oe.fail(A.error),a=Ar(Pt,A,o,oe),!a)On(-1,"No Transport");else{if(oe.readyState=1,P&&W.trigger("ajaxSend",[oe,A]),k)return oe;A.async&&A.timeout>0&&(v=l.setTimeout(function(){oe.abort("timeout")},A.timeout));try{k=!1,a.send(fe,On)}catch(ue){if(k)throw ue;On(-1,ue)}}function On(ue,Se,Ht,Oo){var bt,vi,cn,Bt,zt,et=Se;k||(k=!0,v&&l.clearTimeout(v),a=void 0,f=Oo||"",oe.readyState=ue>0?4:0,bt=ue>=200&&ue<300||ue===304,Ht&&(Bt=_o(A,oe,Ht)),!bt&&u.inArray("script",A.dataTypes)>-1&&u.inArray("json",A.dataTypes)<0&&(A.converters["text script"]=function(){}),Bt=un(A,Bt,oe,bt),bt?(A.ifModified&&(zt=oe.getResponseHeader("Last-Modified"),zt&&(u.lastModified[s]=zt),zt=oe.getResponseHeader("etag"),zt&&(u.etag[s]=zt)),ue===204||A.type==="HEAD"?et="nocontent":ue===304?et="notmodified":(et=Bt.state,vi=Bt.data,cn=Bt.error,bt=!cn)):(cn=et,(ue||!et)&&(et="error",ue<0&&(ue=0))),oe.status=ue,oe.statusText=(Se||et)+"",bt?J.resolveWith(O,[vi,et,oe]):J.rejectWith(O,[oe,et,cn]),oe.statusCode(ge),ge=void 0,P&&W.trigger(bt?"ajaxSuccess":"ajaxError",[oe,A,bt?vi:cn]),X.fireWith(O,[oe,et]),P&&(W.trigger("ajaxComplete",[oe,A]),--u.active||u.event.trigger("ajaxStop")))}return oe},getJSON:function(n,o,a){return u.get(n,o,a,"json")},getScript:function(n,o){return u.get(n,void 0,o,"script")}}),u.each(["get","post"],function(n,o){u[o]=function(a,s,f,d){return(typeof s=="function"||s===null)&&(d=d||f,f=s,s=void 0),u.ajax(u.extend({url:a,type:o,dataType:d,data:s,success:f},u.isPlainObject(a)&&a))}}),u.ajaxPrefilter(function(n){var o;for(o in n.headers)o.toLowerCase()==="content-type"&&(n.contentType=n.headers[o]||"")}),u._evalUrl=function(n,o,a){return u.ajax({url:n,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,scriptAttrs:o.crossOrigin?{crossOrigin:o.crossOrigin}:void 0,converters:{"text script":function(){}},dataFilter:function(s){u.globalEval(s,o,a)}})},u.fn.extend({wrapAll:function(n){var o;return this[0]&&(typeof n=="function"&&(n=n.call(this[0])),o=u(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&o.insertBefore(this[0]),o.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(n){return typeof n=="function"?this.each(function(o){u(this).wrapInner(n.call(this,o))}):this.each(function(){var o=u(this),a=o.contents();a.length?a.wrapAll(n):o.append(n)})},wrap:function(n){var o=typeof n=="function";return this.each(function(a){u(this).wrapAll(o?n.call(this,a):n)})},unwrap:function(n){return this.parent(n).not("body").each(function(){u(this).replaceWith(this.childNodes)}),this}}),u.expr.pseudos.hidden=function(n){return!u.expr.pseudos.visible(n)},u.expr.pseudos.visible=function(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)},u.ajaxSettings.xhr=function(){return new l.XMLHttpRequest};var Io={0:200};u.ajaxTransport(function(n){var o;return{send:function(a,s){var f,d=n.xhr();if(d.open(n.type,n.url,n.async,n.username,n.password),n.xhrFields)for(f in n.xhrFields)d[f]=n.xhrFields[f];n.mimeType&&d.overrideMimeType&&d.overrideMimeType(n.mimeType),!n.crossDomain&&!a["X-Requested-With"]&&(a["X-Requested-With"]="XMLHttpRequest");for(f in a)d.setRequestHeader(f,a[f]);o=function(v){return function(){o&&(o=d.onload=d.onerror=d.onabort=d.ontimeout=null,v==="abort"?d.abort():v==="error"?s(d.status,d.statusText):s(Io[d.status]||d.status,d.statusText,(d.responseType||"text")==="text"?{text:d.responseText}:{binary:d.response},d.getAllResponseHeaders()))}},d.onload=o(),d.onabort=d.onerror=d.ontimeout=o("error"),o=o("abort");try{d.send(n.hasContent&&n.data||null)}catch(v){if(o)throw v}},abort:function(){o&&o()}}});function Lr(n){return n.scriptAttrs||!n.headers&&(n.crossDomain||n.async&&u.inArray("json",n.dataTypes)<0)}u.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},converters:{"text script":function(n){return u.globalEval(n),n}}}),u.ajaxPrefilter("script",function(n){n.cache===void 0&&(n.cache=!1),Lr(n)&&(n.type="GET")}),u.ajaxTransport("script",function(n){if(Lr(n)){var o,a;return{send:function(s,f){o=u("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",a=function(d){o.remove(),a=null,d&&f(d.type==="error"?404:200,d.type)}),z.head.appendChild(o[0])},abort:function(){a&&a()}}}});var hi=[],pi=/(=)\?(?=&|$)|\?\?/;u.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=hi.pop()||u.expando+"_"+Sr.guid++;return this[n]=!0,n}}),u.ajaxPrefilter("jsonp",function(n,o,a){var s,f,d,v=n.jsonp!==!1&&(pi.test(n.url)?"url":typeof n.data=="string"&&(n.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&pi.test(n.data)&&"data");return s=n.jsonpCallback=typeof n.jsonpCallback=="function"?n.jsonpCallback():n.jsonpCallback,v?n[v]=n[v].replace(pi,"$1"+s):n.jsonp!==!1&&(n.url+=(ui.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return d||u.error(s+" was not called"),d[0]},n.dataTypes[0]="json",f=l[s],l[s]=function(){d=arguments},a.always(function(){f===void 0?u(l).removeProp(s):l[s]=f,n[s]&&(n.jsonpCallback=o.jsonpCallback,hi.push(s)),d&&typeof f=="function"&&f(d[0]),d=f=void 0}),"script"}),u.ajaxPrefilter(function(n,o){typeof n.data!="string"&&!u.isPlainObject(n.data)&&!Array.isArray(n.data)&&!("processData"in o)&&(n.processData=!1),n.data instanceof l.FormData&&(n.contentType=!1)}),u.parseHTML=function(n,o,a){if(typeof n!="string"&&!Xt(n+""))return[];typeof o=="boolean"&&(a=o,o=!1);var s,f;return o||(o=new l.DOMParser().parseFromString("","text/html")),s=Tn.exec(n),f=!a&&[],s?[o.createElement(s[1])]:(s=lr([n],o,f),f&&f.length&&u(f).remove(),u.merge([],s.childNodes))},u.fn.load=function(n,o,a){var s,f,d,v=this,S=n.indexOf(" ");return S>-1&&(s=Tt(n.slice(S)),n=n.slice(0,S)),typeof o=="function"?(a=o,o=void 0):o&&typeof o=="object"&&(f="POST"),v.length>0&&u.ajax({url:n,type:f||"GET",dataType:"html",data:o}).done(function(k){d=arguments,v.html(s?u("<div>").append(u.parseHTML(k)).find(s):k)}).always(a&&function(k,P){v.each(function(){a.apply(this,d||[k.responseText,P,k])})}),this},u.expr.pseudos.animated=function(n){return u.grep(u.timers,function(o){return n===o.elem}).length},u.offset={setOffset:function(n,o,a){var s,f,d,v,S,k,P,I=u.css(n,"position"),M=u(n),A={};I==="static"&&(n.style.position="relative"),S=M.offset(),d=u.css(n,"top"),k=u.css(n,"left"),P=(I==="absolute"||I==="fixed")&&(d+k).indexOf("auto")>-1,P?(s=M.position(),v=s.top,f=s.left):(v=parseFloat(d)||0,f=parseFloat(k)||0),typeof o=="function"&&(o=o.call(n,a,u.extend({},S))),o.top!=null&&(A.top=o.top-S.top+v),o.left!=null&&(A.left=o.left-S.left+f),"using"in o?o.using.call(n,A):M.css(A)}},u.fn.extend({offset:function(n){if(arguments.length)return n===void 0?this:this.each(function(f){u.offset.setOffset(this,n,f)});var o,a,s=this[0];if(s)return s.getClientRects().length?(o=s.getBoundingClientRect(),a=s.ownerDocument.defaultView,{top:o.top+a.pageYOffset,left:o.left+a.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var n,o,a,s=this[0],f={top:0,left:0};if(u.css(s,"position")==="fixed")o=s.getBoundingClientRect();else{for(o=this.offset(),a=s.ownerDocument,n=s.offsetParent||a.documentElement;n&&n!==a.documentElement&&u.css(n,"position")==="static";)n=n.offsetParent||a.documentElement;n&&n!==s&&n.nodeType===1&&u.css(n,"position")!=="static"&&(f=u(n).offset(),f.top+=u.css(n,"borderTopWidth",!0),f.left+=u.css(n,"borderLeftWidth",!0))}return{top:o.top-f.top-u.css(s,"marginTop",!0),left:o.left-f.left-u.css(s,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&u.css(n,"position")==="static";)n=n.offsetParent;return n||pt})}}),u.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,o){var a=o==="pageYOffset";u.fn[n]=function(s){return it(this,function(f,d,v){var S;if(G(f)?S=f:f.nodeType===9&&(S=f.defaultView),v===void 0)return S?S[o]:f[d];S?S.scrollTo(a?S.pageXOffset:v,a?v:S.pageYOffset):f[d]=v},n,s,arguments.length)}}),u.each({Height:"height",Width:"width"},function(n,o){u.each({padding:"inner"+n,content:o,"":"outer"+n},function(a,s){u.fn[s]=function(f,d){var v=arguments.length&&(a||typeof f!="boolean"),S=a||(f===!0||d===!0?"margin":"border");return it(this,function(k,P,I){var M;return G(k)?s.indexOf("outer")===0?k["inner"+n]:k.document.documentElement["client"+n]:k.nodeType===9?(M=k.documentElement,Math.max(k.body["scroll"+n],M["scroll"+n],k.body["offset"+n],M["offset"+n],M["client"+n])):I===void 0?u.css(k,P,S):u.style(k,P,I,S)},o,v?f:void 0,v)}})}),u.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,o){u.fn[o]=function(a){return this.on(o,a)}}),u.fn.extend({bind:function(n,o,a){return this.on(n,null,o,a)},unbind:function(n,o){return this.off(n,null,o)},delegate:function(n,o,a,s){return this.on(o,n,a,s)},undelegate:function(n,o,a){return arguments.length===1?this.off(n,"**"):this.off(o,n||"**",a)},hover:function(n,o){return this.on("mouseenter",n).on("mouseleave",o||n)}}),u.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(n,o){u.fn[o]=function(a,s){return arguments.length>0?this.on(o,null,a,s):this.trigger(o)}}),u.proxy=function(n,o){var a,s,f;if(typeof o=="string"&&(a=n[o],o=n,n=a),typeof n=="function")return s=T.call(arguments,2),f=function(){return n.apply(o||this,s.concat(T.call(arguments)))},f.guid=n.guid=n.guid||u.guid++,f},u.holdReady=function(n){n?u.readyWait++:u.ready(!0)},u.expr[":"]=u.expr.filters=u.expr.pseudos,typeof define=="function"&&define.amd&&define("jquery",[],function(){return u});var No=l.jQuery,Do=l.$;return u.noConflict=function(n){return l.$===u&&(l.$=Do),n&&l.jQuery===u&&(l.jQuery=No),u},u}var $i=Ec(window);const Ac=Object.freeze(Object.defineProperty({__proto__:null,$:$i,default:$i,jQuery:$i},Symbol.toStringTag,{value:"Module"}));var Wo={exports:{}};const Lc=vu(Ac);var Ko,Ta;function _c(){if(Ta)return Ko;Ta=1;const{jQuery:l}=Lc;return Ko=l,Ko}/*!
 * 
 * Super simple WYSIWYG editor v0.9.1
 * https://summernote.org
 *
 * Copyright 2013~ Hackerwins and contributors
 * Summernote may be freely distributed under the MIT license.
 *
 * Date: 2024-10-09T10:28Z
 *
 */var Pa;function Ic(){return Pa||(Pa=1,function(l,p){(function(w,T){l.exports=T(_c())})(self,m=>(()=>{var w={7e3:(i,t,e)=>{var r=e(8938),c=e.n(r);c().summernote=c().summernote||{lang:{}},c().extend(!0,c().summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size",sizeunit:"Font Size Unit"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Google Drive, Vimeo, Vine, Instagram, DailyMotion, Youku, Peertube)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Text Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{escape:"Escape",insertParagraph:"Insert Paragraph",undo:"Undo the last command",redo:"Redo the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"},output:{noSelection:"No Selection Made!"}}})},8938:i=>{i.exports=m}},T={};function L(i){var t=T[i];if(t!==void 0)return t.exports;var e=T[i]={exports:{}};return w[i](e,e.exports,L),e.exports}L.n=i=>{var t=i&&i.__esModule?()=>i.default:()=>i;return L.d(t,{a:t}),t},L.d=(i,t)=>{for(var e in t)L.o(t,e)&&!L.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:t[e]})},L.o=(i,t)=>Object.prototype.hasOwnProperty.call(i,t);var _={},R=L(8938),y=L.n(R);L(7e3);var $=["sans-serif","serif","monospace","cursive","fantasy"];function B(i){return y().inArray(i.toLowerCase(),$)===-1?"'".concat(i,"'"):i}function q(){var i="mw",t="20px",e=40,r=20,c=document.createElement("canvas"),h=c.getContext("2d",{willReadFrequently:!0});c.width=e,c.height=r,h.textAlign="center",h.fillStyle="black",h.textBaseline="middle";function g(b,x){h.clearRect(0,0,e,r),h.font=t+" "+B(b)+', "'+x+'"',h.fillText(i,e/2,r/2);var E=h.getImageData(0,0,e,r).data;return E.join("")}return function(b){var x=b==="Comic Sans MS"?"Courier New":"Comic Sans MS",E=g(x,x),N=g(b,x);return E!==N}}var j=navigator.userAgent,K=/MSIE|Trident/i.test(j),ae;if(K){var G=/MSIE (\d+[.]\d+)/.exec(j);G&&(ae=parseFloat(G[1])),G=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(j),G&&(ae=parseFloat(G[1]))}var te=/Edge\/\d+/.test(j),z="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,ve=K?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";const ee={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:K,isEdge:te,isFF:!te&&/firefox/i.test(j),isPhantom:/PhantomJS/i.test(j),isWebkit:!te&&/webkit/i.test(j),isChrome:!te&&/chrome/i.test(j),isSafari:!te&&/safari/i.test(j)&&!/chrome/i.test(j),browserVersion:ae,isSupportTouch:z,isFontInstalled:q(),isW3CRangeSupport:!!document.createRange,inputEventName:ve,genericFontFamilies:$,validFontName:B};function Ee(i){return function(t){return i===t}}function ke(i,t){return i===t}function u(i){return function(t,e){return t[i]===e[i]}}function ne(){return!0}function Pe(){return!1}function re(i){return function(){return!i.apply(i,arguments)}}function Ae(i,t){return function(e){return i(e)&&t(e)}}function ft(i){return i}function dt(i,t){return function(){return i[t].apply(i,arguments)}}var ht=0;function Bi(){ht=0}function Ur(i){var t=++ht+"";return i?i+t:t}function Kn(i){var t=y()(document);return{top:i.top+t.scrollTop(),left:i.left+t.scrollLeft(),width:i.right-i.left,height:i.bottom-i.top}}function pt(i){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[i[e]]=e);return t}function qr(i,t){return t=t||"",t+i.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")}function gn(i,t,e){var r;return function(){var c=this,h=arguments,g=function(){r=null,e||i.apply(c,h)},b=e&&!r;clearTimeout(r),r=setTimeout(g,t),b&&i.apply(c,h)}}function Vn(i){var t=/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi;return t.test(i)}const ie={eq:Ee,eq2:ke,peq2:u,ok:ne,fail:Pe,self:ft,not:re,and:Ae,invoke:dt,resetUniqueId:Bi,uniqueId:Ur,rect2bnd:Kn,invertObject:pt,namespaceToCamel:qr,debounce:gn,isValidUrl:Vn};function Gn(i){return i[0]}function Kt(i){return i[i.length-1]}function Wr(i){return i.slice(0,i.length-1)}function zi(i){return i.slice(1)}function Kr(i,t){for(var e=0,r=i.length;e<r;e++){var c=i[e];if(t(c))return c}}function vt(i,t){for(var e=0,r=i.length;e<r;e++)if(!t(i[e]))return!1;return!0}function Dt(i,t){if(i&&i.length&&t){if(i.indexOf)return i.indexOf(t)!==-1;if(i.contains)return i.contains(t)}return!1}function Vr(i,t){return t=t||ie.self,i.reduce(function(e,r){return e+t(r)},0)}function Ui(i){for(var t=[],e=i.length,r=-1;++r<e;)t[r]=i[r];return t}function Vt(i){return!i||!i.length}function Gr(i,t){if(!i.length)return[];var e=zi(i);return e.reduce(function(r,c){var h=Kt(r);return t(Kt(h),c)?h[h.length]=c:r[r.length]=[c],r},[[Gn(i)]])}function mn(i){for(var t=[],e=0,r=i.length;e<r;e++)i[e]&&t.push(i[e]);return t}function it(i){for(var t=[],e=0,r=i.length;e<r;e++)Dt(t,i[e])||t.push(i[e]);return t}function Ge(i,t){if(i&&i.length&&t){var e=i.indexOf(t);return e===-1?null:i[e+1]}return null}function Xr(i,t){if(i&&i.length&&t){var e=i.indexOf(t);return e===-1?null:i[e-1]}return null}const F={head:Gn,last:Kt,initial:Wr,tail:zi,prev:Xr,next:Ge,find:Kr,contains:Dt,all:vt,sum:Vr,from:Ui,isEmpty:Vt,clusterBy:Gr,compact:mn,unique:it};var Xn=" ",Yr="\uFEFF";function je(i){return i&&y()(i).hasClass("note-editable")}function Jr(i){return i&&y()(i).hasClass("note-control-sizing")}function ye(i){return i=i.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===i}}function Ne(i){return i&&i.nodeType===3}function Fe(i){return i&&i.nodeType===1}function Gt(i){return i&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(i.nodeName.toUpperCase())}function De(i){return je(i)?!1:i&&/^DIV|^P|^LI|^H[1-7]/.test(i.nodeName.toUpperCase())}function rt(i){return i&&/^H[1-7]/.test(i.nodeName.toUpperCase())}var Qr=ye("PRE"),yn=ye("LI");function qi(i){return De(i)&&!yn(i)}var Ot=ye("TABLE"),Wi=ye("DATA");function bn(i){return!Jn(i)&&!kn(i)&&!Zr(i)&&!De(i)&&!Ot(i)&&!Yn(i)&&!Wi(i)}function kn(i){return i&&/^UL|^OL/.test(i.nodeName.toUpperCase())}var Zr=ye("HR");function Ki(i){return i&&/^TD|^TH/.test(i.nodeName.toUpperCase())}var Yn=ye("BLOCKQUOTE");function Jn(i){return Ki(i)||Yn(i)||je(i)}var Vi=ye("A");function qe(i){return bn(i)&&!!Cn(i,De)}function Xe(i){return bn(i)&&!Cn(i,De)}var eo=ye("BODY");function to(i,t){return i.nextSibling===t||i.previousSibling===t}function Gi(i,t){t=t||ie.ok;var e=[];return i.previousSibling&&t(i.previousSibling)&&e.push(i.previousSibling),e.push(i),i.nextSibling&&t(i.nextSibling)&&e.push(i.nextSibling),e}var Ye=ee.isMSIE&&ee.browserVersion<11?"&nbsp;":"<br>";function Le(i){return Ne(i)?i.nodeValue.length:i?i.childNodes.length:0}function Xi(i){do if(i.firstElementChild===null||i.firstElementChild.innerHTML==="")break;while(i=i.firstElementChild);return ot(i)}function ot(i){var t=Le(i);return t===0||!Ne(i)&&t===1&&i.innerHTML===Ye?!0:!!(F.all(i.childNodes,Ne)&&i.innerHTML==="")}function wn(i){!Gt(i)&&!Le(i)&&(i.innerHTML=Ye)}function Cn(i,t){for(;i;){if(t(i))return i;if(je(i))break;i=i.parentNode}return null}function Sn(i,t){for(i=i.parentNode;i&&Le(i)===1;){if(t(i))return i;if(je(i))break;i=i.parentNode}return null}function Je(i,t){t=t||ie.fail;var e=[];return Cn(i,function(r){return je(r)||e.push(r),t(r)}),e}function Qn(i,t){var e=Je(i);return F.last(e.filter(t))}function no(i,t){for(var e=Je(i),r=t;r;r=r.parentNode)if(e.indexOf(r)>-1)return r;return null}function Zn(i,t){t=t||ie.fail;for(var e=[];i&&!t(i);)e.push(i),i=i.previousSibling;return e}function ei(i,t){t=t||ie.fail;for(var e=[];i&&!t(i);)e.push(i),i=i.nextSibling;return e}function Mt(i,t){var e=[];return t=t||ie.ok,function r(c){i!==c&&t(c)&&e.push(c);for(var h=0,g=c.childNodes.length;h<g;h++)r(c.childNodes[h])}(i),e}function Yi(i,t){var e=i.parentNode,r=y()("<"+t+">")[0];return e.insertBefore(r,i),r.appendChild(i),r}function xn(i,t){var e=t.nextSibling,r=t.parentNode;return e?r.insertBefore(i,e):r.appendChild(i),i}function Tn(i,t,e){return y().each(t,function(r,c){!e&&yn(i)&&i.firstChild===null&&kn(c)&&i.appendChild(An("br")),i.appendChild(c)}),i}function Xt(i){return i.offset===0}function kt(i){return i.offset===Le(i.node)}function Yt(i){return Xt(i)||kt(i)}function Ji(i,t){for(;i&&i!==t;){if(at(i)!==0)return!1;i=i.parentNode}return!0}function Qi(i,t){if(!t)return!1;for(;i&&i!==t;){if(at(i)!==Le(i.parentNode)-1)return!1;i=i.parentNode}return!0}function io(i,t){return Xt(i)&&Ji(i.node,t)}function ro(i,t){return kt(i)&&Qi(i.node,t)}function at(i){for(var t=0;i=i.previousSibling;)t+=1;return t}function Jt(i){return!!(i&&i.childNodes&&i.childNodes.length)}function wt(i,t){var e,r;if(i.offset===0){if(je(i.node))return null;e=i.node.parentNode,r=at(i.node)}else Jt(i.node)?(e=i.node.childNodes[i.offset-1],r=Le(e)):(e=i.node,r=t?0:i.offset-1);return{node:e,offset:r}}function Qt(i,t){var e,r;if(Le(i.node)===i.offset){if(je(i.node))return null;var c=Zi(i.node);c?(e=c,r=0):(e=i.node.parentNode,r=at(i.node)+1)}else Jt(i.node)?(e=i.node.childNodes[i.offset],r=0):(e=i.node,r=t?Le(i.node):i.offset+1);return{node:e,offset:r}}function ti(i,t){var e,r=0;if(Le(i.node)===i.offset){if(je(i.node))return null;e=i.node.parentNode,r=at(i.node)+1,je(e)&&(e=i.node.nextSibling,r=0)}else Jt(i.node)?(e=i.node.childNodes[i.offset],r=0):(e=i.node,r=t?Le(i.node):i.offset+1);return{node:e,offset:r}}function Zi(i){if(i.nextSibling&&i.parent===i.nextSibling.parent)return Ne(i.nextSibling)?i.nextSibling:Zi(i.nextSibling)}function Pn(i,t){return i.node===t.node&&i.offset===t.offset}function En(i){if(Ne(i.node)||!Jt(i.node)||ot(i.node))return!0;var t=i.node.childNodes[i.offset-1],e=i.node.childNodes[i.offset];return!!((!t||Gt(t))&&(!e||Gt(e))||Ot(e))}function oo(i,t){for(;i;){if(t(i))return i;i=wt(i)}return null}function ao(i,t){for(;i;){if(t(i))return i;i=Qt(i)}return null}function Ct(i){if(!Ne(i.node))return!1;var t=i.node.nodeValue.charAt(i.offset-1);return t&&t!==" "&&t!==Xn}function Zt(i){if(!Ne(i.node))return!1;var t=i.node.nodeValue.charAt(i.offset-1);return t===" "||t===Xn}function en(i,t,e,r){for(var c=i;c&&c.node&&(e(c),!Pn(c,t));){var h=r&&i.node!==c.node&&t.node!==c.node;c=ti(c,h)}}function Q(i,t){var e=Je(t,ie.eq(i));return e.map(at).reverse()}function Oe(i,t){for(var e=i,r=0,c=t.length;r<c;r++)e.childNodes.length<=t[r]?e=e.childNodes[e.childNodes.length-1]:e=e.childNodes[t[r]];return e}function ni(i,t){var e=t&&t.isSkipPaddingBlankHTML,r=t&&t.isNotSplitEdgePoint,c=t&&t.isDiscardEmptySplits;if(c&&(e=!0),Yt(i)&&(Ne(i.node)||r)){if(Xt(i))return i.node;if(kt(i))return i.node.nextSibling}if(Ne(i.node))return i.node.splitText(i.offset);var h=i.node.childNodes[i.offset],g=ei(h),b=xn(i.node.cloneNode(!1),i.node);return Tn(b,g),e||(wn(i.node),wn(b)),c&&(ot(i.node)&&st(i.node),ot(b))?(st(b),i.node.nextSibling):b}function er(i,t,e){var r=Je(t.node,ie.eq(i));if(r.length){if(r.length===1)return ni(t,e)}else return null;if(r.length>2){var c=r.slice(0,r.length-1),h=c.find(function(x){return x.nextSibling});if(h&&t.offset!=0&&kt(t)){var g=h.nextSibling,b;g.nodeType==1?(b=g.childNodes[0],r=Je(b,ie.eq(i)),t={node:b,offset:0}):g.nodeType==3&&!g.data.match(/[\n\r]/g)&&(b=g,r=Je(b,ie.eq(i)),t={node:b,offset:0})}}return r.reduce(function(x,E){return x===t.node&&(x=ni(t,e)),ni({node:E,offset:x?at(x):Le(E)},e)})}function so(i,t){var e=t?De:Jn,r=Je(i.node,e),c=F.last(r)||i.node,h,g;e(c)?(h=r[r.length-2],g=c):(h=c,g=h.parentNode);var b=h&&er(h,i,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return!b&&g===i.node&&(b=i.node.childNodes[i.offset]),{rightNode:b,container:g}}function An(i){return document.createElement(i)}function tr(i){return document.createTextNode(i)}function st(i,t){if(!(!i||!i.parentNode)){if(i.removeNode)return i.removeNode(t);var e=i.parentNode;if(!t){for(var r=[],c=0,h=i.childNodes.length;c<h;c++)r.push(i.childNodes[c]);for(var g=0,b=r.length;g<b;g++)e.insertBefore(r[g],i)}e.removeChild(i)}}function gt(i,t){for(;i&&!(je(i)||!t(i));){var e=i.parentNode;st(i),i=e}}function Ln(i,t){if(i.nodeName.toUpperCase()===t.toUpperCase())return i;var e=An(t);return i.style.cssText&&(e.style.cssText=i.style.cssText),Tn(e,F.from(i.childNodes)),xn(e,i),st(i),e}var nr=ye("TEXTAREA");function ir(i,t){var e=nr(i[0])?i.val():i.html();return t?e.replace(/[\n\r]/g,""):e}function _n(i,t){var e=ir(i);if(t){var r=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;e=e.replace(r,function(c,h,g){g=g.toUpperCase();var b=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(g)&&!!h,x=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(g);return c+(b||x?`
`:"")}),e=e.trim()}return e}function rr(i){var t=y()(i),e=t.offset(),r=t.outerHeight(!0);return{left:e.left,top:e.top+r}}function lo(i,t){Object.keys(t).forEach(function(e){i.on(e,t[e])})}function ii(i,t){Object.keys(t).forEach(function(e){i.off(e,t[e])})}function or(i){return i&&!Ne(i)&&F.contains(i.classList,"note-styletag")}const C={NBSP_CHAR:Xn,ZERO_WIDTH_NBSP_CHAR:Yr,blank:Ye,emptyPara:"<p>".concat(Ye,"</p>"),makePredByNodeName:ye,isEditable:je,isControlSizing:Jr,isText:Ne,isElement:Fe,isVoid:Gt,isPara:De,isPurePara:qi,isHeading:rt,isInline:bn,isBlock:ie.not(bn),isBodyInline:Xe,isBody:eo,isParaInline:qe,isPre:Qr,isList:kn,isTable:Ot,isData:Wi,isCell:Ki,isBlockquote:Yn,isBodyContainer:Jn,isAnchor:Vi,isDiv:ye("DIV"),isLi:yn,isBR:ye("BR"),isSpan:ye("SPAN"),isB:ye("B"),isU:ye("U"),isS:ye("S"),isI:ye("I"),isImg:ye("IMG"),isTextarea:nr,deepestChildIsEmpty:Xi,isEmpty:ot,isEmptyAnchor:ie.and(Vi,ot),isClosestSibling:to,withClosestSiblings:Gi,nodeLength:Le,isLeftEdgePoint:Xt,isRightEdgePoint:kt,isEdgePoint:Yt,isLeftEdgeOf:Ji,isRightEdgeOf:Qi,isLeftEdgePointOf:io,isRightEdgePointOf:ro,prevPoint:wt,nextPoint:Qt,nextPointWithEmptyNode:ti,isSamePoint:Pn,isVisiblePoint:En,prevPointUntil:oo,nextPointUntil:ao,isCharPoint:Ct,isSpacePoint:Zt,walkPoint:en,ancestor:Cn,singleChildAncestor:Sn,listAncestor:Je,lastAncestor:Qn,listNext:ei,listPrev:Zn,listDescendant:Mt,commonAncestor:no,wrap:Yi,insertAfter:xn,appendChildNodes:Tn,position:at,hasChildren:Jt,makeOffsetPath:Q,fromOffsetPath:Oe,splitTree:er,splitPoint:so,create:An,createText:tr,remove:st,removeWhile:gt,replace:Ln,html:_n,value:ir,posFromPlaceholder:rr,attachEvents:lo,detachEvents:ii,isCustomStyleTag:or};function Qe(i){"@babel/helpers - typeof";return Qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe(i)}function tn(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function uo(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,lt(r.key),r)}}function ar(i,t,e){return t&&uo(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function lt(i){var t=Me(i,"string");return Qe(t)=="symbol"?t:t+""}function Me(i,t){if(Qe(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(Qe(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var sr=function(){function i(t,e){tn(this,i),this.$note=t,this.memos={},this.modules={},this.layoutInfo={},this.options=y().extend(!0,{},e),y().summernote.ui=y().summernote.ui_template(this.options),this.ui=y().summernote.ui,this.initialize()}return ar(i,[{key:"initialize",value:function(){return this.layoutInfo=this.ui.createLayout(this.$note),this._initialize(),this.$note.hide(),this}},{key:"destroy",value:function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)}},{key:"reset",value:function(){var e=this.isDisabled();this.code(C.emptyPara),this._destroy(),this._initialize(),e&&this.disable()}},{key:"_initialize",value:function(){var e=this;this.options.id=ie.uniqueId(y().now()),this.options.container=this.options.container||this.layoutInfo.editor;var r=y().extend({},this.options.buttons);Object.keys(r).forEach(function(h){e.memo("button."+h,r[h])});var c=y().extend({},this.options.modules,y().summernote.plugins||{});Object.keys(c).forEach(function(h){e.module(h,c[h],!0)}),Object.keys(this.modules).forEach(function(h){e.initializeModule(h)})}},{key:"_destroy",value:function(){var e=this;Object.keys(this.modules).reverse().forEach(function(r){e.removeModule(r)}),Object.keys(this.memos).forEach(function(r){e.removeMemo(r)}),this.triggerEvent("destroy",this)}},{key:"code",value:function(e){var r=this.invoke("codeview.isActivated");if(e===void 0)return this.invoke("codeview.sync"),r?this.layoutInfo.codable.val():this.layoutInfo.editable.html();r?this.invoke("codeview.sync",e):this.layoutInfo.editable.html(e),this.$note.val(e),this.triggerEvent("change",e,this.layoutInfo.editable)}},{key:"isDisabled",value:function(){return this.layoutInfo.editable.attr("contenteditable")==="false"}},{key:"enable",value:function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1),this.options.editing=!0}},{key:"disable",value:function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.options.editing=!1,this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)}},{key:"triggerEvent",value:function(){var e=F.head(arguments),r=F.tail(F.from(arguments)),c=this.options.callbacks[ie.namespaceToCamel(e,"on")];c&&c.apply(this.$note[0],r),this.$note.trigger("summernote."+e,r)}},{key:"initializeModule",value:function(e){var r=this.modules[e];r.shouldInitialize=r.shouldInitialize||ie.ok,r.shouldInitialize()&&(r.initialize&&r.initialize(),r.events&&C.attachEvents(this.$note,r.events))}},{key:"module",value:function(e,r,c){if(arguments.length===1)return this.modules[e];this.modules[e]=new r(this),c||this.initializeModule(e)}},{key:"removeModule",value:function(e){var r=this.modules[e];r.shouldInitialize()&&(r.events&&C.detachEvents(this.$note,r.events),r.destroy&&r.destroy()),delete this.modules[e]}},{key:"memo",value:function(e,r){if(arguments.length===1)return this.memos[e];this.memos[e]=r}},{key:"removeMemo",value:function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]}},{key:"createInvokeHandlerAndUpdateState",value:function(e,r){var c=this;return function(h){c.createInvokeHandler(e,r)(h),c.invoke("buttons.updateCurrentStyle")}}},{key:"createInvokeHandler",value:function(e,r){var c=this;return function(h){h.preventDefault();var g=y()(h.target);c.invoke(e,r||g.closest("[data-value]").data("value"),g)}}},{key:"invoke",value:function(){var e=F.head(arguments),r=F.tail(F.from(arguments)),c=e.split("."),h=c.length>1,g=h&&F.head(c),b=h?F.last(c):F.head(c),x=this.modules[g||"editor"];if(!g&&this[b])return this[b].apply(this,r);if(x&&x[b]&&x.shouldInitialize())return x[b].apply(x,r)}}])}();function nn(i){"@babel/helpers - typeof";return nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nn(i)}y().fn.extend({summernote:function(){var t=nn(F.head(arguments)),e=t==="string",r=t==="object",c=y().extend({},y().summernote.options,r?F.head(arguments):{});c.langInfo=y().extend(!0,{},y().summernote.lang["en-US"],y().summernote.lang[c.lang]),c.icons=y().extend(!0,{},y().summernote.options.icons,c.icons),c.tooltip=c.tooltip==="auto"?!ee.isSupportTouch:c.tooltip,this.each(function(b,x){var E=y()(x);if(!E.data("summernote")){var N=new sr(E,c);E.data("summernote",N),E.data("summernote").triggerEvent("init",N.layoutInfo)}});var h=this.first();if(h.length){var g=h.data("summernote");if(e)return g.invoke.apply(g,F.from(arguments));c.focus&&g.invoke("editor.focus")}return this}});function rn(i){"@babel/helpers - typeof";return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(i)}function lr(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function co(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Rt(r.key),r)}}function fo(i,t,e){return t&&co(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Rt(i){var t=In(i,"string");return rn(t)=="symbol"?t:t+""}function In(i,t){if(rn(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(rn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function ri(i,t){var e=i.parentElement(),r,c=document.body.createTextRange(),h,g=F.from(e.childNodes);for(r=0;r<g.length;r++)if(!C.isText(g[r])){if(c.moveToElementText(g[r]),c.compareEndPoints("StartToStart",i)>=0)break;h=g[r]}if(r!==0&&C.isText(g[r-1])){var b=document.body.createTextRange(),x=null;b.moveToElementText(h||e),b.collapse(!h),x=h?h.nextSibling:e.firstChild;var E=i.duplicate();E.setEndPoint("StartToStart",b);for(var N=E.text.replace(/[\r\n]/g,"").length;N>x.nodeValue.length&&x.nextSibling;)N-=x.nodeValue.length,x=x.nextSibling;x.nodeValue,t&&x.nextSibling&&C.isText(x.nextSibling)&&N===x.nodeValue.length&&(N-=x.nodeValue.length,x=x.nextSibling),e=x,r=N}return{cont:e,offset:r}}function St(i){var t=function c(h,g){var b,x;if(C.isText(h)){var E=C.listPrev(h,ie.not(C.isText)),N=F.last(E).previousSibling;b=N||h.parentNode,g+=F.sum(F.tail(E),C.nodeLength),x=!N}else{if(b=h.childNodes[g]||h,C.isText(b))return c(b,0);g=0,x=!1}return{node:b,collapseToStart:x,offset:g}},e=document.body.createTextRange(),r=t(i.node,i.offset);return e.moveToElementText(r.node),e.collapse(r.collapseToStart),e.moveStart("character",r.offset),e}var Ze=function(){function i(t,e,r,c){lr(this,i),this.sc=t,this.so=e,this.ec=r,this.eo=c,this.isOnEditable=this.makeIsOn(C.isEditable),this.isOnList=this.makeIsOn(C.isList),this.isOnAnchor=this.makeIsOn(C.isAnchor),this.isOnCell=this.makeIsOn(C.isCell),this.isOnData=this.makeIsOn(C.isData)}return fo(i,[{key:"nativeRange",value:function(){if(ee.isW3CRangeSupport){var e=document.createRange();return e.setStart(this.sc,this.so),e.setEnd(this.ec,this.eo),e}else{var r=St({node:this.sc,offset:this.so});return r.setEndPoint("EndToEnd",St({node:this.ec,offset:this.eo})),r}}},{key:"getPoints",value:function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}}},{key:"getStartPoint",value:function(){return{node:this.sc,offset:this.so}}},{key:"getEndPoint",value:function(){return{node:this.ec,offset:this.eo}}},{key:"select",value:function(){var e=this.nativeRange();if(ee.isW3CRangeSupport){var r=document.getSelection();r.rangeCount>0&&r.removeAllRanges(),r.addRange(e)}else e.select();return this}},{key:"scrollIntoView",value:function(e){var r=y()(e).height();return e.scrollTop+r<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+r-this.sc.offsetTop)),this}},{key:"normalize",value:function(){var e=function(g,b){if(!g||C.isVisiblePoint(g)&&(!C.isEdgePoint(g)||C.isRightEdgePoint(g)&&!b||C.isLeftEdgePoint(g)&&b||C.isRightEdgePoint(g)&&b&&C.isVoid(g.node.nextSibling)||C.isLeftEdgePoint(g)&&!b&&C.isVoid(g.node.previousSibling)||C.isBlock(g.node)&&C.isEmpty(g.node)))return g;var x=C.ancestor(g.node,C.isBlock),E=!1;if(!E){var N=C.prevPoint(g)||{node:null};E=(C.isLeftEdgePointOf(g,x)||C.isVoid(N.node))&&!b}var D=!1;if(!D){var H=C.nextPoint(g)||{node:null};D=(C.isRightEdgePointOf(g,x)||C.isVoid(H.node))&&b}if(E||D){if(C.isVisiblePoint(g))return g;b=!b}var U=b?C.nextPointUntil(C.nextPoint(g),C.isVisiblePoint):C.prevPointUntil(C.prevPoint(g),C.isVisiblePoint);return U||g},r=e(this.getEndPoint(),!1),c=this.isCollapsed()?r:e(this.getStartPoint(),!0);return new i(c.node,c.offset,r.node,r.offset)}},{key:"nodes",value:function(e,r){e=e||ie.ok;var c=r&&r.includeAncestor,h=r&&r.fullyContains,g=this.getStartPoint(),b=this.getEndPoint(),x=[],E=[];return C.walkPoint(g,b,function(N){if(!C.isEditable(N.node)){var D;h?(C.isLeftEdgePoint(N)&&E.push(N.node),C.isRightEdgePoint(N)&&F.contains(E,N.node)&&(D=N.node)):c?D=C.ancestor(N.node,e):D=N.node,D&&e(D)&&x.push(D)}},!0),F.unique(x)}},{key:"commonAncestor",value:function(){return C.commonAncestor(this.sc,this.ec)}},{key:"expand",value:function(e){var r=C.ancestor(this.sc,e),c=C.ancestor(this.ec,e);if(!r&&!c)return new i(this.sc,this.so,this.ec,this.eo);var h=this.getPoints();return r&&(h.sc=r,h.so=0),c&&(h.ec=c,h.eo=C.nodeLength(c)),new i(h.sc,h.so,h.ec,h.eo)}},{key:"collapse",value:function(e){return e?new i(this.sc,this.so,this.sc,this.so):new i(this.ec,this.eo,this.ec,this.eo)}},{key:"splitText",value:function(){var e=this.sc===this.ec,r=this.getPoints();return C.isText(this.ec)&&!C.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),C.isText(this.sc)&&!C.isEdgePoint(this.getStartPoint())&&(r.sc=this.sc.splitText(this.so),r.so=0,e&&(r.ec=r.sc,r.eo=this.eo-this.so)),new i(r.sc,r.so,r.ec,r.eo)}},{key:"deleteContents",value:function(){if(this.isCollapsed())return this;var e=this.splitText(),r=e.nodes(null,{fullyContains:!0}),c=C.prevPointUntil(e.getStartPoint(),function(g){return!F.contains(r,g.node)}),h=[];return y().each(r,function(g,b){var x=b.parentNode;c.node!==x&&C.nodeLength(x)===1&&h.push(x),C.remove(b,!1)}),y().each(h,function(g,b){C.remove(b,!1)}),new i(c.node,c.offset,c.node,c.offset).normalize()}},{key:"makeIsOn",value:function(e){return function(){var r=C.ancestor(this.sc,e);return!!r&&r===C.ancestor(this.ec,e)}}},{key:"isLeftEdgeOf",value:function(e){if(!C.isLeftEdgePoint(this.getStartPoint()))return!1;var r=C.ancestor(this.sc,e);return r&&C.isLeftEdgeOf(this.sc,r)}},{key:"isCollapsed",value:function(){return this.sc===this.ec&&this.so===this.eo}},{key:"wrapBodyInlineWithPara",value:function(){if(C.isBodyContainer(this.sc)&&C.isEmpty(this.sc))return this.sc.innerHTML=C.emptyPara,new i(this.sc.firstChild,0,this.sc.firstChild,0);var e=this.normalize();if(C.isParaInline(this.sc)||C.isPara(this.sc))return e;var r;if(C.isInline(e.sc)){var c=C.listAncestor(e.sc,ie.not(C.isInline));r=F.last(c),C.isInline(r)||(r=c[c.length-2]||e.sc.childNodes[e.so])}else r=e.sc.childNodes[e.so>0?e.so-1:0];if(r){var h=C.listPrev(r,C.isParaInline).reverse();if(h=h.concat(C.listNext(r.nextSibling,C.isParaInline)),h.length){var g=C.wrap(F.head(h),"p");C.appendChildNodes(g,F.tail(h))}}return this.normalize()}},{key:"insertNode",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=this;(C.isText(e)||C.isInline(e))&&(c=this.wrapBodyInlineWithPara().deleteContents());var h=C.splitPoint(c.getStartPoint(),C.isInline(e));return h.rightNode?(h.rightNode.parentNode.insertBefore(e,h.rightNode),C.isEmpty(h.rightNode)&&(r||C.isPara(e))&&h.rightNode.parentNode.removeChild(h.rightNode)):h.container.appendChild(e),e}},{key:"pasteHTML",value:function(e){e=((e||"")+"").trim(e);var r=y()("<div></div>").html(e)[0],c=F.from(r.childNodes),h=this,g=!1;return h.so>=0&&(c=c.reverse(),g=!0),c=c.map(function(b){return h.insertNode(b,!C.isInline(b))}),g&&(c=c.reverse()),c}},{key:"toString",value:function(){var e=this.nativeRange();return ee.isW3CRangeSupport?e.toString():e.text}},{key:"getWordRange",value:function(e){var r=this.getEndPoint();if(!C.isCharPoint(r))return this;var c=C.prevPointUntil(r,function(h){return!C.isCharPoint(h)});return e&&(r=C.nextPointUntil(r,function(h){return!C.isCharPoint(h)})),new i(c.node,c.offset,r.node,r.offset)}},{key:"getWordsRange",value:function(e){var r=this.getEndPoint(),c=function(b){return!C.isCharPoint(b)&&!C.isSpacePoint(b)};if(c(r))return this;var h=C.prevPointUntil(r,c);return e&&(r=C.nextPointUntil(r,c)),new i(h.node,h.offset,r.node,r.offset)}},{key:"getWordsMatchRange",value:function(e){var r=this.getEndPoint(),c=C.prevPointUntil(r,function(x){if(!C.isCharPoint(x)&&!C.isSpacePoint(x))return!0;var E=new i(x.node,x.offset,r.node,r.offset),N=e.exec(E.toString());return N&&N.index===0}),h=new i(c.node,c.offset,r.node,r.offset),g=h.toString(),b=e.exec(g);return b&&b[0].length===g.length?h:null}},{key:"bookmark",value:function(e){return{s:{path:C.makeOffsetPath(e,this.sc),offset:this.so},e:{path:C.makeOffsetPath(e,this.ec),offset:this.eo}}}},{key:"paraBookmark",value:function(e){return{s:{path:F.tail(C.makeOffsetPath(F.head(e),this.sc)),offset:this.so},e:{path:F.tail(C.makeOffsetPath(F.last(e),this.ec)),offset:this.eo}}}},{key:"getClientRects",value:function(){var e=this.nativeRange();return e.getClientRects()}}])}();const se={create:function(t,e,r,c){if(arguments.length===4)return new Ze(t,e,r,c);if(arguments.length===2)return r=t,c=e,new Ze(t,e,r,c);var h=this.createFromSelection();if(!h&&arguments.length===1){var g=arguments[0];return C.isEditable(g)&&(g=g.lastChild),this.createFromBodyElement(g,C.emptyPara===arguments[0].innerHTML)}return h},createFromBodyElement:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=this.createFromNode(t);return r.collapse(e)},createFromSelection:function(){var t,e,r,c;if(ee.isW3CRangeSupport){var h=document.getSelection();if(!h||h.rangeCount===0)return null;if(C.isBody(h.anchorNode))return null;var g=h.getRangeAt(0);t=g.startContainer,e=g.startOffset,r=g.endContainer,c=g.endOffset}else{var b=document.selection.createRange(),x=b.duplicate();x.collapse(!1);var E=b;E.collapse(!0);var N=ri(E,!0),D=ri(x,!1);C.isText(N.node)&&C.isLeftEdgePoint(N)&&C.isTextNode(D.node)&&C.isRightEdgePoint(D)&&D.node.nextSibling===N.node&&(N=D),t=N.cont,e=N.offset,r=D.cont,c=D.offset}return new Ze(t,e,r,c)},createFromNode:function(t){var e=t,r=0,c=t,h=C.nodeLength(c);return C.isVoid(e)&&(r=C.listPrev(e).length-1,e=e.parentNode),C.isBR(c)?(h=C.listPrev(c).length-1,c=c.parentNode):C.isVoid(c)&&(h=C.listPrev(c).length,c=c.parentNode),this.create(e,r,c,h)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var r=C.fromOffsetPath(t,e.s.path),c=e.s.offset,h=C.fromOffsetPath(t,e.e.path),g=e.e.offset;return new Ze(r,c,h,g)},createFromParaBookmark:function(t,e){var r=t.s.offset,c=t.e.offset,h=C.fromOffsetPath(F.head(e),t.s.path),g=C.fromOffsetPath(F.last(e),t.e.path);return new Ze(h,r,g,c)}};var Ce={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221,HOME:36,END:35,PAGEUP:33,PAGEDOWN:34};const de={isEdit:function(t){return F.contains([Ce.BACKSPACE,Ce.TAB,Ce.ENTER,Ce.SPACE,Ce.DELETE],t)},isRemove:function(t){return F.contains([Ce.BACKSPACE,Ce.DELETE],t)},isMove:function(t){return F.contains([Ce.LEFT,Ce.UP,Ce.RIGHT,Ce.DOWN],t)},isNavigation:function(t){return F.contains([Ce.HOME,Ce.END,Ce.PAGEUP,Ce.PAGEDOWN],t)},nameFromCode:ie.invertObject(Ce),code:Ce};function ur(i){return y().Deferred(function(t){y().extend(new FileReader,{onload:function(r){var c=r.target.result;t.resolve(c)},onerror:function(r){t.reject(r)}}).readAsDataURL(i)}).promise()}function cr(i){return y().Deferred(function(t){var e=y()("<img>");e.one("load",function(){e.off("error abort"),t.resolve(e)}).one("error abort",function(){e.off("load").detach(),t.reject(e)}).css({display:"none"}).appendTo(document.body).attr("src",i)}).promise()}function $t(i){"@babel/helpers - typeof";return $t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(i)}function ho(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function oi(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,po(r.key),r)}}function Nn(i,t,e){return t&&oi(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function po(i){var t=fr(i,"string");return $t(t)=="symbol"?t:t+""}function fr(i,t){if($t(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if($t(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var dr=function(){function i(t){ho(this,i),this.stack=[],this.stackOffset=-1,this.context=t,this.$editable=t.layoutInfo.editable,this.editable=this.$editable[0]}return Nn(i,[{key:"makeSnapshot",value:function(){var e=se.create(this.editable),r={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:this.$editable.html(),bookmark:e&&e.isOnEditable()?e.bookmark(this.editable):r}}},{key:"applySnapshot",value:function(e){e.contents!==null&&this.$editable.html(e.contents),e.bookmark!==null&&se.createFromBookmark(this.editable,e.bookmark).select()}},{key:"rewind",value:function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])}},{key:"commit",value:function(){this.stack=[],this.stackOffset=-1,this.recordUndo()}},{key:"reset",value:function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()}},{key:"undo",value:function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"redo",value:function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))}},{key:"recordUndo",value:function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot()),this.stack.length>this.context.options.historyLimit&&(this.stack.shift(),this.stackOffset-=1)}}])}();function jt(i){"@babel/helpers - typeof";return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(i)}function vo(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function ai(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,pr(r.key),r)}}function hr(i,t,e){return t&&ai(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function pr(i){var t=mt(i,"string");return jt(t)=="symbol"?t:t+""}function mt(i,t){if(jt(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(jt(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var vr=function(){function i(){vo(this,i)}return hr(i,[{key:"jQueryCSS",value:function(e,r){var c={};return y().each(r,function(h,g){c[g]=e.css(g)}),c}},{key:"fromNode",value:function(e){var r=["font-family","font-size","text-align","list-style-type","line-height"],c=this.jQueryCSS(e,r)||{},h=e[0].style.fontSize||c["font-size"];return c["font-size"]=parseInt(h,10),c["font-size-unit"]=h.match(/[a-z%]+$/),c}},{key:"stylePara",value:function(e,r){y().each(e.nodes(C.isPara,{includeAncestor:!0}),function(c,h){y()(h).css(r)})}},{key:"styleNodes",value:function(e,r){e=e.splitText();var c=r&&r.nodeName||"SPAN",h=!!(r&&r.expandClosestSibling),g=!!(r&&r.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(C.create(c))];var b=C.makePredByNodeName(c),x=e.nodes(C.isText,{fullyContains:!0}).map(function(N){return C.singleChildAncestor(N,b)||C.wrap(N,c)});if(h){if(g){var E=e.nodes();b=ie.and(b,function(N){return F.contains(E,N)})}return x.map(function(N){var D=C.withClosestSiblings(N,b),H=F.head(D),U=F.tail(D);return y().each(U,function(Z,he){C.appendChildNodes(H,he.childNodes),C.remove(he)}),F.head(D)})}else return x}},{key:"current",value:function(e){var r=y()(C.isElement(e.sc)?e.sc:e.sc.parentNode),c=this.fromNode(r);try{c=y().extend(c,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||c["font-family"]})}catch{}if(!e.isOnList())c["list-style"]="none";else{var h=["circle","disc","disc-leading-zero","square"],g=h.indexOf(c["list-style-type"])>-1;c["list-style"]=g?"unordered":"ordered"}var b=C.ancestor(e.sc,C.isPara);if(b&&b.style["line-height"])c["line-height"]=b.style.lineHeight;else{var x=parseInt(c["line-height"],10)/parseInt(c["font-size"],10);c["line-height"]=x.toFixed(1)}return c.anchor=e.isOnAnchor()&&C.ancestor(e.sc,C.isAnchor),c.ancestors=C.listAncestor(e.sc,C.isEditable),c.range=e,c}}])}();function on(i){"@babel/helpers - typeof";return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},on(i)}function gr(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function mr(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,br(r.key),r)}}function yr(i,t,e){return t&&mr(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function br(i){var t=Be(i,"string");return on(t)=="symbol"?t:t+""}function Be(i,t){if(on(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(on(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var xt=function(){function i(){gr(this,i)}return yr(i,[{key:"insertOrderedList",value:function(e){this.toggleList("OL",e)}},{key:"insertUnorderedList",value:function(e){this.toggleList("UL",e)}},{key:"indent",value:function(e){var r=this,c=se.create(e).wrapBodyInlineWithPara(),h=c.nodes(C.isPara,{includeAncestor:!0}),g=F.clusterBy(h,ie.peq2("parentNode"));y().each(g,function(b,x){var E=F.head(x);if(C.isLi(E)){var N=r.findList(E.previousSibling);N?x.map(function(D){return N.appendChild(D)}):(r.wrapList(x,E.parentNode.nodeName),x.map(function(D){return D.parentNode}).map(function(D){return r.appendToPrevious(D)}))}else y().each(x,function(D,H){y()(H).css("marginLeft",function(U,Z){return(parseInt(Z,10)||0)+25})})}),c.select()}},{key:"outdent",value:function(e){var r=this,c=se.create(e).wrapBodyInlineWithPara(),h=c.nodes(C.isPara,{includeAncestor:!0}),g=F.clusterBy(h,ie.peq2("parentNode"));y().each(g,function(b,x){var E=F.head(x);C.isLi(E)?r.releaseList([x]):y().each(x,function(N,D){y()(D).css("marginLeft",function(H,U){return U=parseInt(U,10)||0,U>25?U-25:""})})}),c.select()}},{key:"toggleList",value:function(e,r){var c=this,h=se.create(r).wrapBodyInlineWithPara(),g=h.nodes(C.isPara,{includeAncestor:!0}),b=h.paraBookmark(g),x=F.clusterBy(g,ie.peq2("parentNode"));if(F.find(g,C.isPurePara)){var E=[];y().each(x,function(D,H){E=E.concat(c.wrapList(H,e))}),g=E}else{var N=h.nodes(C.isList,{includeAncestor:!0}).filter(function(D){return!y().nodeName(D,e)});N.length?y().each(N,function(D,H){C.replace(H,e)}):g=this.releaseList(x,!0)}se.createFromParaBookmark(b,g).select()}},{key:"wrapList",value:function(e,r){var c=F.head(e),h=F.last(e),g=C.isList(c.previousSibling)&&c.previousSibling,b=C.isList(h.nextSibling)&&h.nextSibling,x=g||C.insertAfter(C.create(r||"UL"),h);return e=e.map(function(E){return C.isPurePara(E)?C.replace(E,"LI"):E}),C.appendChildNodes(x,e,!0),b&&(C.appendChildNodes(x,F.from(b.childNodes),!0),C.remove(b)),e}},{key:"releaseList",value:function(e,r){var c=this,h=[];return y().each(e,function(g,b){var x=F.head(b),E=F.last(b),N=r?C.lastAncestor(x,C.isList):x.parentNode,D=N.parentNode;if(N.parentNode.nodeName==="LI")b.map(function(he){var we=c.findNextSiblings(he);D.nextSibling?D.parentNode.insertBefore(he,D.nextSibling):D.parentNode.appendChild(he),we.length&&(c.wrapList(we,N.nodeName),he.appendChild(we[0].parentNode))}),N.children.length===0&&D.removeChild(N),D.childNodes.length===0&&D.parentNode.removeChild(D);else{var H=N.childNodes.length>1?C.splitTree(N,{node:E.parentNode,offset:C.position(E)+1},{isSkipPaddingBlankHTML:!0}):null,U=C.splitTree(N,{node:x.parentNode,offset:C.position(x)},{isSkipPaddingBlankHTML:!0});b=r?C.listDescendant(U,C.isLi):F.from(U.childNodes).filter(C.isLi),(r||!C.isList(N.parentNode))&&(b=b.map(function(he){return C.replace(he,"P")})),y().each(F.from(b).reverse(),function(he,we){C.insertAfter(we,N)});var Z=F.compact([N,U,H]);y().each(Z,function(he,we){var Ie=[we].concat(C.listDescendant(we,C.isList));y().each(Ie.reverse(),function(Y,V){C.nodeLength(V)||C.remove(V,!0)})})}h=h.concat(b)}),h}},{key:"appendToPrevious",value:function(e){return e.previousSibling?C.appendChildNodes(e.previousSibling,[e]):this.wrapList([e],"LI")}},{key:"findList",value:function(e){return e?F.find(e.children,function(r){return["OL","UL"].indexOf(r.nodeName)>-1}):null}},{key:"findNextSiblings",value:function(e){for(var r=[];e.nextSibling;)r.push(e.nextSibling),e=e.nextSibling;return r}}])}();function yt(i){"@babel/helpers - typeof";return yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(i)}function go(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function mo(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,kr(r.key),r)}}function si(i,t,e){return t&&mo(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function kr(i){var t=Dn(i,"string");return yt(t)=="symbol"?t:t+""}function Dn(i,t){if(yt(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(yt(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var wr=function(){function i(t){go(this,i),this.bullet=new xt,this.options=t.options}return si(i,[{key:"insertTab",value:function(e,r){var c=C.createText(new Array(r+1).join(C.NBSP_CHAR));e=e.deleteContents(),e.insertNode(c,!0),e=se.create(c,r),e.select()}},{key:"insertParagraph",value:function(e,r){r=r||se.create(e),r=r.deleteContents(),r=r.wrapBodyInlineWithPara();var c=C.ancestor(r.sc,C.isPara),h;if(c)if(C.isLi(c)&&(C.isEmpty(c)||C.deepestChildIsEmpty(c))){this.bullet.toggleList(c.parentNode.nodeName);return}else{var g=null;if(this.options.blockquoteBreakingLevel===1?g=C.ancestor(c,C.isBlockquote):this.options.blockquoteBreakingLevel===2&&(g=C.lastAncestor(c,C.isBlockquote)),g){h=y()(C.emptyPara)[0],C.isRightEdgePoint(r.getStartPoint())&&C.isBR(r.sc.nextSibling)&&y()(r.sc.nextSibling).remove();var b=C.splitTree(g,r.getStartPoint(),{isDiscardEmptySplits:!0});b?b.parentNode.insertBefore(h,b):C.insertAfter(h,g)}else{h=C.splitTree(c,r.getStartPoint());var x=C.listDescendant(c,C.isEmptyAnchor);x=x.concat(C.listDescendant(h,C.isEmptyAnchor)),y().each(x,function(N,D){C.remove(D)}),(C.isHeading(h)||C.isPre(h)||C.isCustomStyleTag(h))&&C.isEmpty(h)&&(h=C.replace(h,"p"))}}else{var E=r.sc.childNodes[r.so];h=y()(C.emptyPara)[0],E?r.sc.insertBefore(h,E):r.sc.appendChild(h)}se.create(h,0).normalize().select().scrollIntoView(e)}}])}();function an(i){"@babel/helpers - typeof";return an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},an(i)}function yo(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function We(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,ko(r.key),r)}}function bo(i,t,e){return t&&We(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function ko(i){var t=Tt(i,"string");return an(t)=="symbol"?t:t+""}function Tt(i,t){if(an(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(an(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var le=function i(t,e,r,c){var h={colPos:0,rowPos:0},g=[],b=[];function x(){!t||!t.tagName||t.tagName.toLowerCase()!=="td"&&t.tagName.toLowerCase()!=="th"||(h.colPos=t.cellIndex,!(!t.parentElement||!t.parentElement.tagName||t.parentElement.tagName.toLowerCase()!=="tr")&&(h.rowPos=t.parentElement.rowIndex))}function E(Y,V,pe,xe,Et,ut,At){var tt={baseRow:pe,baseCell:xe,isRowSpan:Et,isColSpan:ut,isVirtual:At};g[Y]||(g[Y]=[]),g[Y][V]=tt}function N(Y,V,pe,xe){return{baseCell:Y.baseCell,action:V,virtualTable:{rowIndex:pe,cellIndex:xe}}}function D(Y,V){if(!g[Y]||!g[Y][V])return V;for(var pe=V;g[Y][pe];)if(pe++,!g[Y][pe])return pe}function H(Y,V){var pe=D(Y.rowIndex,V.cellIndex),xe=V.colSpan>1,Et=V.rowSpan>1,ut=Y.rowIndex===h.rowPos&&V.cellIndex===h.colPos;E(Y.rowIndex,pe,Y,V,Et,xe,!1);var At=V.attributes.rowSpan?parseInt(V.attributes.rowSpan.value,10):0;if(At>1)for(var tt=1;tt<At;tt++){var Wt=Y.rowIndex+tt;U(Wt,pe,V,ut),E(Wt,pe,Y,V,!0,xe,!0)}var Dr=V.attributes.colSpan?parseInt(V.attributes.colSpan.value,10):0;if(Dr>1)for(var Oi=1;Oi<Dr;Oi++){var Or=D(Y.rowIndex,pe+Oi);U(Y.rowIndex,Or,V,ut),E(Y.rowIndex,Or,Y,V,Et,!0,!0)}}function U(Y,V,pe,xe){Y===h.rowPos&&h.colPos>=pe.cellIndex&&pe.cellIndex<=V&&!xe&&h.colPos++}function Z(){for(var Y=c.rows,V=0;V<Y.length;V++)for(var pe=Y[V].cells,xe=0;xe<pe.length;xe++)H(Y[V],pe[xe])}function he(Y){switch(e){case i.where.Column:if(Y.isColSpan)return i.resultAction.SubtractSpanCount;break;case i.where.Row:if(!Y.isVirtual&&Y.isRowSpan)return i.resultAction.AddCell;if(Y.isRowSpan)return i.resultAction.SubtractSpanCount;break}return i.resultAction.RemoveCell}function we(Y){switch(e){case i.where.Column:if(Y.isColSpan)return i.resultAction.SumSpanCount;if(Y.isRowSpan&&Y.isVirtual)return i.resultAction.Ignore;break;case i.where.Row:if(Y.isRowSpan)return i.resultAction.SumSpanCount;if(Y.isColSpan&&Y.isVirtual)return i.resultAction.Ignore;break}return i.resultAction.AddCell}function Ie(){x(),Z()}this.getActionList=function(){for(var Y=e===i.where.Row?h.rowPos:-1,V=e===i.where.Column?h.colPos:-1,pe=0,xe=!0;xe;){var Et=Y>=0?Y:pe,ut=V>=0?V:pe,At=g[Et];if(!At)return xe=!1,b;var tt=At[ut];if(!tt)return xe=!1,b;var Wt=i.resultAction.Ignore;switch(r){case i.requestAction.Add:Wt=we(tt);break;case i.requestAction.Delete:Wt=he(tt);break}b.push(N(tt,Wt,Et,ut)),pe++}return b},Ie()};le.where={Row:0,Column:1},le.requestAction={Add:0,Delete:1},le.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var li=function(){function i(){yo(this,i)}return bo(i,[{key:"tab",value:function(e,r){var c=C.ancestor(e.commonAncestor(),C.isCell),h=C.ancestor(c,C.isTable),g=C.listDescendant(h,C.isCell),b=F[r?"prev":"next"](g,c);b&&se.create(b,0).select()}},{key:"addRow",value:function(e,r){for(var c=C.ancestor(e.commonAncestor(),C.isCell),h=y()(c).closest("tr"),g=this.recoverAttributes(h),b=y()("<tr"+g+"></tr>"),x=new le(c,le.where.Row,le.requestAction.Add,y()(h).closest("table")[0]),E=x.getActionList(),N=0;N<E.length;N++){var D=E[N],H=this.recoverAttributes(D.baseCell);switch(D.action){case le.resultAction.AddCell:b.append("<td"+H+">"+C.blank+"</td>");break;case le.resultAction.SumSpanCount:{if(r==="top"){var U=D.baseCell.parent,Z=(U?D.baseCell.closest("tr").rowIndex:0)<=h[0].rowIndex;if(Z){var he=y()("<div></div>").append(y()("<td"+H+">"+C.blank+"</td>").removeAttr("rowspan")).html();b.append(he);break}}var we=parseInt(D.baseCell.rowSpan,10);we++,D.baseCell.setAttribute("rowSpan",we)}break}}if(r==="top")h.before(b);else{var Ie=c.rowSpan>1;if(Ie){var Y=h[0].rowIndex+(c.rowSpan-2);y()(y()(h).parent().find("tr")[Y]).after(y()(b));return}h.after(b)}}},{key:"addCol",value:function(e,r){var c=C.ancestor(e.commonAncestor(),C.isCell),h=y()(c).closest("tr"),g=y()(h).siblings();g.push(h);for(var b=new le(c,le.where.Column,le.requestAction.Add,y()(h).closest("table")[0]),x=b.getActionList(),E=0;E<x.length;E++){var N=x[E],D=this.recoverAttributes(N.baseCell);switch(N.action){case le.resultAction.AddCell:r==="right"?y()(N.baseCell).after("<td"+D+">"+C.blank+"</td>"):y()(N.baseCell).before("<td"+D+">"+C.blank+"</td>");break;case le.resultAction.SumSpanCount:if(r==="right"){var H=parseInt(N.baseCell.colSpan,10);H++,N.baseCell.setAttribute("colSpan",H)}else y()(N.baseCell).before("<td"+D+">"+C.blank+"</td>");break}}}},{key:"recoverAttributes",value:function(e){var r="";if(!e)return r;for(var c=e.attributes||[],h=0;h<c.length;h++)c[h].name.toLowerCase()!=="id"&&c[h].specified&&(r+=" "+c[h].name+"='"+c[h].value+"'");return r}},{key:"deleteRow",value:function(e){for(var r=C.ancestor(e.commonAncestor(),C.isCell),c=y()(r).closest("tr"),h=c.children("td, th").index(y()(r)),g=c[0].rowIndex,b=new le(r,le.where.Row,le.requestAction.Delete,y()(c).closest("table")[0]),x=b.getActionList(),E=0;E<x.length;E++)if(x[E]){var N=x[E].baseCell,D=x[E].virtualTable,H=N.rowSpan&&N.rowSpan>1,U=H?parseInt(N.rowSpan,10):0;switch(x[E].action){case le.resultAction.Ignore:continue;case le.resultAction.AddCell:{var Z=c.next("tr")[0];if(!Z)continue;var he=c[0].cells[h];H&&(U>2?(U--,Z.insertBefore(he,Z.cells[h]),Z.cells[h].setAttribute("rowSpan",U),Z.cells[h].innerHTML=""):U===2&&(Z.insertBefore(he,Z.cells[h]),Z.cells[h].removeAttribute("rowSpan"),Z.cells[h].innerHTML=""))}continue;case le.resultAction.SubtractSpanCount:H&&(U>2?(U--,N.setAttribute("rowSpan",U),D.rowIndex!==g&&N.cellIndex===h&&(N.innerHTML="")):U===2&&(N.removeAttribute("rowSpan"),D.rowIndex!==g&&N.cellIndex===h&&(N.innerHTML="")));continue;case le.resultAction.RemoveCell:continue}}c.remove()}},{key:"deleteCol",value:function(e){for(var r=C.ancestor(e.commonAncestor(),C.isCell),c=y()(r).closest("tr"),h=c.children("td, th").index(y()(r)),g=new le(r,le.where.Column,le.requestAction.Delete,y()(c).closest("table")[0]),b=g.getActionList(),x=0;x<b.length;x++)if(b[x])switch(b[x].action){case le.resultAction.Ignore:continue;case le.resultAction.SubtractSpanCount:{var E=b[x].baseCell,N=E.colSpan&&E.colSpan>1;if(N){var D=E.colSpan?parseInt(E.colSpan,10):0;D>2?(D--,E.setAttribute("colSpan",D),E.cellIndex===h&&(E.innerHTML="")):D===2&&(E.removeAttribute("colSpan"),E.cellIndex===h&&(E.innerHTML=""))}}continue;case le.resultAction.RemoveCell:C.remove(b[x].baseCell,!0);continue}}},{key:"createTable",value:function(e,r,c){for(var h=[],g,b=0;b<e;b++)h.push("<td>"+C.blank+"</td>");g=h.join("");for(var x=[],E,N=0;N<r;N++)x.push("<tr>"+g+"</tr>");E=x.join("");var D=y()("<table>"+E+"</table>");return c&&c.tableClassName&&D.addClass(c.tableClassName),D[0]}},{key:"deleteTable",value:function(e){var r=C.ancestor(e.commonAncestor(),C.isCell);y()(r).closest("table").remove()}}])}();function Ft(i){"@babel/helpers - typeof";return Ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(i)}function Cr(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function sn(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,ui(r.key),r)}}function Sr(i,t,e){return t&&sn(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function ui(i){var t=wo(i,"string");return Ft(t)=="symbol"?t:t+""}function wo(i,t){if(Ft(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(Ft(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var xr="bogus",Co=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,So=/^(\+?\d{1,3}[\s-]?)?(\d{1,4})[\s-]?(\d{1,4})[\s-]?(\d{1,4})$/,ci=/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/,xo=function(){function i(t){var e=this;Cr(this,i),this.context=t,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.snapshot=null,this.style=new vr,this.table=new li,this.typing=new wr(t),this.bullet=new xt,this.history=new dr(t),this.context.memo("help.escape",this.lang.help.escape),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var r=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],c=0,h=r.length;c<h;c++)this[r[c]]=function(b){return function(x){e.beforeCommand(),document.execCommand(b,!1,x),e.afterCommand(!0)}}(r[c]),this.context.memo("help."+r[c],this.lang.help[r[c]]);this.fontName=this.wrapCommand(function(b){return e.fontStyling("font-family",ee.validFontName(b))}),this.fontSize=this.wrapCommand(function(b){var x=e.currentStyle()["font-size-unit"];return e.fontStyling("font-size",b+x)}),this.fontSizeUnit=this.wrapCommand(function(b){var x=e.currentStyle()["font-size"];return e.fontStyling("font-size",x+b)});for(var g=1;g<=6;g++)this["formatH"+g]=function(b){return function(){e.formatBlock("H"+b)}}(g),this.context.memo("help.formatH"+g,this.lang.help["formatH"+g]);this.insertParagraph=this.wrapCommand(function(){e.typing.insertParagraph(e.editable)}),this.insertOrderedList=this.wrapCommand(function(){e.bullet.insertOrderedList(e.editable)}),this.insertUnorderedList=this.wrapCommand(function(){e.bullet.insertUnorderedList(e.editable)}),this.indent=this.wrapCommand(function(){e.bullet.indent(e.editable)}),this.outdent=this.wrapCommand(function(){e.bullet.outdent(e.editable)}),this.insertNode=this.wrapCommand(function(b){if(!e.isLimited(y()(b).text().length)){var x=e.getLastRange();x.insertNode(b),e.setLastRange(se.createFromNodeAfter(b).select())}}),this.insertText=this.wrapCommand(function(b){if(!e.isLimited(b.length)){var x=e.getLastRange(),E=x.insertNode(C.createText(b));e.setLastRange(se.create(E,C.nodeLength(E)).select())}}),this.pasteHTML=this.wrapCommand(function(b){if(!e.isLimited(b.length)){b=e.context.invoke("codeview.purify",b);var x=e.getLastRange().pasteHTML(b);e.setLastRange(se.createFromNodeAfter(F.last(x)).select())}}),this.formatBlock=this.wrapCommand(function(b,x){var E=e.options.callbacks.onApplyCustomStyle;E?E.call(e,x,e.context,e.onFormatBlock):e.onFormatBlock(b,x)}),this.insertHorizontalRule=this.wrapCommand(function(){var b=e.getLastRange().insertNode(C.create("HR"));b.nextSibling&&e.setLastRange(se.create(b.nextSibling,0).normalize().select())}),this.lineHeight=this.wrapCommand(function(b){e.style.stylePara(e.getLastRange(),{lineHeight:b})}),this.createLink=this.wrapCommand(function(b){var x=[],E=b.url,N=b.text,D=b.isNewWindow,H=e.options.linkAddNoReferrer,U=e.options.linkAddNoOpener,Z=b.range||e.getLastRange(),he=N.length-Z.toString().length;if(!(he>0&&e.isLimited(he))){var we=Z.toString()!==N;typeof E=="string"&&(E=E.trim()),e.options.onCreateLink?E=e.options.onCreateLink(E):E=e.checkLinkUrl(E);var Ie=[];if(we){Z=Z.deleteContents();var Y=Z.insertNode(y()("<A></A>").text(N)[0]);Ie.push(Y)}else Ie=e.style.styleNodes(Z,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});y().each(Ie,function(V,pe){y()(pe).attr("href",E),D?(y()(pe).attr("target","_blank"),H&&x.push("noreferrer"),U&&x.push("noopener"),x.length&&y()(pe).attr("rel",x.join(" "))):y()(pe).removeAttr("target")}),e.setLastRange(e.createRangeFromList(Ie).select())}}),this.color=this.wrapCommand(function(b){var x=b.foreColor,E=b.backColor;x&&document.execCommand("foreColor",!1,x),E&&document.execCommand("backColor",!1,E)}),this.foreColor=this.wrapCommand(function(b){document.execCommand("foreColor",!1,b)}),this.insertTable=this.wrapCommand(function(b){var x=b.split("x"),E=e.getLastRange().deleteContents();E.insertNode(e.table.createTable(x[0],x[1],e.options))}),this.removeMedia=this.wrapCommand(function(){var b=y()(e.restoreTarget()).parent();b.closest("figure").length?b.closest("figure").remove():b=y()(e.restoreTarget()).detach(),e.setLastRange(se.createFromSelection(b).select()),e.context.triggerEvent("media.delete",b,e.$editable)}),this.floatMe=this.wrapCommand(function(b){var x=y()(e.restoreTarget());x.toggleClass("note-float-left",b==="left"),x.toggleClass("note-float-right",b==="right"),x.css("float",b==="none"?"":b)}),this.resize=this.wrapCommand(function(b){var x=y()(e.restoreTarget());b=parseFloat(b),b===0?x.css("width",""):x.css({width:b*100+"%",height:""})})}return Sr(i,[{key:"initialize",value:function(){var e=this;this.$editable.on("keydown",function(r){if(r.keyCode===de.code.ENTER&&e.context.triggerEvent("enter",r),e.context.triggerEvent("keydown",r),e.snapshot=e.history.makeSnapshot(),e.hasKeyShortCut=!1,r.isDefaultPrevented()||(e.options.shortcuts?e.hasKeyShortCut=e.handleKeyMap(r):e.preventDefaultEditableShortCuts(r)),e.isLimited(1,r)){var c=e.getLastRange();if(c.eo-c.so===0)return!1}e.setLastRange(),e.options.recordEveryKeystroke&&e.hasKeyShortCut===!1&&e.history.recordUndo()}).on("keyup",function(r){e.setLastRange(),e.context.triggerEvent("keyup",r)}).on("focus",function(r){e.setLastRange(),e.context.triggerEvent("focus",r)}).on("blur",function(r){e.context.triggerEvent("blur",r)}).on("mousedown",function(r){e.context.triggerEvent("mousedown",r)}).on("mouseup",function(r){e.setLastRange(),e.history.recordUndo(),e.context.triggerEvent("mouseup",r)}).on("scroll",function(r){e.context.triggerEvent("scroll",r)}).on("paste",function(r){e.setLastRange(),e.context.triggerEvent("paste",r)}).on("copy",function(r){e.context.triggerEvent("copy",r)}).on("input",function(){e.isLimited(0)&&e.snapshot&&e.history.applySnapshot(e.snapshot)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.attr("autocorrect",this.options.spellCheck),this.options.disableGrammar&&this.$editable.attr("data-gramm",!1),this.$editable.html(C.html(this.$note)||C.emptyPara),this.$editable.on(ee.inputEventName,ie.debounce(function(){e.context.triggerEvent("change",e.$editable.html(),e.$editable)},10)),this.$editable.on("focusin",function(r){e.context.triggerEvent("focusin",r)}).on("focusout",function(r){e.context.triggerEvent("focusout",r)}),this.options.airMode?this.options.overrideContextMenu&&this.$editor.on("contextmenu",function(r){return e.context.triggerEvent("contextmenu",r),!1}):(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()}},{key:"destroy",value:function(){this.$editable.off()}},{key:"handleKeyMap",value:function(e){var r=this.options.keyMap[ee.isMac?"mac":"pc"],c=[];e.metaKey&&c.push("CMD"),e.ctrlKey&&!e.altKey&&c.push("CTRL"),e.shiftKey&&c.push("SHIFT");var h=de.nameFromCode[e.keyCode];h&&c.push(h);var g=r[c.join("+")];if(h==="TAB"&&!this.options.tabDisable)this.afterCommand();else if(g){if(this.context.invoke(g)!==!1)return e.preventDefault(),!0}else de.isEdit(e.keyCode)&&(de.isRemove(e.keyCode)&&this.context.invoke("removed"),this.afterCommand());return!1}},{key:"preventDefaultEditableShortCuts",value:function(e){(e.ctrlKey||e.metaKey)&&F.contains([66,73,85],e.keyCode)&&e.preventDefault()}},{key:"isLimited",value:function(e,r){return e=e||0,typeof r<"u"&&(de.isMove(r.keyCode)||de.isNavigation(r.keyCode)||r.ctrlKey||r.metaKey||F.contains([de.code.BACKSPACE,de.code.DELETE],r.keyCode))?!1:this.options.maxTextLength>0&&this.$editable.text().length+e>this.options.maxTextLength}},{key:"checkLinkUrl",value:function(e){return Co.test(e)?"mailto://"+e:So.test(e)?"tel://"+e:ci.test(e)?e:"http://"+e}},{key:"createRange",value:function(){return this.focus(),this.setLastRange(),this.getLastRange()}},{key:"createRangeFromList",value:function(e){var r=se.createFromNodeBefore(F.head(e)),c=r.getStartPoint(),h=se.createFromNodeAfter(F.last(e)),g=h.getEndPoint();return se.create(c.node,c.offset,g.node,g.offset)}},{key:"setLastRange",value:function(e){e?this.lastRange=e:(this.lastRange=se.create(this.editable),y()(this.lastRange.sc).closest(".note-editable").length===0&&(this.lastRange=se.createFromBodyElement(this.editable)))}},{key:"getLastRange",value:function(){return this.lastRange||this.setLastRange(),this.lastRange}},{key:"saveRange",value:function(e){e&&this.getLastRange().collapse().select()}},{key:"restoreRange",value:function(){this.lastRange&&(this.lastRange.select(),this.focus())}},{key:"saveTarget",value:function(e){this.$editable.data("target",e)}},{key:"clearTarget",value:function(){this.$editable.removeData("target")}},{key:"restoreTarget",value:function(){return this.$editable.data("target")}},{key:"currentStyle",value:function(){var e=se.create();return e&&(e=e.normalize()),e?this.style.current(e):this.style.fromNode(this.$editable)}},{key:"styleFromNode",value:function(e){return this.style.fromNode(e)}},{key:"undo",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"commit",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"redo",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"beforeCommand",value:function(){this.context.triggerEvent("before.command",this.$editable.html()),document.execCommand("styleWithCSS",!1,this.options.styleWithCSS),this.focus()}},{key:"afterCommand",value:function(e){this.normalizeContent(),this.history.recordUndo(),e||this.context.triggerEvent("change",this.$editable.html(),this.$editable)}},{key:"tab",value:function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e);else{if(this.options.tabSize===0)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(e,this.options.tabSize),this.afterCommand())}}},{key:"untab",value:function(){var e=this.getLastRange();if(e.isCollapsed()&&e.isOnCell())this.table.tab(e,!0);else if(this.options.tabSize===0)return!1}},{key:"wrapCommand",value:function(e){return function(){this.beforeCommand(),e.apply(this,arguments),this.afterCommand()}}},{key:"removed",value:function(e,r,c){e=se.create(),e.isCollapsed()&&e.isOnCell()&&(r=e.ec,(c=r.tagName)&&r.childElementCount===1&&r.childNodes[0].tagName==="BR"&&(c==="P"?r.remove():["TH","TD"].indexOf(c)>=0&&r.firstChild.remove()))}},{key:"insertImage",value:function(e,r){var c=this;return cr(e).then(function(h){c.beforeCommand(),typeof r=="function"?r(h):(typeof r=="string"&&h.attr("data-filename",r),h.css("width",Math.min(c.$editable.width(),h.width()))),h.show(),c.getLastRange().insertNode(h[0]),c.setLastRange(se.createFromNodeAfter(h[0]).select()),c.afterCommand()}).fail(function(h){c.context.triggerEvent("image.upload.error",h)})}},{key:"insertImagesAsDataURL",value:function(e){var r=this;y().each(e,function(c,h){var g=h.name;r.options.maximumImageFileSize&&r.options.maximumImageFileSize<h.size?r.context.triggerEvent("image.upload.error",r.lang.image.maximumFileSizeError):ur(h).then(function(b){return r.insertImage(b,g)}).fail(function(){r.context.triggerEvent("image.upload.error")})})}},{key:"insertImagesOrCallback",value:function(e){var r=this.options.callbacks;r.onImageUpload?this.context.triggerEvent("image.upload",e):this.insertImagesAsDataURL(e)}},{key:"getSelectedText",value:function(){var e=this.getLastRange();return e.isOnAnchor()&&(e=se.createFromNode(C.ancestor(e.sc,C.isAnchor))),e.toString()}},{key:"onFormatBlock",value:function(e,r){if(document.execCommand("FormatBlock",!1,ee.isMSIE?"<"+e+">":e),r&&r.length&&(r[0].tagName.toUpperCase()!==e.toUpperCase()&&(r=r.find(e)),r&&r.length)){var c=this.createRange(),h=y()([c.sc,c.ec]).closest(e);h.removeClass();var g=r[0].className||"";g&&h.addClass(g)}}},{key:"formatPara",value:function(){this.formatBlock("P")}},{key:"fontStyling",value:function(e,r){var c=this.getLastRange();if(c!==""){var h=this.style.styleNodes(c);if(this.$editor.find(".note-status-output").html(""),y()(h).css(e,r),c.isCollapsed()){var g=F.head(h);g&&!C.nodeLength(g)&&(g.innerHTML=C.ZERO_WIDTH_NBSP_CHAR,se.createFromNode(g.firstChild).select(),this.setLastRange(),this.$editable.data(xr,g))}else c.select()}else{var b=y().now();this.$editor.find(".note-status-output").html('<div id="note-status-output-'+b+'" class="alert alert-info">'+this.lang.output.noSelection+"</div>"),setTimeout(function(){y()("#note-status-output-"+b).remove()},5e3)}}},{key:"unlink",value:function(){var e=this.getLastRange();if(e.isOnAnchor()){var r=C.ancestor(e.sc,C.isAnchor);e=se.createFromNode(r),e.select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}}},{key:"getLinkInfo",value:function(){this.hasFocus()||this.focus();var e=this.getLastRange().expand(C.isAnchor),r=y()(F.head(e.nodes(C.isAnchor))),c={range:e,text:e.toString(),url:r.length?r.attr("href"):""};return r.length&&(c.isNewWindow=r.attr("target")==="_blank"),c}},{key:"addRow",value:function(e){var r=this.getLastRange(this.$editable);r.isCollapsed()&&r.isOnCell()&&(this.beforeCommand(),this.table.addRow(r,e),this.afterCommand())}},{key:"addCol",value:function(e){var r=this.getLastRange(this.$editable);r.isCollapsed()&&r.isOnCell()&&(this.beforeCommand(),this.table.addCol(r,e),this.afterCommand())}},{key:"deleteRow",value:function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(e),this.afterCommand())}},{key:"deleteCol",value:function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(e),this.afterCommand())}},{key:"deleteTable",value:function(){var e=this.getLastRange(this.$editable);e.isCollapsed()&&e.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(e),this.afterCommand())}},{key:"resizeTo",value:function(e,r,c){var h;if(c){var g=e.y/e.x,b=r.data("ratio");h={width:b>g?e.x:e.y/b,height:b>g?e.x*b:e.y}}else h={width:e.x,height:e.y};r.css(h)}},{key:"hasFocus",value:function(){return this.$editable.is(":focus")}},{key:"focus",value:function(){this.hasFocus()||this.$editable.trigger("focus")}},{key:"isEmpty",value:function(){return C.isEmpty(this.$editable[0])||C.emptyPara===this.$editable.html()}},{key:"empty",value:function(){this.context.invoke("code",C.emptyPara)}},{key:"normalizeContent",value:function(){this.$editable[0].normalize()}}])}();function ln(i){"@babel/helpers - typeof";return ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ln(i)}function To(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Po(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Ao(r.key),r)}}function Eo(i,t,e){return t&&Po(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Ao(i){var t=Lo(i,"string");return ln(t)=="symbol"?t:t+""}function Lo(i,t){if(ln(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(ln(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var Tr=function(){function i(t){To(this,i),this.context=t,this.options=t.options,this.$editable=t.layoutInfo.editable}return Eo(i,[{key:"initialize",value:function(){this.$editable.on("paste",this.pasteByEvent.bind(this))}},{key:"pasteByEvent",value:function(e){var r=this;if(!this.context.isDisabled()){var c=e.originalEvent.clipboardData;if(c&&c.items&&c.items.length){var h=c.files,g=c.getData("Text");h.length>0&&this.options.allowClipboardImagePasting&&(this.context.invoke("editor.insertImagesOrCallback",h),e.preventDefault()),g.length>0&&this.context.invoke("editor.isLimited",g.length)&&e.preventDefault()}else if(window.clipboardData){var b=window.clipboardData.getData("text");this.context.invoke("editor.isLimited",b.length)&&e.preventDefault()}setTimeout(function(){r.context.invoke("editor.afterCommand")},10)}}}])}();function Pt(i){"@babel/helpers - typeof";return Pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pt(i)}function Pr(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function fi(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Ar(r.key),r)}}function Er(i,t,e){return t&&fi(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Ar(i){var t=di(i,"string");return Pt(t)=="symbol"?t:t+""}function di(i,t){if(Pt(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(Pt(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var _o=function(){function i(t){Pr(this,i),this.context=t,this.$eventListener=y()(document),this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.options=t.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=y()(['<div class="note-dropzone">','<div class="note-dropzone-message"></div>',"</div>"].join("")).prependTo(this.$editor)}return Er(i,[{key:"initialize",value:function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(e){e.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()}},{key:"attachDragAndDropEvent",value:function(){var e=this,r=y()(),c=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(h){var g=e.context.invoke("codeview.isActivated"),b=e.$editor.width()>0&&e.$editor.height()>0;!g&&!r.length&&b&&(e.$editor.addClass("dragover"),e.$dropzone.width(e.$editor.width()),e.$dropzone.height(e.$editor.height()),c.text(e.lang.image.dragImageHere)),r=r.add(h.target)},this.documentEventHandlers.onDragleave=function(h){r=r.not(h.target),(!r.length||h.target.nodeName==="BODY")&&(r=y()(),e.$editor.removeClass("dragover"))},this.documentEventHandlers.onDrop=function(){r=y()(),e.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){e.$dropzone.addClass("hover"),c.text(e.lang.image.dropImage)}).on("dragleave",function(){e.$dropzone.removeClass("hover"),c.text(e.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(h){var g=h.originalEvent.dataTransfer;h.preventDefault(),g&&g.files&&g.files.length?(e.$editable.trigger("focus"),e.context.invoke("editor.insertImagesOrCallback",g.files)):y().each(g.types,function(b,x){if(!(x.toLowerCase().indexOf("_moz_")>-1)){var E=g.getData(x);x.toLowerCase().indexOf("text")>-1?e.context.invoke("editor.pasteHTML",E):y()(E).each(function(N,D){e.context.invoke("editor.insertNode",D)})}})}).on("dragover",!1)}},{key:"destroy",value:function(){var e=this;Object.keys(this.documentEventHandlers).forEach(function(r){e.$eventListener.off(r.slice(2).toLowerCase(),e.documentEventHandlers[r])}),this.documentEventHandlers={}}}])}();function un(i){"@babel/helpers - typeof";return un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},un(i)}function Io(i,t){var e=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!e){if(Array.isArray(i)||(e=Lr(i))||t){e&&(i=e);var r=0,c=function(){};return{s:c,n:function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}},e:function(E){throw E},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h,g=!0,b=!1;return{s:function(){e=e.call(i)},n:function(){var E=e.next();return g=E.done,E},e:function(E){b=!0,h=E},f:function(){try{g||e.return==null||e.return()}finally{if(b)throw h}}}}function Lr(i,t){if(i){if(typeof i=="string")return hi(i,t);var e={}.toString.call(i).slice(8,-1);return e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set"?Array.from(i):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?hi(i,t):void 0}}function hi(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,r=Array(t);e<t;e++)r[e]=i[e];return r}function pi(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function No(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,n(r.key),r)}}function Do(i,t,e){return t&&No(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function n(i){var t=o(i,"string");return un(t)=="symbol"?t:t+""}function o(i,t){if(un(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(un(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var a=function(){function i(t){pi(this,i),this.context=t,this.$editor=t.layoutInfo.editor,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.options=t.options,this.CodeMirrorConstructor=window.CodeMirror,this.options.codemirror.CodeMirrorConstructor&&(this.CodeMirrorConstructor=this.options.codemirror.CodeMirrorConstructor)}return Do(i,[{key:"sync",value:function(e){var r=this.isActivated(),c=this.CodeMirrorConstructor;r&&(e?c?this.$codable.data("cmEditor").getDoc().setValue(e):this.$codable.val(e):c&&this.$codable.data("cmEditor").save())}},{key:"initialize",value:function(){var e=this;this.$codable.on("keyup",function(r){r.keyCode===de.code.ESCAPE&&e.deactivate()})}},{key:"isActivated",value:function(){return this.$editor.hasClass("codeview")}},{key:"toggle",value:function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")}},{key:"purify",value:function(e){if(this.options.codeviewFilter&&(e=e.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var r=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);e=e.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(c){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(c))return"";var h=Io(r),g;try{for(h.s();!(g=h.n()).done;){var b=g.value;if(new RegExp('src="(https?:)?//'+b.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(c))return c}}catch(x){h.e(x)}finally{h.f()}return""})}return e}},{key:"activate",value:function(){var e=this,r=this.CodeMirrorConstructor;if(this.$codable.val(C.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.context.invoke("airPopover.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.trigger("focus"),r){var c=r.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var h=new r.TernServer(this.options.codemirror.tern);c.ternServer=h,c.on("cursorActivity",function(g){h.updateArgHints(g)})}c.on("blur",function(g){e.context.triggerEvent("blur.codeview",c.getValue(),g)}),c.on("change",function(){e.context.triggerEvent("change.codeview",c.getValue(),c)}),c.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",c)}else this.$codable.on("blur",function(g){e.context.triggerEvent("blur.codeview",e.$codable.val(),g)}),this.$codable.on("input",function(){e.context.triggerEvent("change.codeview",e.$codable.val(),e.$codable)})}},{key:"deactivate",value:function(){var e=this.CodeMirrorConstructor;if(e){var r=this.$codable.data("cmEditor");this.$codable.val(r.getValue()),r.toTextArea()}var c=this.purify(C.value(this.$codable,this.options.prettifyHtml)||C.emptyPara),h=this.$editable.html()!==c;this.$editable.html(c),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),h&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.trigger("focus"),this.context.invoke("toolbar.updateCodeview",!1),this.context.invoke("airPopover.updateCodeview",!1)}},{key:"destroy",value:function(){this.isActivated()&&this.deactivate()}}])}();function s(i){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(i)}function f(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function d(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,S(r.key),r)}}function v(i,t,e){return t&&d(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function S(i){var t=k(i,"string");return s(t)=="symbol"?t:t+""}function k(i,t){if(s(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var P=24,I=function(){function i(t){f(this,i),this.$document=y()(document),this.$statusbar=t.layoutInfo.statusbar,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.options=t.options}return v(i,[{key:"initialize",value:function(){var e=this;if(this.options.airMode||this.options.disableResizeEditor){this.destroy();return}this.$statusbar.on("mousedown touchstart",function(r){r.preventDefault(),r.stopPropagation();var c=e.$editable.offset().top-e.$document.scrollTop(),h=e.$codable.offset().top-e.$document.scrollTop(),g=function(x){var E=x.type=="mousemove"?x:x.originalEvent.touches[0],N=E.clientY-(c+P),D=E.clientY-(h+P);N=e.options.minheight>0?Math.max(N,e.options.minheight):N,N=e.options.maxHeight>0?Math.min(N,e.options.maxHeight):N,D=e.options.minheight>0?Math.max(D,e.options.minheight):D,D=e.options.maxHeight>0?Math.min(D,e.options.maxHeight):D,e.$editable.height(N),e.$codable.height(D)};e.$document.on("mousemove touchmove",g).one("mouseup touchend",function(){e.$document.off("mousemove touchmove",g)})})}},{key:"destroy",value:function(){this.$statusbar.off(),this.$statusbar.addClass("locked")}}])}();function M(i){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(i)}function A(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function O(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,J(r.key),r)}}function W(i,t,e){return t&&O(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function J(i){var t=X(i,"string");return M(t)=="symbol"?t:t+""}function X(i,t){if(M(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(M(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var ge=function(){function i(t){var e=this;A(this,i),this.context=t,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.$editable=t.layoutInfo.editable,this.$codable=t.layoutInfo.codable,this.$window=y()(window),this.$scrollbar=y()("html, body"),this.scrollbarClassName="note-fullscreen-body",this.onResize=function(){e.resizeTo({h:e.$window.height()-e.$toolbar.outerHeight()})}}return W(i,[{key:"resizeTo",value:function(e){this.$editable.css("height",e.h),this.$codable.css("height",e.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,e.h)}},{key:"toggle",value:function(){this.$editor.toggleClass("fullscreen");var e=this.isFullscreen();this.$scrollbar.toggleClass(this.scrollbarClassName,e),e?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight"))),this.context.invoke("toolbar.updateFullscreen",e)}},{key:"isFullscreen",value:function(){return this.$editor.hasClass("fullscreen")}},{key:"destroy",value:function(){this.$scrollbar.removeClass(this.scrollbarClassName)}}])}();function fe(i){"@babel/helpers - typeof";return fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(i)}function Re(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,On(r.key),r)}}function oe(i,t,e){return t&&_e(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function On(i){var t=ue(i,"string");return fe(t)=="symbol"?t:t+""}function ue(i,t){if(fe(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(fe(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var Se=function(){function i(t){var e=this;Re(this,i),this.context=t,this.$document=y()(document),this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(c,h){e.update(h.target,h)&&h.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){e.update()},"summernote.disable summernote.blur":function(){e.hide()},"summernote.codeview.toggled":function(){e.update()}}}return oe(i,[{key:"initialize",value:function(){var e=this;this.$handle=y()(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(r){if(C.isControlSizing(r.target)){r.preventDefault(),r.stopPropagation();var c=e.$handle.find(".note-control-selection").data("target"),h=c.offset(),g=e.$document.scrollTop(),b=function(E){e.context.invoke("editor.resizeTo",{x:E.clientX-h.left,y:E.clientY-(h.top-g)},c,!E.shiftKey),e.update(c[0],E)};e.$document.on("mousemove",b).one("mouseup",function(x){x.preventDefault(),e.$document.off("mousemove",b),e.context.invoke("editor.afterCommand")}),c.data("ratio")||c.data("ratio",c.height()/c.width())}}),this.$handle.on("wheel",function(r){r.preventDefault(),e.update()})}},{key:"destroy",value:function(){this.$handle.remove()}},{key:"update",value:function(e,r){if(this.context.isDisabled())return!1;var c=C.isImg(e),h=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",e,r),c){var g=y()(e),b=this.$editingArea[0].getBoundingClientRect(),x=e.getBoundingClientRect();h.css({display:"block",left:x.left-b.left,top:x.top-b.top,width:x.width,height:x.height}).data("target",g);var E=new Image;E.src=g.attr("src");var N=x.width+"x"+x.height+" ("+this.lang.image.original+": "+E.width+"x"+E.height+")";h.find(".note-control-selection-info").text(N),this.context.invoke("editor.saveTarget",e)}else this.hide();return c}},{key:"hide",value:function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()}}])}();function Ht(i){"@babel/helpers - typeof";return Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(i)}function Oo(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function bt(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,cn(r.key),r)}}function vi(i,t,e){return t&&bt(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function cn(i){var t=Bt(i,"string");return Ht(t)=="symbol"?t:t+""}function Bt(i,t){if(Ht(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(Ht(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var zt="http://",et=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|tel:|mailto:[A-Z0-9._%+-]+@|xmpp:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,ja=function(){function i(t){var e=this;Oo(this,i),this.context=t,this.options=t.options,this.$editable=t.layoutInfo.editable,this.events={"summernote.keyup":function(c,h){h.isDefaultPrevented()||e.handleKeyup(h)},"summernote.keydown":function(c,h){e.handleKeydown(h)}}}return vi(i,[{key:"initialize",value:function(){this.lastWordRange=null}},{key:"destroy",value:function(){this.lastWordRange=null}},{key:"replace",value:function(){if(this.lastWordRange){var e=this.lastWordRange.toString(),r=e.match(et);if(r&&(r[1]||r[2])){var c=r[1]?e:zt+e,h=this.options.showDomainOnlyForAutolink?e.replace(/^(?:https?:\/\/)?(?:tel?:?)?(?:mailto?:?)?(?:xmpp?:?)?(?:www\.)?/i,"").split("/")[0]:e,g=y()("<a></a>").html(h).attr("href",c)[0];this.context.options.linkTargetBlank&&y()(g).attr("target","_blank"),this.lastWordRange.insertNode(g),this.lastWordRange=null,this.context.invoke("editor.focus"),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}}}},{key:"handleKeydown",value:function(e){if(F.contains([de.code.ENTER,de.code.SPACE],e.keyCode)){var r=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=r}}},{key:"handleKeyup",value:function(e){(de.code.SPACE===e.keyCode||de.code.ENTER===e.keyCode&&!e.shiftKey)&&this.replace()}}])}();function gi(i){"@babel/helpers - typeof";return gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gi(i)}function Fa(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Ha(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,za(r.key),r)}}function Ba(i,t,e){return t&&Ha(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function za(i){var t=Ua(i,"string");return gi(t)=="symbol"?t:t+""}function Ua(i,t){if(gi(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(gi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var qa=function(){function i(t){var e=this;Fa(this,i),this.$note=t.layoutInfo.note,this.events={"summernote.change":function(){e.$note.val(t.invoke("code"))}}}return Ba(i,[{key:"shouldInitialize",value:function(){return C.isTextarea(this.$note[0])}}])}();function mi(i){"@babel/helpers - typeof";return mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mi(i)}function Wa(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Ka(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Ga(r.key),r)}}function Va(i,t,e){return t&&Ka(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Ga(i){var t=Xa(i,"string");return mi(t)=="symbol"?t:t+""}function Xa(i,t){if(mi(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(mi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var Ya=function(){function i(t){var e=this;Wa(this,i),this.context=t,this.options=t.options.replace||{},this.keys=[de.code.ENTER,de.code.SPACE,de.code.PERIOD,de.code.COMMA,de.code.SEMICOLON,de.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(c,h){h.isDefaultPrevented()||e.handleKeyup(h)},"summernote.keydown":function(c,h){e.handleKeydown(h)}}}return Va(i,[{key:"shouldInitialize",value:function(){return!!this.options.match}},{key:"initialize",value:function(){this.lastWord=null}},{key:"destroy",value:function(){this.lastWord=null}},{key:"replace",value:function(){if(this.lastWord){var e=this,r=this.lastWord.toString();this.options.match(r,function(c){if(c){var h="";if(typeof c=="string"?h=C.createText(c):c instanceof jQuery?h=c[0]:c instanceof Node&&(h=c),!h)return;e.lastWord.insertNode(h),e.lastWord=null,e.context.invoke("editor.focus")}})}}},{key:"handleKeydown",value:function(e){if(this.previousKeydownCode&&F.contains(this.keys,this.previousKeydownCode)){this.previousKeydownCode=e.keyCode;return}if(F.contains(this.keys,e.keyCode)){var r=this.context.invoke("editor.createRange").getWordRange();this.lastWord=r}this.previousKeydownCode=e.keyCode}},{key:"handleKeyup",value:function(e){F.contains(this.keys,e.keyCode)&&this.replace()}}])}();function yi(i){"@babel/helpers - typeof";return yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(i)}function Ja(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Qa(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,es(r.key),r)}}function Za(i,t,e){return t&&Qa(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function es(i){var t=ts(i,"string");return yi(t)=="symbol"?t:t+""}function ts(i,t){if(yi(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(yi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var ns=function(){function i(t){var e=this;Ja(this,i),this.context=t,this.$editingArea=t.layoutInfo.editingArea,this.options=t.options,this.options.inheritPlaceholder===!0&&(this.options.placeholder=this.context.$note.attr("placeholder")||this.options.placeholder),this.events={"summernote.init summernote.change":function(){e.update()},"summernote.codeview.toggled":function(){e.update()}}}return Za(i,[{key:"shouldInitialize",value:function(){return!!this.options.placeholder}},{key:"initialize",value:function(){var e=this;this.$placeholder=y()('<div class="note-placeholder"></div>'),this.$placeholder.on("click",function(){e.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()}},{key:"destroy",value:function(){this.$placeholder.remove()}},{key:"update",value:function(){var e=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(e)}}])}();function bi(i){"@babel/helpers - typeof";return bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bi(i)}function is(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function rs(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,as(r.key),r)}}function os(i,t,e){return t&&rs(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function as(i){var t=ss(i,"string");return bi(t)=="symbol"?t:t+""}function ss(i,t){if(bi(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(bi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var ls=function(){function i(t){is(this,i),this.ui=y().summernote.ui,this.context=t,this.$toolbar=t.layoutInfo.toolbar,this.options=t.options,this.lang=this.options.langInfo,this.invertedKeyMap=ie.invertObject(this.options.keyMap[ee.isMac?"mac":"pc"])}return os(i,[{key:"representShortcut",value:function(e){var r=this.invertedKeyMap[e];return!this.options.shortcuts||!r?"":(ee.isMac&&(r=r.replace("CMD","⌘").replace("SHIFT","⇧")),r=r.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")," ("+r+")")}},{key:"button",value:function(e){return!this.options.tooltip&&e.tooltip&&delete e.tooltip,e.container=this.options.container,this.ui.button(e)}},{key:"initialize",value:function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}}},{key:"destroy",value:function(){delete this.fontInstalledMap}},{key:"isFontInstalled",value:function(e){return Object.prototype.hasOwnProperty.call(this.fontInstalledMap,e)||(this.fontInstalledMap[e]=ee.isFontInstalled(e)||F.contains(this.options.fontNamesIgnoreCheck,e)),this.fontInstalledMap[e]}},{key:"isFontDeservedToAdd",value:function(e){return e=e.toLowerCase(),e!==""&&this.isFontInstalled(e)&&ee.genericFontFamilies.indexOf(e)===-1}},{key:"colorPalette",value:function(e,r,c,h){var g=this;return this.ui.buttonGroup({className:"note-color "+e,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:r,click:function(x){var E=y()(x.currentTarget);c&&h?g.context.invoke("editor.color",{backColor:E.attr("data-backColor"),foreColor:E.attr("data-foreColor")}):c?g.context.invoke("editor.color",{backColor:E.attr("data-backColor")}):h&&g.context.invoke("editor.color",{foreColor:E.attr("data-foreColor")})},callback:function(x){var E=x.find(".note-recent-color");c&&(E.css("background-color",g.options.colorButton.backColor),x.attr("data-backColor",g.options.colorButton.backColor)),h?(E.css("color",g.options.colorButton.foreColor),x.attr("data-foreColor",g.options.colorButton.foreColor)):E.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(c?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.background+"</div>","<div>",'<button type="button" class="note-color-reset btn btn-light btn-default" data-event="backColor" data-value="transparent">',this.lang.color.transparent,"</button>","</div>",'<div class="note-holder" data-event="backColor"><!-- back colors --></div>',"<div>",'<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="backColorPicker-'+this.options.id+'">',this.lang.color.cpSelect,"</button>",'<input type="color" id="backColorPicker-'+this.options.id+'" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette-'+this.options.id+'">',"</div>",'<div class="note-holder-custom" id="backColorPalette-'+this.options.id+'" data-event="backColor"></div>',"</div>"].join(""):"")+(h?['<div class="note-palette">','<div class="note-palette-title">'+this.lang.color.foreground+"</div>","<div>",'<button type="button" class="note-color-reset btn btn-light btn-default" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"</button>","</div>",'<div class="note-holder" data-event="foreColor"><!-- fore colors --></div>',"<div>",'<button type="button" class="note-color-select btn btn-light btn-default" data-event="openPalette" data-value="foreColorPicker-'+this.options.id+'">',this.lang.color.cpSelect,"</button>",'<input type="color" id="foreColorPicker-'+this.options.id+'" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette-'+this.options.id+'">',"</div>",'<div class="note-holder-custom" id="foreColorPalette-'+this.options.id+'" data-event="foreColor"></div>',"</div>"].join(""):""),callback:function(x){x.find(".note-holder").each(function(N,D){var H=y()(D);H.append(g.ui.palette({colors:g.options.colors,colorsName:g.options.colorsName,eventName:H.data("event"),container:g.options.container,tooltip:g.options.tooltip}).render())});var E=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];x.find(".note-holder-custom").each(function(N,D){var H=y()(D);H.append(g.ui.palette({colors:E,colorsName:E,eventName:H.data("event"),container:g.options.container,tooltip:g.options.tooltip}).render())}),x.find("input[type=color]").each(function(N,D){y()(D).on("change",function(){var H=x.find("#"+y()(this).data("event")).find(".note-color-btn").first(),U=this.value.toUpperCase();H.css("background-color",U).attr("aria-label",U).attr("data-value",U).attr("data-original-title",U),H.trigger("click")})})},click:function(x){x.stopPropagation();var E=y()("."+e).find(".note-dropdown-menu"),N=y()(x.target),D=N.data("event"),H=N.attr("data-value");if(D==="openPalette"){var U=E.find("#"+H),Z=y()(E.find("#"+U.data("event")).find(".note-color-row")[0]),he=Z.find(".note-color-btn").last().detach(),we=U.val();he.css("background-color",we).attr("aria-label",we).attr("data-value",we).attr("data-original-title",we),Z.prepend(he),U.trigger("click")}else{if(F.contains(["backColor","foreColor"],D)){var Ie=D==="backColor"?"background-color":"color",Y=N.closest(".note-color").find(".note-recent-color"),V=N.closest(".note-color").find(".note-current-color-button");Y.css(Ie,H),V.attr("data-"+D,H)}g.context.invoke("editor."+D,H)}}})]}).render()}},{key:"addToolbarButtons",value:function(){var e=this;this.context.memo("button.style",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.magic),e.options),tooltip:e.lang.style.style,data:{toggle:"dropdown"}}),e.ui.dropdown({className:"dropdown-style",items:e.options.styleTags,title:e.lang.style.style,template:function(U){typeof U=="string"&&(U={tag:U,title:Object.prototype.hasOwnProperty.call(e.lang.style,U)?e.lang.style[U]:U});var Z=U.tag,he=U.title,we=U.style?' style="'+U.style+'" ':"",Ie=U.className?' class="'+U.className+'"':"";return"<"+Z+we+Ie+">"+he+"</"+Z+">"},click:e.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var r=function(){var U=e.options.styleTags[c];e.context.memo("button.style."+U,function(){return e.button({className:"note-btn-style-"+U,contents:'<div data-value="'+U+'">'+U.toUpperCase()+"</div>",tooltip:e.lang.style[U],click:e.context.createInvokeHandler("editor.formatBlock")}).render()})},c=0,h=this.options.styleTags.length;c<h;c++)r();this.context.memo("button.bold",function(){return e.button({className:"note-btn-bold",contents:e.ui.icon(e.options.icons.bold),tooltip:e.lang.font.bold+e.representShortcut("bold"),click:e.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return e.button({className:"note-btn-italic",contents:e.ui.icon(e.options.icons.italic),tooltip:e.lang.font.italic+e.representShortcut("italic"),click:e.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return e.button({className:"note-btn-underline",contents:e.ui.icon(e.options.icons.underline),tooltip:e.lang.font.underline+e.representShortcut("underline"),click:e.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return e.button({contents:e.ui.icon(e.options.icons.eraser),tooltip:e.lang.font.clear+e.representShortcut("removeFormat"),click:e.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return e.button({className:"note-btn-strikethrough",contents:e.ui.icon(e.options.icons.strikethrough),tooltip:e.lang.font.strikethrough+e.representShortcut("strikethrough"),click:e.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return e.button({className:"note-btn-superscript",contents:e.ui.icon(e.options.icons.superscript),tooltip:e.lang.font.superscript,click:e.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return e.button({className:"note-btn-subscript",contents:e.ui.icon(e.options.icons.subscript),tooltip:e.lang.font.subscript,click:e.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var H=e.context.invoke("editor.currentStyle");return e.options.addDefaultFonts&&y().each(H["font-family"].split(","),function(U,Z){Z=Z.trim().replace(/['"]+/g,""),e.isFontDeservedToAdd(Z)&&e.options.fontNames.indexOf(Z)===-1&&e.options.fontNames.push(Z)}),e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontname"></span>',e.options),tooltip:e.lang.font.name,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:e.options.icons.menuCheck,items:e.options.fontNames.filter(e.isFontInstalled.bind(e)),title:e.lang.font.name,template:function(Z){return'<span style="font-family: '+ee.validFontName(Z)+'">'+Z+"</span>"},click:e.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontsize"></span>',e.options),tooltip:e.lang.font.size,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:e.options.icons.menuCheck,items:e.options.fontSizes,title:e.lang.font.size,click:e.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.fontsizeunit",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents('<span class="note-current-fontsizeunit"></span>',e.options),tooltip:e.lang.font.sizeunit,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({className:"dropdown-fontsizeunit",checkClassName:e.options.icons.menuCheck,items:e.options.fontSizeUnits,title:e.lang.font.sizeunit,click:e.context.createInvokeHandlerAndUpdateState("editor.fontSizeUnit")})]).render()}),this.context.memo("button.color",function(){return e.colorPalette("note-color-all",e.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return e.colorPalette("note-color-fore",e.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return e.colorPalette("note-color-back",e.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return e.button({contents:e.ui.icon(e.options.icons.unorderedlist),tooltip:e.lang.lists.unordered+e.representShortcut("insertUnorderedList"),click:e.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return e.button({contents:e.ui.icon(e.options.icons.orderedlist),tooltip:e.lang.lists.ordered+e.representShortcut("insertOrderedList"),click:e.context.createInvokeHandler("editor.insertOrderedList")}).render()});var g=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),b=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),x=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),E=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),N=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),D=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",ie.invoke(g,"render")),this.context.memo("button.justifyCenter",ie.invoke(b,"render")),this.context.memo("button.justifyRight",ie.invoke(x,"render")),this.context.memo("button.justifyFull",ie.invoke(E,"render")),this.context.memo("button.outdent",ie.invoke(N,"render")),this.context.memo("button.indent",ie.invoke(D,"render")),this.context.memo("button.paragraph",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.alignLeft),e.options),tooltip:e.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),e.ui.dropdown([e.ui.buttonGroup({className:"note-align",children:[g,b,x,E]}),e.ui.buttonGroup({className:"note-list",children:[N,D]})])]).render()}),this.context.memo("button.height",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.textHeight),e.options),tooltip:e.lang.font.height,data:{toggle:"dropdown"}}),e.ui.dropdownCheck({items:e.options.lineHeights,checkClassName:e.options.icons.menuCheck,className:"dropdown-line-height",title:e.lang.font.height,click:e.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return e.ui.buttonGroup([e.button({className:"dropdown-toggle",contents:e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.table),e.options),tooltip:e.lang.table.table,data:{toggle:"dropdown"}}),e.ui.dropdown({title:e.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(U){var Z=U.find(".note-dimension-picker-mousecatcher");Z.css({width:e.options.insertTableMaxSize.col+"em",height:e.options.insertTableMaxSize.row+"em"}).on("mousedown",e.context.createInvokeHandler("editor.insertTable")).on("mousemove",e.tableMoveHandler.bind(e))}}).render()}),this.context.memo("button.link",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.link+e.representShortcut("linkDialog.show"),click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return e.button({contents:e.ui.icon(e.options.icons.picture),tooltip:e.lang.image.image,click:e.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return e.button({contents:e.ui.icon(e.options.icons.video),tooltip:e.lang.video.video,click:e.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return e.button({contents:e.ui.icon(e.options.icons.minus),tooltip:e.lang.hr.insert+e.representShortcut("insertHorizontalRule"),click:e.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return e.button({className:"btn-fullscreen note-codeview-keep",contents:e.ui.icon(e.options.icons.arrowsAlt),tooltip:e.lang.options.fullscreen,click:e.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return e.button({className:"btn-codeview note-codeview-keep",contents:e.ui.icon(e.options.icons.code),tooltip:e.lang.options.codeview,click:e.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return e.button({contents:e.ui.icon(e.options.icons.redo),tooltip:e.lang.history.redo+e.representShortcut("redo"),click:e.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return e.button({contents:e.ui.icon(e.options.icons.undo),tooltip:e.lang.history.undo+e.representShortcut("undo"),click:e.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return e.button({contents:e.ui.icon(e.options.icons.question),tooltip:e.lang.options.help,click:e.context.createInvokeHandler("helpDialog.show")}).render()})}},{key:"addImagePopoverButtons",value:function(){var e=this;this.context.memo("button.resizeFull",function(){return e.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:e.lang.image.resizeFull,click:e.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return e.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:e.lang.image.resizeHalf,click:e.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return e.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:e.lang.image.resizeQuarter,click:e.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.resizeNone,click:e.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return e.button({contents:e.ui.icon(e.options.icons.floatLeft),tooltip:e.lang.image.floatLeft,click:e.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return e.button({contents:e.ui.icon(e.options.icons.floatRight),tooltip:e.lang.image.floatRight,click:e.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return e.button({contents:e.ui.icon(e.options.icons.rollback),tooltip:e.lang.image.floatNone,click:e.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return e.button({contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.image.remove,click:e.context.createInvokeHandler("editor.removeMedia")}).render()})}},{key:"addLinkPopoverButtons",value:function(){var e=this;this.context.memo("button.linkDialogShow",function(){return e.button({contents:e.ui.icon(e.options.icons.link),tooltip:e.lang.link.edit,click:e.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return e.button({contents:e.ui.icon(e.options.icons.unlink),tooltip:e.lang.link.unlink,click:e.context.createInvokeHandler("editor.unlink")}).render()})}},{key:"addTablePopoverButtons",value:function(){var e=this;this.context.memo("button.addRowUp",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowAbove),tooltip:e.lang.table.addRowAbove,click:e.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowBelow),tooltip:e.lang.table.addRowBelow,click:e.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colBefore),tooltip:e.lang.table.addColLeft,click:e.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colAfter),tooltip:e.lang.table.addColRight,click:e.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.rowRemove),tooltip:e.lang.table.delRow,click:e.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.colRemove),tooltip:e.lang.table.delCol,click:e.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return e.button({className:"btn-md",contents:e.ui.icon(e.options.icons.trash),tooltip:e.lang.table.delTable,click:e.context.createInvokeHandler("editor.deleteTable")}).render()})}},{key:"build",value:function(e,r){for(var c=0,h=r.length;c<h;c++){for(var g=r[c],b=Array.isArray(g)?g[0]:g,x=Array.isArray(g)?g.length===1?[g[0]]:g[1]:[g],E=this.ui.buttonGroup({className:"note-"+b}).render(),N=0,D=x.length;N<D;N++){var H=this.context.memo("button."+x[N]);H&&E.append(typeof H=="function"?H(this.context):H)}E.appendTo(e)}}},{key:"updateCurrentStyle",value:function(e){var r=e||this.$toolbar,c=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(r,{".note-btn-bold":function(){return c["font-bold"]==="bold"},".note-btn-italic":function(){return c["font-italic"]==="italic"},".note-btn-underline":function(){return c["font-underline"]==="underline"},".note-btn-subscript":function(){return c["font-subscript"]==="subscript"},".note-btn-superscript":function(){return c["font-superscript"]==="superscript"},".note-btn-strikethrough":function(){return c["font-strikethrough"]==="strikethrough"}}),c["font-family"]){var h=c["font-family"].split(",").map(function(N){return N.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),g=F.find(h,this.isFontInstalled.bind(this));r.find(".dropdown-fontname a").each(function(N,D){var H=y()(D),U=H.data("value")+""==g+"";H.toggleClass("checked",U)}),r.find(".note-current-fontname").text(g).css("font-family",g)}if(c["font-size"]){var b=c["font-size"];r.find(".dropdown-fontsize a").each(function(N,D){var H=y()(D),U=H.data("value")+""==b+"";H.toggleClass("checked",U)}),r.find(".note-current-fontsize").text(b);var x=c["font-size-unit"];r.find(".dropdown-fontsizeunit a").each(function(N,D){var H=y()(D),U=H.data("value")+""==x+"";H.toggleClass("checked",U)}),r.find(".note-current-fontsizeunit").text(x)}if(c["line-height"]){var E=c["line-height"];r.find(".dropdown-line-height a").each(function(N,D){var H=y()(D),U=y()(D).data("value")+""==E+"";H.toggleClass("checked",U)}),r.find(".note-current-line-height").text(E)}}},{key:"updateBtnStates",value:function(e,r){var c=this;y().each(r,function(h,g){c.ui.toggleBtnActive(e.find(h),g())})}},{key:"tableMoveHandler",value:function(e){var r=18,c=y()(e.target.parentNode),h=c.next(),g=c.find(".note-dimension-picker-mousecatcher"),b=c.find(".note-dimension-picker-highlighted"),x=c.find(".note-dimension-picker-unhighlighted"),E;if(e.offsetX===void 0){var N=y()(e.target).offset();E={x:e.pageX-N.left,y:e.pageY-N.top}}else E={x:e.offsetX,y:e.offsetY};var D={c:Math.ceil(E.x/r)||1,r:Math.ceil(E.y/r)||1};b.css({width:D.c+"em",height:D.r+"em"}),g.data("value",D.c+"x"+D.r),D.c>3&&D.c<this.options.insertTableMaxSize.col&&x.css({width:D.c+1+"em"}),D.r>3&&D.r<this.options.insertTableMaxSize.row&&x.css({height:D.r+1+"em"}),h.html(D.c+" x "+D.r)}}])}();function ki(i){"@babel/helpers - typeof";return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ki(i)}function us(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function cs(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,ds(r.key),r)}}function fs(i,t,e){return t&&cs(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function ds(i){var t=hs(i,"string");return ki(t)=="symbol"?t:t+""}function hs(i,t){if(ki(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(ki(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var ps=function(){function i(t){us(this,i),this.context=t,this.$window=y()(window),this.$document=y()(document),this.ui=y().summernote.ui,this.$note=t.layoutInfo.note,this.$editor=t.layoutInfo.editor,this.$toolbar=t.layoutInfo.toolbar,this.$editable=t.layoutInfo.editable,this.$statusbar=t.layoutInfo.statusbar,this.options=t.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}return fs(i,[{key:"shouldInitialize",value:function(){return!this.options.airMode}},{key:"initialize",value:function(){var e=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){e.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)}},{key:"destroy",value:function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)}},{key:"followScroll",value:function(){if(this.$editor.hasClass("fullscreen"))return!1;var e=this.$editor.outerHeight(),r=this.$editor.width(),c=this.$toolbar.height(),h=this.$statusbar.height(),g=0;this.options.otherStaticBar&&(g=y()(this.options.otherStaticBar).outerHeight());var b=this.$document.scrollTop(),x=this.$editor.offset().top,E=x+e,N=x-g,D=E-g-c-h;!this.isFollowing&&b>N&&b<D-c?(this.isFollowing=!0,this.$editable.css({marginTop:this.$toolbar.outerHeight()}),this.$toolbar.css({position:"fixed",top:g,width:r,zIndex:1e3})):this.isFollowing&&(b<N||b>D)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%",zIndex:"auto"}),this.$editable.css({marginTop:""}))}},{key:"changeContainer",value:function(e){e?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.options.followingToolbar&&this.followScroll()}},{key:"updateFullscreen",value:function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),e),this.changeContainer(e)}},{key:"updateCodeview",value:function(e){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),e),e?this.deactivate():this.activate()}},{key:"activate",value:function(e){var r=this.$toolbar.find("button");e||(r=r.not(".note-codeview-keep")),this.ui.toggleBtn(r,!0)}},{key:"deactivate",value:function(e){var r=this.$toolbar.find("button");e||(r=r.not(".note-codeview-keep")),this.ui.toggleBtn(r,!1)}}])}();function wi(i){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wi(i)}function vs(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function gs(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,ys(r.key),r)}}function ms(i,t,e){return t&&gs(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function ys(i){var t=bs(i,"string");return wi(t)=="symbol"?t:t+""}function bs(i,t){if(wi(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(wi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var ks=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,ws=/^(\+?\d{1,3}[\s-]?)?(\d{1,4})[\s-]?(\d{1,4})[\s-]?(\d{1,4})$/,Cs=/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/,Ss=function(){function i(t){vs(this,i),this.context=t,this.ui=y().summernote.ui,this.$body=y()(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo,t.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return ms(i,[{key:"initialize",value:function(){var e=this.options.dialogsInBody?this.$body:this.options.container,r=['<div class="form-group note-form-group">','<label for="note-dialog-link-txt-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.link.textToDisplay,"</label>"),'<input id="note-dialog-link-txt-'.concat(this.options.id,'" class="note-link-text form-control note-form-control note-input" type="text"/>'),"</div>",'<div class="form-group note-form-group">','<label for="note-dialog-link-url-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.link.url,"</label>"),'<input id="note-dialog-link-url-'.concat(this.options.id,'" class="note-link-url form-control note-form-control note-input" type="text" value="http://"/>'),"</div>",this.options.disableLinkTarget?"":y()("<div></div>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),c="btn btn-primary note-btn note-btn-primary note-link-btn",h='<input type="button" href="#" class="'.concat(c,'" value="').concat(this.lang.link.insert,'" disabled>');this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:r,footer:h}).render().appendTo(e)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(e,r){e.on("keypress",function(c){c.keyCode===de.code.ENTER&&(c.preventDefault(),r.trigger("click"))})}},{key:"checkLinkUrl",value:function(e){return ks.test(e)?"mailto://"+e:ws.test(e)?"tel://"+e:Cs.test(e)?e:"http://"+e}},{key:"onCheckLinkUrl",value:function(e){var r=this;e.on("blur",function(c){c.target.value=c.target.value==""?"":r.checkLinkUrl(c.target.value)})}},{key:"toggleLinkBtn",value:function(e,r,c){this.ui.toggleBtn(e,r.val()&&c.val())}},{key:"showLinkDialog",value:function(e){var r=this;return y().Deferred(function(c){var h=r.$dialog.find(".note-link-text"),g=r.$dialog.find(".note-link-url"),b=r.$dialog.find(".note-link-btn"),x=r.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");r.ui.onDialogShown(r.$dialog,function(){r.context.triggerEvent("dialog.shown"),!e.url&&ie.isValidUrl(e.text)&&(e.url=r.checkLinkUrl(e.text)),h.on("input paste propertychange",function(){var N=h.val(),D=document.createElement("div");D.innerText=N,N=D.innerHTML,e.text=N,r.toggleLinkBtn(b,h,g)}).val(e.text),g.on("input paste propertychange",function(){e.text||h.val(g.val()),r.toggleLinkBtn(b,h,g)}).val(e.url),ee.isSupportTouch||g.trigger("focus"),r.toggleLinkBtn(b,h,g),r.bindEnterKey(g,b),r.bindEnterKey(h,b),r.onCheckLinkUrl(g);var E=e.isNewWindow!==void 0?e.isNewWindow:r.context.options.linkTargetBlank;x.prop("checked",E),b.one("click",function(N){N.preventDefault(),c.resolve({range:e.range,url:g.val(),text:h.val(),isNewWindow:x.is(":checked")}),r.ui.hideDialog(r.$dialog)})}),r.ui.onDialogHidden(r.$dialog,function(){h.off(),g.off(),b.off(),c.state()==="pending"&&c.reject()}),r.ui.showDialog(r.$dialog)}).promise()}},{key:"show",value:function(){var e=this,r=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(r).then(function(c){e.context.invoke("editor.restoreRange"),e.context.invoke("editor.createLink",c)}).fail(function(){e.context.invoke("editor.restoreRange")})}}])}();function Ci(i){"@babel/helpers - typeof";return Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ci(i)}function xs(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Ts(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Es(r.key),r)}}function Ps(i,t,e){return t&&Ts(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Es(i){var t=As(i,"string");return Ci(t)=="symbol"?t:t+""}function As(i,t){if(Ci(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(Ci(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var Ls=function(){function i(t){var e=this;xs(this,i),this.context=t,this.ui=y().summernote.ui,this.options=t.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){e.update()},"summernote.disable summernote.dialog.shown":function(){e.hide()},"summernote.blur":function(c,h){h.originalEvent&&h.originalEvent.relatedTarget&&e.$popover[0].contains(h.originalEvent.relatedTarget)||e.hide()}}}return Ps(i,[{key:"shouldInitialize",value:function(){return!F.isEmpty(this.options.popover.link)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(c){var h=c.find(".popover-content,.note-popover-content");h.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.link),this.$popover.on("mousedown",function(r){r.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(){if(!this.context.invoke("editor.hasFocus")){this.hide();return}var e=this.context.invoke("editor.getLastRange");if(e.isCollapsed()&&e.isOnAnchor()){var r=C.ancestor(e.sc,C.isAnchor),c=y()(r).attr("href");this.$popover.find("a").attr("href",c).text(c);var h=C.posFromPlaceholder(r),g=y()(this.options.container).offset();h.top-=g.top,h.left-=g.left,this.$popover.css({display:"block",left:h.left,top:h.top})}else this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}])}();function Si(i){"@babel/helpers - typeof";return Si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Si(i)}function _s(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Is(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Ds(r.key),r)}}function Ns(i,t,e){return t&&Is(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Ds(i){var t=Os(i,"string");return Si(t)=="symbol"?t:t+""}function Os(i,t){if(Si(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(Si(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var Ms=function(){function i(t){_s(this,i),this.context=t,this.ui=y().summernote.ui,this.$body=y()(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}return Ns(i,[{key:"initialize",value:function(){var e="";if(this.options.maximumImageFileSize){var r=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),c=(this.options.maximumImageFileSize/Math.pow(1024,r)).toFixed(2)*1+" "+" KMGTP"[r]+"B";e="<small>".concat(this.lang.image.maximumFileSize+" : "+c,"</small>")}var h=this.options.dialogsInBody?this.$body:this.options.container,g=['<div class="form-group note-form-group note-group-select-from-files">','<label for="note-dialog-image-file-'+this.options.id+'" class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input id="note-dialog-image-file-'+this.options.id+'" class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="'+this.options.acceptImageFileTypes+'" multiple="multiple"/>',e,"</div>",'<div class="form-group note-group-image-url">','<label for="note-dialog-image-url-'+this.options.id+'" class="note-form-label">'+this.lang.image.url+"</label>",'<input id="note-dialog-image-url-'+this.options.id+'" class="note-image-url form-control note-form-control note-input" type="text"/>',"</div>"].join(""),b="btn btn-primary note-btn note-btn-primary note-image-btn",x='<input type="button" href="#" class="'.concat(b,'" value="').concat(this.lang.image.insert,'" disabled>');this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:g,footer:x}).render().appendTo(h)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(e,r){e.on("keypress",function(c){c.keyCode===de.code.ENTER&&(c.preventDefault(),r.trigger("click"))})}},{key:"show",value:function(){var e=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(r){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange"),typeof r=="string"?e.options.callbacks.onImageLinkInsert?e.context.triggerEvent("image.link.insert",r):e.context.invoke("editor.insertImage",r):e.context.invoke("editor.insertImagesOrCallback",r)}).fail(function(){e.context.invoke("editor.restoreRange")})}},{key:"showImageDialog",value:function(){var e=this;return y().Deferred(function(r){var c=e.$dialog.find(".note-image-input"),h=e.$dialog.find(".note-image-url"),g=e.$dialog.find(".note-image-btn");e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),c.replaceWith(c.clone().on("change",function(b){r.resolve(b.target.files||b.target.value)}).val("")),h.on("input paste propertychange",function(){e.ui.toggleBtn(g,h.val())}).val(""),ee.isSupportTouch||h.trigger("focus"),g.on("click",function(b){b.preventDefault(),r.resolve(h.val())}),e.bindEnterKey(h,g)}),e.ui.onDialogHidden(e.$dialog,function(){c.off(),h.off(),g.off(),r.state()==="pending"&&r.reject()}),e.ui.showDialog(e.$dialog)})}}])}();function xi(i){"@babel/helpers - typeof";return xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xi(i)}function Rs(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function $s(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Fs(r.key),r)}}function js(i,t,e){return t&&$s(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Fs(i){var t=Hs(i,"string");return xi(t)=="symbol"?t:t+""}function Hs(i,t){if(xi(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(xi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var Bs=function(){function i(t){var e=this;Rs(this,i),this.context=t,this.ui=y().summernote.ui,this.editable=t.layoutInfo.editable[0],this.options=t.options,this.events={"summernote.disable summernote.dialog.shown":function(){e.hide()},"summernote.blur":function(c,h){h.originalEvent&&h.originalEvent.relatedTarget&&e.$popover[0].contains(h.originalEvent.relatedTarget)||e.hide()}}}return js(i,[{key:"shouldInitialize",value:function(){return!F.isEmpty(this.options.popover.image)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.image),this.$popover.on("mousedown",function(r){r.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(e,r){if(C.isImg(e)){var c=y()(e).offset(),h=y()(this.options.container).offset(),g={};this.options.popatmouse?(g.left=r.pageX-20,g.top=r.pageY):g=c,g.top-=h.top,g.left-=h.left,this.$popover.css({display:"block",left:g.left,top:g.top})}else this.hide()}},{key:"hide",value:function(){this.$popover.hide()}}])}();function Ti(i){"@babel/helpers - typeof";return Ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ti(i)}function zs(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Us(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Ws(r.key),r)}}function qs(i,t,e){return t&&Us(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Ws(i){var t=Ks(i,"string");return Ti(t)=="symbol"?t:t+""}function Ks(i,t){if(Ti(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(Ti(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var Vs=function(){function i(t){var e=this;zs(this,i),this.context=t,this.ui=y().summernote.ui,this.options=t.options,this.events={"summernote.mousedown":function(c,h){e.update(h.target)},"summernote.keyup summernote.scroll summernote.change":function(){e.update()},"summernote.disable summernote.dialog.shown":function(){e.hide()},"summernote.blur":function(c,h){h.originalEvent&&h.originalEvent.relatedTarget&&e.$popover[0].contains(h.originalEvent.relatedTarget)||e.hide()}}}return qs(i,[{key:"shouldInitialize",value:function(){return!F.isEmpty(this.options.popover.table)}},{key:"initialize",value:function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var e=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",e,this.options.popover.table),ee.isFF&&document.execCommand("enableInlineTableEditing",!1,!1),this.$popover.on("mousedown",function(r){r.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(e){if(this.context.isDisabled())return!1;var r=C.isCell(e)||C.isCell(e==null?void 0:e.parentElement);if(r){var c=C.posFromPlaceholder(e),h=y()(this.options.container).offset();c.top-=h.top,c.left-=h.left,this.$popover.css({display:"block",left:c.left,top:c.top})}else this.hide();return r}},{key:"hide",value:function(){this.$popover.hide()}}])}();function Pi(i){"@babel/helpers - typeof";return Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi(i)}function Gs(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Xs(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Js(r.key),r)}}function Ys(i,t,e){return t&&Xs(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Js(i){var t=Qs(i,"string");return Pi(t)=="symbol"?t:t+""}function Qs(i,t){if(Pi(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(Pi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var Zs=function(){function i(t){Gs(this,i),this.context=t,this.ui=y().summernote.ui,this.$body=y()(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}return Ys(i,[{key:"initialize",value:function(){var e=this.options.dialogsInBody?this.$body:this.options.container,r=['<div class="form-group note-form-group row-fluid">','<label for="note-dialog-video-url-'.concat(this.options.id,'" class="note-form-label">').concat(this.lang.video.url,' <small class="text-muted">').concat(this.lang.video.providers,"</small></label>"),'<input id="note-dialog-video-url-'.concat(this.options.id,'" class="note-video-url form-control note-form-control note-input" type="text"/>'),"</div>"].join(""),c="btn btn-primary note-btn note-btn-primary note-video-btn",h='<input type="button" href="#" class="'.concat(c,'" value="').concat(this.lang.video.insert,'" disabled>');this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:r,footer:h}).render().appendTo(e)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"bindEnterKey",value:function(e,r){e.on("keypress",function(c){c.keyCode===de.code.ENTER&&(c.preventDefault(),r.trigger("click"))})}},{key:"createVideoNode",value:function(e){var r=/(?:youtu\.be\/|youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=|shorts\/|live\/))([^&\n?]+)(?:.*[?&]t=([^&\n]+))?.*/,c=/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/,h=e.match(r),g=/(?:\.|\/\/)drive\.google\.com\/file\/d\/(.[a-zA-Z0-9_-]*)\/view/,b=e.match(g),x=/(?:www\.|\/\/)instagram\.com\/(reel|p)\/(.[a-zA-Z0-9_-]*)/,E=e.match(x),N=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/,D=e.match(N),H=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/,U=e.match(H),Z=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,he=e.match(Z),we=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,Ie=e.match(we),Y=/\/\/(.*)\/videos\/watch\/([^?]*)(?:\?(?:start=(\w*))?(?:&stop=(\w*))?(?:&loop=([10]))?(?:&autoplay=([10]))?(?:&muted=([10]))?)?/,V=e.match(Y),pe=/\/\/v\.qq\.com.*?vid=(.+)/,xe=e.match(pe),Et=/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/,ut=e.match(Et),At=/^.+.(mp4|m4v)$/,tt=e.match(At),Wt=/^.+.(ogg|ogv)$/,Dr=e.match(Wt),Oi=/^.+.(webm)$/,Or=e.match(Oi),ou=/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/,Fo=e.match(ou),Ke;if(h&&h[1].length===11){var au=h[1],Mi=0;if(typeof h[2]<"u"){var Ho=h[2].match(c);if(Ho)for(var ua=[3600,60,1],Ri=0,su=ua.length;Ri<su;Ri++)Mi+=typeof Ho[Ri+1]<"u"?ua[Ri]*parseInt(Ho[Ri+1],10):0;else Mi=parseInt(h[2],10)}Ke=y()("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+au+(Mi>0?"?start="+Mi:"")).attr("width","640").attr("height","360")}else if(b&&b[0].length)Ke=y()("<iframe>").attr("frameborder",0).attr("src","https://drive.google.com/file/d/"+b[1]+"/preview").attr("width","640").attr("height","480");else if(E&&E[0].length)Ke=y()("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+E[2]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(D&&D[0].length)Ke=y()("<iframe>").attr("frameborder",0).attr("src",D[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(U&&U[3].length)Ke=y()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+U[3]).attr("width","640").attr("height","360");else if(he&&he[2].length)Ke=y()("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+he[2]).attr("width","640").attr("height","360");else if(Ie&&Ie[1].length)Ke=y()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+Ie[1]);else if(V&&V[0].length){var Bo=0;V[2]!=="undefined"&&(Bo=V[2]);var ca=0;V[3]!=="undefined"&&(ca=V[3]);var fa=0;V[4]!=="undefined"&&(fa=V[4]);var da=0;V[5]!=="undefined"&&(da=V[5]);var ha=0;V[6]!=="undefined"&&(ha=V[6]),Ke=y()('<iframe allowfullscreen sandbox="allow-same-origin allow-scripts allow-popups">').attr("frameborder",0).attr("src","//"+V[1]+"/videos/embed/"+V[2]+"?loop="+fa+"&autoplay="+da+"&muted="+ha+(Bo>0?"&start="+Bo:"")+(ca>0?"&end="+Mi:"")).attr("width","560").attr("height","315")}else if(xe&&xe[1].length||ut&&ut[2].length){var lu=xe&&xe[1].length?xe[1]:ut[2];Ke=y()("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","https://v.qq.com/txp/iframe/player.html?vid="+lu+"&amp;auto=0")}else if(tt||Dr||Or)Ke=y()("<video controls>").attr("src",e).attr("width","640").attr("height","360");else if(Fo&&Fo[0].length)Ke=y()("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(Fo[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true");else return!1;return Ke.addClass("note-video-clip"),Ke[0]}},{key:"show",value:function(){var e=this,r=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(r).then(function(c){e.ui.hideDialog(e.$dialog),e.context.invoke("editor.restoreRange");var h=e.createVideoNode(c);h&&e.context.invoke("editor.insertNode",h)}).fail(function(){e.context.invoke("editor.restoreRange")})}},{key:"showVideoDialog",value:function(){var e=this;return y().Deferred(function(r){var c=e.$dialog.find(".note-video-url"),h=e.$dialog.find(".note-video-btn");e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),c.on("input paste propertychange",function(){e.ui.toggleBtn(h,c.val())}),ee.isSupportTouch||c.trigger("focus"),h.on("click",function(g){g.preventDefault(),r.resolve(c.val())}),e.bindEnterKey(c,h)}),e.ui.onDialogHidden(e.$dialog,function(){c.off(),h.off(),r.state()==="pending"&&r.reject()}),e.ui.showDialog(e.$dialog)})}}])}();function Ei(i){"@babel/helpers - typeof";return Ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ei(i)}function el(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function tl(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,il(r.key),r)}}function nl(i,t,e){return t&&tl(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function il(i){var t=rl(i,"string");return Ei(t)=="symbol"?t:t+""}function rl(i,t){if(Ei(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(Ei(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var ol=function(){function i(t){el(this,i),this.context=t,this.ui=y().summernote.ui,this.$body=y()(document.body),this.$editor=t.layoutInfo.editor,this.options=t.options,this.lang=this.options.langInfo}return nl(i,[{key:"initialize",value:function(){var e=this.options.dialogsInBody?this.$body:this.options.container,r=['<p class="text-center">','<a href="http://summernote.org/" target="_blank" rel="noopener noreferrer">Summernote 0.9.1</a> · ','<a href="https://github.com/summernote/summernote" target="_blank" rel="noopener noreferrer">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank" rel="noopener noreferrer">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:r,callback:function(h){h.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)}},{key:"destroy",value:function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()}},{key:"createShortcutList",value:function(){var e=this,r=this.options.keyMap[ee.isMac?"mac":"pc"];return Object.keys(r).map(function(c){var h=r[c],g=y()('<div><div class="help-list-item"></div></div>');return g.append(y()("<label><kbd>"+c+"</kdb></label>").css({width:180,"margin-right":10})).append(y()("<span></span>").html(e.context.memo("help."+h)||h)),g.html()}).join("")}},{key:"showHelpDialog",value:function(){var e=this;return y().Deferred(function(r){e.ui.onDialogShown(e.$dialog,function(){e.context.triggerEvent("dialog.shown"),r.resolve()}),e.ui.showDialog(e.$dialog)}).promise()}},{key:"show",value:function(){var e=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.context.invoke("editor.restoreRange")})}}])}();function Ai(i){"@babel/helpers - typeof";return Ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ai(i)}function al(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function sl(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,ul(r.key),r)}}function ll(i,t,e){return t&&sl(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function ul(i){var t=cl(i,"string");return Ai(t)=="symbol"?t:t+""}function cl(i,t){if(Ai(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(Ai(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var fl=-5,dl=5,hl=function(){function i(t){var e=this;al(this,i),this.context=t,this.ui=y().summernote.ui,this.options=t.options,this.hidable=!0,this.onContextmenu=!1,this.pageX=null,this.pageY=null,this.events={"summernote.contextmenu":function(c){e.options.editing&&(c.preventDefault(),c.stopPropagation(),e.onContextmenu=!0,e.update(!0))},"summernote.mousedown":function(c,h){e.pageX=h.pageX,e.pageY=h.pageY},"summernote.keyup summernote.mouseup summernote.scroll":function(c,h){if(e.options.editing&&!e.onContextmenu){if(h.type=="keyup"){var g=e.context.invoke("editor.getLastRange"),b=g.getWordRange(),x=ie.rect2bnd(F.last(b.getClientRects()));e.pageX=x.left,e.pageY=x.top}else e.pageX=h.pageX,e.pageY=h.pageY;e.update()}e.onContextmenu=!1},"summernote.disable summernote.change summernote.dialog.shown summernote.blur":function(){e.hide()},"summernote.focusout":function(){e.$popover.is(":active,:focus")||e.hide()}}}return ll(i,[{key:"shouldInitialize",value:function(){return this.options.airMode&&!F.isEmpty(this.options.popover.air)}},{key:"initialize",value:function(){var e=this;this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var r=this.$popover.find(".popover-content");this.context.invoke("buttons.build",r,this.options.popover.air),this.$popover.on("mousedown",function(){e.hidable=!1}),this.$popover.on("mouseup",function(){e.hidable=!0})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"update",value:function(e){var r=this.context.invoke("editor.currentStyle");if(r.range&&(!r.range.isCollapsed()||e)){var c={left:this.pageX,top:this.pageY},h=y()(this.options.container).offset();c.top-=h.top,c.left-=h.left,this.$popover.css({display:"block",left:Math.max(c.left,0)+fl,top:c.top+dl}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}else this.hide()}},{key:"updateCodeview",value:function(e){this.ui.toggleBtnActive(this.$popover.find(".btn-codeview"),e),e&&this.hide()}},{key:"hide",value:function(){this.hidable&&this.$popover.hide()}}])}();function Li(i){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(i)}function pl(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function vl(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,ml(r.key),r)}}function gl(i,t,e){return t&&vl(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function ml(i){var t=yl(i,"string");return Li(t)=="symbol"?t:t+""}function yl(i,t){if(Li(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(Li(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var ia=5,bl=function(){function i(t){var e=this;pl(this,i),this.context=t,this.ui=y().summernote.ui,this.$editable=t.layoutInfo.editable,this.options=t.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(c,h){h.isDefaultPrevented()||e.handleKeyup(h)},"summernote.keydown":function(c,h){e.handleKeydown(h)},"summernote.disable summernote.dialog.shown summernote.blur":function(){e.hide()}}}return gl(i,[{key:"shouldInitialize",value:function(){return this.hints.length>0}},{key:"initialize",value:function(){var e=this;this.lastWordRange=null,this.matchingWord=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(r){e.$content.find(".active").removeClass("active"),y()(r.currentTarget).addClass("active"),e.replace()}),this.$popover.on("mousedown",function(r){r.preventDefault()})}},{key:"destroy",value:function(){this.$popover.remove()}},{key:"selectItem",value:function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2}},{key:"moveDown",value:function(){var e=this.$content.find(".note-hint-item.active"),r=e.next();if(r.length)this.selectItem(r);else{var c=e.parent().next();c.length||(c=this.$content.find(".note-hint-group").first()),this.selectItem(c.find(".note-hint-item").first())}}},{key:"moveUp",value:function(){var e=this.$content.find(".note-hint-item.active"),r=e.prev();if(r.length)this.selectItem(r);else{var c=e.parent().prev();c.length||(c=this.$content.find(".note-hint-group").last()),this.selectItem(c.find(".note-hint-item").last())}}},{key:"replace",value:function(){var e=this.$content.find(".note-hint-item.active");if(e.length){var r=this.nodeFromItem(e);if(this.matchingWord!==null&&this.matchingWord.length===0)this.lastWordRange.so=this.lastWordRange.eo;else if(this.matchingWord!==null&&this.matchingWord.length>0&&!this.lastWordRange.isCollapsed()){var c=this.lastWordRange.eo-this.lastWordRange.so-this.matchingWord.length;c>0&&(this.lastWordRange.so+=c)}if(this.lastWordRange.insertNode(r),this.options.hintSelect==="next"){var h=document.createTextNode("");y()(r).after(h),se.createFromNodeBefore(h).select()}else se.createFromNodeAfter(r).select();this.lastWordRange=null,this.hide(),this.context.invoke("editor.focus"),this.context.triggerEvent("change",this.$editable.html(),this.$editable)}}},{key:"nodeFromItem",value:function(e){var r=this.hints[e.data("index")],c=e.data("item"),h=r.content?r.content(c):c;return typeof h=="string"&&(h=C.createText(h)),h}},{key:"createItemTemplates",value:function(e,r){var c=this.hints[e];return r.map(function(h,g){var b=y()('<div class="note-hint-item"></div>');return b.append(c.template?c.template(h):h+""),b.data({index:e,item:h}),e===0&&g===0&&b.addClass("active"),b})}},{key:"handleKeydown",value:function(e){this.$popover.is(":visible")&&(e.keyCode===de.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===de.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===de.code.DOWN&&(e.preventDefault(),this.moveDown()))}},{key:"searchKeyword",value:function(e,r,c){var h=this.hints[e];if(h&&h.match.test(r)&&h.search){var g=h.match.exec(r);this.matchingWord=g[0],h.search(g[1],c)}else c()}},{key:"createGroup",value:function(e,r){var c=this,h=y()('<div class="note-hint-group note-hint-group-'+e+'"></div>');return this.searchKeyword(e,r,function(g){g=g||[],g.length&&(h.html(c.createItemTemplates(e,g)),c.show())}),h}},{key:"handleKeyup",value:function(e){var r=this;if(!F.contains([de.code.ENTER,de.code.UP,de.code.DOWN],e.keyCode)){var c=this.context.invoke("editor.getLastRange"),h,g;if(this.options.hintMode==="words"){if(h=c.getWordsRange(c),g=h.toString(),this.hints.forEach(function(E){if(E.match.test(g))return h=c.getWordsMatchRange(E.match),!1}),!h){this.hide();return}g=h.toString()}else h=c.getWordRange(),g=h.toString();if(this.hints.length&&g){this.$content.empty();var b=ie.rect2bnd(F.last(h.getClientRects())),x=y()(this.options.container).offset();b&&(b.top-=x.top,b.left-=x.left,this.$popover.hide(),this.lastWordRange=h,this.hints.forEach(function(E,N){E.match.test(g)&&r.createGroup(N,g).appendTo(r.$content)}),this.$content.find(".note-hint-item").first().addClass("active"),this.direction==="top"?this.$popover.css({left:b.left,top:b.top-this.$popover.outerHeight()-ia}):this.$popover.css({left:b.left,top:b.top+b.height+ia}))}else this.hide()}}},{key:"show",value:function(){this.$popover.show()}},{key:"hide",value:function(){this.$popover.hide()}}])}();y().summernote=y().extend(y().summernote,{version:"0.9.1",plugins:{},dom:C,range:se,lists:F,options:{langInfo:y().summernote.lang["en-US"],editing:!0,modules:{editor:xo,clipboard:Tr,dropzone:_o,codeview:a,statusbar:I,fullscreen:ge,handle:Se,hintPopover:bl,autoLink:ja,autoSync:qa,autoReplace:Ya,placeholder:ns,buttons:ls,toolbar:ps,linkDialog:Ss,linkPopover:Ls,imageDialog:Ms,imagePopover:Bs,tablePopover:Vs,videoDialog:Zs,helpDialog:ol,airPopover:hl},buttons:{},lang:"en-US",followingToolbar:!1,toolbarPosition:"top",otherStaticBar:"",codeviewKeepButton:!1,toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]],["view",["fullscreen","codeview"]]]},linkAddNoReferrer:!1,addLinkNoOpener:!1,airMode:!1,overrideContextMenu:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabDisable:!1,tabSize:4,styleWithCSS:!1,shortcuts:!0,textareaAutoSync:!0,tooltip:"auto",container:null,maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,disableGrammar:!1,placeholder:null,inheritPlaceholder:!1,recordEveryKeystroke:!1,historyLimit:200,showDomainOnlyForAutolink:!1,hintMode:"word",hintSelect:"after",hintDirection:"bottom",styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],addDefaultFonts:!0,fontSizes:["8","9","10","11","12","14","18","24","36"],fontSizeUnits:["px","pt"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,acceptImageFileTypes:"image/*",allowClipboardImagePasting:!0,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!0,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","jumpingbean.tv","v.qq.com"],keyMap:{pc:{ESC:"escape",ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ESC:"escape",ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}});function Mn(i){"@babel/helpers - typeof";return Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(i)}function kl(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function wl(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Sl(r.key),r)}}function Cl(i,t,e){return t&&wl(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Sl(i){var t=xl(i,"string");return Mn(t)=="symbol"?t:t+""}function xl(i,t){if(Mn(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(Mn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var Tl=function(){function i(t,e,r,c){kl(this,i),this.markup=t,this.children=e,this.options=r,this.callback=c}return Cl(i,[{key:"render",value:function(e){var r=y()(this.markup);if(this.options&&this.options.contents&&r.html(this.options.contents),this.options&&this.options.className&&r.addClass(this.options.className),this.options&&this.options.data&&y().each(this.options.data,function(h,g){r.attr("data-"+h,g)}),this.options&&this.options.click&&r.on("click",this.options.click),this.children){var c=r.find(".note-children-container");this.children.forEach(function(h){h.render(c.length?c:r)})}return this.callback&&this.callback(r,this.options),this.options&&this.options.callback&&this.options.callback(r),e&&e.append(r),r}}])}();const $e={create:function(t,e){return function(){var r=Mn(arguments[1])==="object"?arguments[1]:arguments[0],c=Array.isArray(arguments[0])?arguments[0]:[];return r&&r.children&&(c=r.children),new Tl(t,c,r,e)}}};function _i(i){"@babel/helpers - typeof";return _i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_i(i)}function Pl(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function El(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Ll(r.key),r)}}function Al(i,t,e){return t&&El(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Ll(i){var t=_l(i,"string");return _i(t)=="symbol"?t:t+""}function _l(i,t){if(_i(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(_i(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var Il=function(){function i(t,e){if(Pl(this,i),this.$node=t,this.options=y().extend({},{title:"",target:e.container,trigger:"hover focus",placement:"bottom"},e),this.$tooltip=y()(['<div class="note-tooltip">','<div class="note-tooltip-arrow"></div>','<div class="note-tooltip-content"></div>',"</div>"].join("")),this.options.trigger!=="manual"){var r=this.show.bind(this),c=this.hide.bind(this),h=this.toggle.bind(this);this.options.trigger.split(" ").forEach(function(g){g==="hover"?(t.off("mouseenter mouseleave"),t.on("mouseenter",r).on("mouseleave",c)):g==="click"?t.on("click",h):g==="focus"&&t.on("focus",r).on("blur",c)})}}return Al(i,[{key:"show",value:function(){var e=this.$node,r=e.offset(),c=y()(this.options.target).offset();r.top-=c.top,r.left-=c.left;var h=this.$tooltip,g=this.options.title||e.attr("title")||e.data("title"),b=this.options.placement||e.data("placement");h.addClass(b),h.find(".note-tooltip-content").text(g),h.appendTo(this.options.target);var x=e.outerWidth(),E=e.outerHeight(),N=h.outerWidth(),D=h.outerHeight();b==="bottom"?h.css({top:r.top+E,left:r.left+(x/2-N/2)}):b==="top"?h.css({top:r.top-D,left:r.left+(x/2-N/2)}):b==="left"?h.css({top:r.top+(E/2-D/2),left:r.left-N}):b==="right"&&h.css({top:r.top+(E/2-D/2),left:r.left+x}),h.addClass("in")}},{key:"hide",value:function(){var e=this;this.$tooltip.removeClass("in"),setTimeout(function(){e.$tooltip.remove()},200)}},{key:"toggle",value:function(){this.$tooltip.hasClass("in")?this.hide():this.show()}}])}();const ra=Il;function Ii(i){"@babel/helpers - typeof";return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ii(i)}function Nl(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Dl(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Ml(r.key),r)}}function Ol(i,t,e){return t&&Dl(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Ml(i){var t=Rl(i,"string");return Ii(t)=="symbol"?t:t+""}function Rl(i,t){if(Ii(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(Ii(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var $l=function(){function i(t,e){Nl(this,i),this.$button=t,this.options=y().extend({},{target:e.container},e),this.setEvent()}return Ol(i,[{key:"setEvent",value:function(){var e=this;this.$button.on("click",function(r){e.toggle(),r.stopImmediatePropagation()})}},{key:"clear",value:function(){var e=y()(".note-btn-group.open");e.find(".note-btn.active").removeClass("active"),e.removeClass("open")}},{key:"show",value:function(){this.$button.addClass("active"),this.$button.parent().addClass("open");var e=this.$button.next(),r=e.offset(),c=e.outerWidth(),h=y()(window).width(),g=parseFloat(y()(this.options.target).css("margin-right"));r.left+c>h-g?e.css("margin-left",h-g-(r.left+c)):e.css("margin-left","")}},{key:"hide",value:function(){this.$button.removeClass("active"),this.$button.parent().removeClass("open")}},{key:"toggle",value:function(){var e=this.$button.parent().hasClass("open");this.clear(),e?this.hide():this.show()}}])}();y()(document).on("click.note-dropdown-menu",function(i){y()(i.target).closest(".note-btn-group").length||(y()(".note-btn-group.open .note-btn.active").removeClass("active"),y()(".note-btn-group.open").removeClass("open"))}),y()(document).on("click.note-dropdown-menu",function(i){y()(i.target).closest(".note-dropdown-menu").parent().removeClass("open"),y()(i.target).closest(".note-dropdown-menu").parent().find(".note-btn.active").removeClass("active")});const jl=$l;function Ni(i){"@babel/helpers - typeof";return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(i)}function Fl(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Hl(i,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,zl(r.key),r)}}function Bl(i,t,e){return t&&Hl(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function zl(i){var t=Ul(i,"string");return Ni(t)=="symbol"?t:t+""}function Ul(i,t){if(Ni(i)!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var r=e.call(i,t);if(Ni(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}var ql=function(){function i(t){Fl(this,i),this.$modal=t,this.$backdrop=y()('<div class="note-modal-backdrop"></div>')}return Bl(i,[{key:"show",value:function(){var e=this;this.$backdrop.appendTo(document.body).show(),this.$modal.addClass("open").show(),this.$modal.trigger("note.modal.show"),this.$modal.off("click",".close").on("click",".close",this.hide.bind(this)),this.$modal.on("keydown",function(r){r.which===27&&(r.preventDefault(),e.hide())})}},{key:"hide",value:function(){this.$modal.removeClass("open").hide(),this.$backdrop.hide(),this.$modal.trigger("note.modal.hide"),this.$modal.off("keydown")}}])}();const Wl=ql;var Mo=$e.create('<div class="note-editor note-frame"></div>'),Ro=$e.create('<div class="note-toolbar" role="toolbar"></div>'),_r=$e.create('<div class="note-editing-area"></div>'),Ir=$e.create('<textarea class="note-codable" aria-multiline="true"></textarea>'),$o=$e.create('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"></div>'),jo=$e.create(['<output class="note-status-output" role="status" aria-live="polite"></output>','<div class="note-statusbar" role="status">','<div class="note-resizebar" aria-label="resize">','<div class="note-icon-bar"></div>','<div class="note-icon-bar"></div>','<div class="note-icon-bar"></div>',"</div>","</div>"].join("")),oa=$e.create('<div class="note-editor note-airframe"></div>'),aa=$e.create(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"></div>','<output class="note-status-output" role="status" aria-live="polite"></output>'].join("")),Ut=$e.create('<div class="note-btn-group"></div>'),fn=$e.create('<button type="button" class="note-btn" tabindex="-1"></button>',function(i,t){t&&t.tooltip&&(i.attr({"aria-label":t.tooltip}),i.data("_lite_tooltip",new ra(i,{title:t.tooltip,container:t.container})).on("click",function(e){y()(e.currentTarget).data("_lite_tooltip").hide()})),t.contents&&i.html(t.contents),t&&t.data&&t.data.toggle==="dropdown"&&i.data("_lite_dropdown",new jl(i,{container:t.container})),t&&t.codeviewKeepButton&&i.addClass("note-codeview-keep")}),Di=$e.create('<div class="note-dropdown-menu" role="list"></div>',function(i,t){var e=Array.isArray(t.items)?t.items.map(function(r){var c=typeof r=="string"?r:r.value||"",h=t.template?t.template(r):r,g=y()('<a class="note-dropdown-item" href="#" data-value="'+c+'" role="listitem" aria-label="'+c+'"></a>');return g.html(h).data("item",r),g}):t.items;i.html(e).attr({"aria-label":t.title}),i.on("click","> .note-dropdown-item",function(r){var c=y()(this),h=c.data("item"),g=c.data("value");h.click?h.click(c):t.itemClick&&t.itemClick(r,h,g)}),t&&t.codeviewKeepButton&&i.addClass("note-codeview-keep")}),sa=$e.create('<div class="note-dropdown-menu note-check" role="list"></div>',function(i,t){var e=Array.isArray(t.items)?t.items.map(function(r){var c=typeof r=="string"?r:r.value||"",h=t.template?t.template(r):r,g=y()('<a class="note-dropdown-item" href="#" data-value="'+c+'" role="listitem" aria-label="'+r+'"></a>');return g.html([qt(t.checkClassName)," ",h]).data("item",r),g}):t.items;i.html(e).attr({"aria-label":t.title}),i.on("click","> .note-dropdown-item",function(r){var c=y()(this),h=c.data("item"),g=c.data("value");h.click?h.click(c):t.itemClick&&t.itemClick(r,h,g)}),t&&t.codeviewKeepButton&&i.addClass("note-codeview-keep")}),Kl=function(t,e){return t+" "+qt(e.icons.caret,"span")},Vl=function(t,e){return Ut([fn({className:"dropdown-toggle",contents:t.title+" "+qt("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),Di({className:t.className,items:t.items,template:t.template,itemClick:t.itemClick})],{callback:e}).render()},Gl=function(t,e){return Ut([fn({className:"dropdown-toggle",contents:t.title+" "+qt("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),sa({className:t.className,checkClassName:t.checkClassName,items:t.items,template:t.template,itemClick:t.itemClick})],{callback:e}).render()},Xl=function(t){return Ut([fn({className:"dropdown-toggle",contents:t.title+" "+qt("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),Di([Ut({className:"note-align",children:t.items[0]}),Ut({className:"note-list",children:t.items[1]})])]).render()},Yl=function(t,e,r){var c=18,h=y()(t.target.parentNode),g=h.next(),b=h.find(".note-dimension-picker-mousecatcher"),x=h.find(".note-dimension-picker-highlighted"),E=h.find(".note-dimension-picker-unhighlighted"),N;if(t.offsetX===void 0){var D=y()(t.target).offset();N={x:t.pageX-D.left,y:t.pageY-D.top}}else N={x:t.offsetX,y:t.offsetY};var H={c:Math.ceil(N.x/c)||1,r:Math.ceil(N.y/c)||1};x.css({width:H.c+"em",height:H.r+"em"}),b.data("value",H.c+"x"+H.r),H.c>3&&H.c<e&&E.css({width:H.c+1+"em"}),H.r>3&&H.r<r&&E.css({height:H.r+1+"em"}),g.html(H.c+" x "+H.r)},Jl=function(t){return Ut([fn({className:"dropdown-toggle",contents:t.title+" "+qt("note-icon-caret"),tooltip:t.tooltip,data:{toggle:"dropdown"}}),Di({className:"note-table",items:['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(r){var c=r.find(".note-dimension-picker-mousecatcher");c.css({width:t.col+"em",height:t.row+"em"}).on("mouseup",t.itemClick).on("mousemove",function(h){Yl(h,t.col,t.row)})}}).render()},la=$e.create('<div class="note-color-palette"></div>',function(i,t){for(var e=[],r=0,c=t.colors.length;r<c;r++){for(var h=t.eventName,g=t.colors[r],b=t.colorsName[r],x=[],E=0,N=g.length;E<N;E++){var D=g[E],H=b[E];x.push(['<button type="button" class="note-btn note-color-btn"','style="background-color:',D,'" ','data-event="',h,'" ','data-value="',D,'" ','data-title="',H,'" ','aria-label="',H,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}e.push('<div class="note-color-row">'+x.join("")+"</div>")}i.html(e.join("")),i.find(".note-color-btn").each(function(){y()(this).data("_lite_tooltip",new ra(y()(this),{container:t.container}))})}),Ql=function(t,e){return Ut({className:"note-color",children:[fn({className:"note-current-color-button",contents:t.title,tooltip:t.lang.color.recent,click:t.currentClick,callback:function(c){var h=c.find(".note-recent-color");e!=="foreColor"&&(h.css("background-color","#FFFF00"),c.attr("data-backColor","#FFFF00"))}}),fn({className:"dropdown-toggle",contents:qt("note-icon-caret"),tooltip:t.lang.color.more,data:{toggle:"dropdown"}}),Di({items:["<div>",'<div class="note-btn-group btn-background-color">','<div class="note-palette-title">'+t.lang.color.background+"</div>","<div>",'<button type="button" class="note-color-reset note-btn note-btn-block" data-event="backColor" data-value="transparent">',t.lang.color.transparent,"</button>","</div>",'<div class="note-holder" data-event="backColor"></div>','<div class="btn-sm">','<input type="color" id="html5bcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','<button type="button" class="note-color-reset btn" data-event="backColor" data-value="cpbackColor">',t.lang.color.cpSelect,"</button>","</div>","</div>",'<div class="note-btn-group btn-foreground-color">','<div class="note-palette-title">'+t.lang.color.foreground+"</div>","<div>",'<button type="button" class="note-color-reset note-btn note-btn-block" data-event="removeFormat" data-value="foreColor">',t.lang.color.resetToDefault,"</button>","</div>",'<div class="note-holder" data-event="foreColor"></div>','<div class="btn-sm">','<input type="color" id="html5fcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','<button type="button" class="note-color-reset btn" data-event="foreColor" data-value="cpforeColor">',t.lang.color.cpSelect,"</button>","</div>","</div>","</div>"].join(""),callback:function(c){c.find(".note-holder").each(function(){var h=y()(this);h.append(la({colors:t.colors,eventName:h.data("event")}).render())}),e==="fore"?(c.find(".btn-background-color").hide(),c.css({"min-width":"210px"})):e==="back"&&(c.find(".btn-foreground-color").hide(),c.css({"min-width":"210px"}))},click:function(c){var h=y()(c.target),g=h.data("event"),b=h.data("value"),x=document.getElementById("html5fcp").value,E=document.getElementById("html5bcp").value;if(b==="cp"?c.stopPropagation():b==="cpbackColor"?b=E:b==="cpforeColor"&&(b=x),g&&b){var N=g==="backColor"?"background-color":"color",D=h.closest(".note-color").find(".note-recent-color"),H=h.closest(".note-color").find(".note-current-color-button");D.css(N,b),H.attr("data-"+g,b),e==="fore"?t.itemClick("foreColor",b):e==="back"?t.itemClick("backColor",b):t.itemClick(g,b)}}})]}).render()},Nr=$e.create('<div class="note-modal" aria-hidden="false" tabindex="-1" role="dialog"></div>',function(i,t){t.fade&&i.addClass("fade"),i.attr({"aria-label":t.title}),i.html(['<div class="note-modal-content">',t.title?'<div class="note-modal-header"><button type="button" class="close" aria-label="Close" aria-hidden="true"><i class="note-icon-close"></i></button><h4 class="note-modal-title">'+t.title+"</h4></div>":"",'<div class="note-modal-body">'+t.body+"</div>",t.footer?'<div class="note-modal-footer">'+t.footer+"</div>":"","</div>"].join("")),i.data("modal",new Wl(i,t))}),Zl=function(t){var e='<div class="note-form-group"><label for="note-dialog-video-url-'+t.id+'" class="note-form-label">'+t.lang.video.url+' <small class="text-muted">'+t.lang.video.providers+'</small></label><input id="note-dialog-video-url-'+t.id+'" class="note-video-url note-input" type="text"/></div>',r=['<button type="button" href="#" class="note-btn note-btn-primary note-video-btn disabled" disabled>',t.lang.video.insert,"</button>"].join("");return Nr({title:t.lang.video.insert,fade:t.fade,body:e,footer:r}).render()},eu=function(t){var e='<div class="note-form-group note-group-select-from-files"><label for="note-dialog-image-file-'+t.id+'" class="note-form-label">'+t.lang.image.selectFromFiles+'</label><input id="note-dialog-image-file-'+t.id+'" class="note-note-image-input note-input" type="file" name="files" accept="image/*" multiple="multiple"/>'+t.imageLimitation+'</div><div class="note-form-group"><label for="note-dialog-image-url-'+t.id+'" class="note-form-label">'+t.lang.image.url+'</label><input id="note-dialog-image-url-'+t.id+'" class="note-image-url note-input" type="text"/></div>',r=['<button href="#" type="button" class="note-btn note-btn-primary note-btn-large note-image-btn disabled" disabled>',t.lang.image.insert,"</button>"].join("");return Nr({title:t.lang.image.insert,fade:t.fade,body:e,footer:r}).render()},tu=function(t){var e='<div class="note-form-group"><label for="note-dialog-link-txt-'+t.id+'" class="note-form-label">'+t.lang.link.textToDisplay+'</label><input id="note-dialog-link-txt-'+t.id+'" class="note-link-text note-input" type="text"/></div><div class="note-form-group"><label for="note-dialog-link-url-'+t.id+'" class="note-form-label">'+t.lang.link.url+'</label><input id="note-dialog-link-url-'+t.id+'" class="note-link-url note-input" type="text" value="http://"/></div>'+(t.disableLinkTarget?"":'<div class="checkbox"><label for="note-dialog-link-nw-'+t.id+'"><input id="note-dialog-link-nw-'+t.id+'" type="checkbox" checked> '+t.lang.link.openInNewWindow+"</label></div>"),r=['<button href="#" type="button" class="note-btn note-btn-primary note-link-btn disabled" disabled>',t.lang.link.insert,"</button>"].join("");return Nr({className:"link-dialog",title:t.lang.link.insert,fade:t.fade,body:e,footer:r}).render()},nu=$e.create(['<div class="note-popover bottom">','<div class="note-popover-arrow"></div>','<div class="popover-content note-children-container"></div>',"</div>"].join(""),function(i,t){var e=typeof t.direction<"u"?t.direction:"bottom";i.addClass(e).hide(),t.hideArrow&&i.find(".note-popover-arrow").hide()}),iu=$e.create('<div class="checkbox"></div>',function(i,t){i.html(["<label"+(t.id?' for="note-'+t.id+'"':"")+">",'<input role="checkbox" type="checkbox"'+(t.id?' id="note-'+t.id+'"':""),t.checked?" checked":"",' aria-checked="'+(t.checked?"true":"false")+'"/>',t.text?t.text:"","</label>"].join(""))}),qt=function(t,e){return t.match(/^</)?t:(e=e||"i","<"+e+' class="'+t+'"></'+e+">")},ru=function(t){return{editor:Mo,toolbar:Ro,editingArea:_r,codable:Ir,editable:$o,statusbar:jo,airEditor:oa,airEditable:aa,buttonGroup:Ut,button:fn,dropdown:Di,dropdownCheck:sa,dropdownButton:Vl,dropdownButtonContents:Kl,dropdownCheckButton:Gl,paragraphDropdownButton:Xl,tableDropdownButton:Jl,colorDropdownButton:Ql,palette:la,dialog:Nr,videoDialog:Zl,imageDialog:eu,linkDialog:tu,popover:nu,checkbox:iu,icon:qt,options:t,toggleBtn:function(r,c){r.toggleClass("disabled",!c),r.attr("disabled",!c)},toggleBtnActive:function(r,c){r.toggleClass("active",c)},check:function(r,c){r.find(".checked").removeClass("checked"),r.find('[data-value="'+c+'"]').addClass("checked")},onDialogShown:function(r,c){r.one("note.modal.show",c)},onDialogHidden:function(r,c){r.one("note.modal.hide",c)},showDialog:function(r){r.data("modal").show()},hideDialog:function(r){r.data("modal").hide()},getPopoverContent:function(r){return r.find(".note-popover-content")},getDialogBody:function(r){return r.find(".note-modal-body")},createLayout:function(r){var c=(t.airMode?oa([_r([Ir(),aa()])]):t.toolbarPosition==="bottom"?Mo([_r([Ir(),$o()]),Ro(),jo()]):Mo([Ro(),_r([Ir(),$o()]),jo()])).render();return c.insertAfter(r),{note:r,editor:c,toolbar:c.find(".note-toolbar"),editingArea:c.find(".note-editing-area"),editable:c.find(".note-editable"),codable:c.find(".note-codable"),statusbar:c.find(".note-statusbar")}},removeLayout:function(r,c){r.html(c.editable.html()),c.editor.remove(),r.off("summernote"),r.show()}}};return y().summernote=y().extend(y().summernote,{ui_template:ru,interface:"lite"}),_})())}(Wo)),Wo.exports}Ic();window.$=$i;window.jQuery=$i;async function Da(){var p,m,w,T,L,_,R,y,$,B,q,j;const l=[];for(let K of document.querySelectorAll("[id^='stylesonlayer_set-']:not([id$='-group'])")){const ae=(p=K.querySelector("select[id*='-style']"))==null?void 0:p.value,G=(m=K.querySelector("textarea[id*='feature_mapping']"))==null?void 0:m.value,te=(w=K.querySelector("textarea[id*='popup']"))==null?void 0:w.value,z=(T=K.querySelector("input[id*='-draw_popup']"))==null?void 0:T.checked,ve=(L=K.querySelector("input[id*='-draw_tooltip']"))==null?void 0:L.checked,ee=(_=K.querySelector("textarea[id*='label']"))==null?void 0:_.value,Ee=(R=K.querySelector("input[id*='offset_x']"))==null?void 0:R.value,ke=(y=K.querySelector("input[id*='offset_y']"))==null?void 0:y.value,u=($=K.querySelector("input[id*='opacity']"))==null?void 0:$.value,ne=(B=K.querySelector("select[id*='direction']"))==null?void 0:B.value,Pe=(q=K.querySelector("input[id*='permanent']"))==null?void 0:q.checked,re=(j=K.querySelector("input[id*='sticky']"))==null?void 0:j.checked;if(!(ae&&G))continue;const Ae=await cu(ae);if(Ae!==null&&G!==void 0&&te!==void 0&&z!==void 0&&ve!==void 0&&ee!==void 0&&Ee!==void 0&&ke!==void 0&&u!==void 0&&ne!==void 0&&Pe!==void 0&&re!==void 0){const ft={label:ee,offsetX:Number.parseFloat(Ee),offsetY:Number.parseFloat(ke),opacity:Number.parseFloat(u),direction:ne,permanent:Pe,sticky:re},dt={style:Ae,feature_mapping:G,inlineRow:K,drawPopup:z,popupTemplate:te,drawTooltip:ve,tooltip:ft};l.push(dt)}else{const ft={label:ee,offsetX:Ee!==void 0?Number.parseFloat(Ee):Number.NaN,offsetY:ke!==void 0?Number.parseFloat(ke):Number.NaN,opacity:u!==void 0?Number.parseFloat(u):Number.NaN,direction:ne,permanent:Pe,sticky:re};console.warn("One or more expected values in a StyleOnLayer inline is missing: ",{style:Ae,feature_mapping:G,inlineRow:K,drawPopup:z,popupTemplate:te,drawTooltip:ve,tooltip:ft})}}return{type:"Style",newStylesOnLayers:l}}async function $r(l){let p=null;for(let m of l.childNodes)m instanceof HTMLOptionElement&&m.selected&&(p=m.value);return p===null||p===""?null:await uu(p)}async function Ea(l){const p={type:"MapData",newGeoJsonData:null},m=await $r(l);if(m===null)return p;if(m.geojson===null)return p;const w=JSON.parse(m.geojson);return w.features===null||w.features===void 0?p:{type:"MapData",newGeoJsonData:w}}function na(l,p){const m=new vn;let w=[];for(let T of p){const L=T.inlineRow.querySelector("td[class*='feature_mapping']"),_=L==null?void 0:L.querySelector("div[id*='errors']");try{m.parse(T.feature_mapping).evaluate(du(l.properties))===!0&&(w.push({styleOnLayer:T,popupTemplate:T.popupTemplate}),_&&L&&L.removeChild(_))}catch(R){if(_&&L&&L.removeChild(_),L&&!(L!=null&&L.querySelector("div[id*='errors']"))){const y=document.createElement("div");y.textContent=String(R),y.id="errors",y.style="color:rgb(255, 0, 0);",L.insertBefore(y,L.children[0])}}}return w}function Nc(){return{fill:!0,fillColor:"#4B3EFF",fillOpacity:.3,stroke:!0,weight:1,opacity:1,color:"#4B3EFF",dashArray:"1 10",dashOffset:"0",lineCap:"round",lineJoin:"round"}}function Dc(l){return m=>{if(l.stylesOnLayer.length==0&&!l.isUpdating)return Nc();let w=na(m,l.stylesOnLayer),T=!1,L,_,R=!1,y,$,B,q="",j,K="round",ae="round";for(let te of w){const z=te.styleOnLayer.style;z.drawFill===!0&&(T=!0),z.drawStroke===!0&&(R=!0),L=zo(L,z.fillOpacity),y=zo(y,z.strokeOpacity),B=zo(B,z.strokeWeight),_===void 0?_=z.fillColor:_=pa(_,z.fillColor,.5),$===void 0?$=z.strokeColor:$=pa($,z.strokeColor,.5),z.strokeDashArray!==null&&(q=z.strokeDashArray),z.strokeDashOffset!==null&&(j=z.strokeDashOffset),ae=z.strokeLineJoin,K=z.strokeLineCap}const G={fill:T,fillColor:_,fillOpacity:L,stroke:R,weight:B,opacity:y,color:$,dashArray:q,dashOffset:j,lineCap:K,lineJoin:ae};return m.properties.__style=G,G}}function Oa(l,p){const m=p.markerSize,w=Math.sqrt(Math.pow(m/2,2)+Math.pow(m/2,2));return{html:`
            <div>
                <div style="
                    width: ${w*2}px;
                    height: ${w*2}px;
                    background-color: ${p.markerBackgroundColor};
                    opacity: ${p.markerBackgroundOpacity};
                    border-radius: 50%;
                    display: flex;
                    position: absolute;
                "></div>
                <img 
                    src="${l+p.markerIcon}"
                    style="
                        width: ${m}px; 
                        height: ${m}px;
                        opacity: ${p.markerIconOpacity};
                        position: relative;
                        top: ${w-m/2}px;
                        left: ${w-m/2}px;
                    "
                />
            </div>
        `,className:"",iconSize:[w*2,w*2],iconAnchor:[w,w]}}function Oc(l,p){return(w,T)=>{let L=null;const _=na(w,p.stylesOnLayer);for(let y of _){const $=y.styleOnLayer.style;if($.drawMarker===!0){L=$;break}}if(L===null)return ze.marker(T);const R=Oa(l,L);return w.properties.__pointDivIconStyleProps=R,ze.marker(T,{icon:new ze.DivIcon(R)})}}async function Ma(){const l=$n(document.body,"input[name='_save']"),p=$n(document.body,"input[name='_addanother']"),m=$n(document.body,"input[name='_continue']");l.disabled=!0,p.disabled=!0,m.disabled=!0;const w=document.getElementById("map-preview"),T=document.getElementById("map-spinner");w!==null&&T!==null?(w.classList.add("blur"),T.classList.remove("hidden")):console.error("Couldn't find map-preview and map-spinner in the DOM!")}function Ra(){const l=$n(document.body,"input[name='_save']"),p=$n(document.body,"input[name='_addanother']"),m=$n(document.body,"input[name='_continue']");l.disabled=!1,p.disabled=!1,m.disabled=!1;const w=document.getElementById("map-preview"),T=document.getElementById("map-spinner");w!==null&&T!==null?(w.classList.remove("blur"),T.classList.add("hidden")):console.error("Couldn't find map-preview and map-spinner in the DOM!")}function $a(l,p){setTimeout(()=>{p.isUpdating&&Ma()},l*1e3)}function Mc(l,p){if(p===null)return{__hasPopup:!1,__popupHTML:null,__popupOptions:null};let m=!1;return p=p.replace(/<img(.*?)>/g,L=>(m=!0,L.replace("<img",'<img style="max-width:250px; height:auto;"'))),{__hasPopup:!0,__popupHTML:Ve.render(p,l.properties),__popupOptions:{maxWidth:250,minWidth:m?250:0}}}function Rc(l){let p=null;for(let m of l)m.popupTemplate!==null&&m.popupTemplate!==""&&m.styleOnLayer.drawPopup===!0&&(p=m.popupTemplate);return p}function Rr(l,p,m){if(p.currentLayer!==null&&l.removeLayer(p.currentLayer),p.centroidMarkers.clearLayers(),m.type==="MapData"){const R=m.newGeoJsonData;R===null?p.currentLayer=null:(p.currentLayer=ze.geoJSON(R),l.fitBounds(p.currentLayer.getBounds()))}else m.type==="Style"&&(p.stylesOnLayer=m.newStylesOnLayers);if(p.currentLayer===null)return;const w=va("injected-media-url").innerHTML,T=p.stylesOnLayer.filter(R=>R.style.drawMarker==!0).length>0,L=ze.geoJSON(p.currentLayer.toGeoJSON(),{style:Dc(p),pointToLayer:Oc(w,p),onEachFeature:(R,y)=>{const $=na(R,p.stylesOnLayer),B=Rc($),q=Mc(R,B);q.__hasPopup===!0&&q.__popupHTML!==null&&q.__popupOptions!==null&&(y.bindPopup(q.__popupHTML,q.__popupOptions),R.properties={...R.properties,...q});let j=null;for(let ae of $)if(ae.styleOnLayer.drawTooltip===!0){j=ae.styleOnLayer.tooltip;break}if(j!==null){const ae=Ve.render(j.label,R.properties),G={offset:new ze.Point(j.offsetX,j.offsetY),opacity:j.opacity,direction:j.direction,permanent:j.permanent,sticky:j.sticky,className:"leaflet-label"};y.bindTooltip(ae,G),R.properties={...R.properties,__hasTooltip:!0,__tooltipHTML:ae,__tooltipOptions:G}}else R.properties={...R.properties,__hasTooltip:!1};if(R.geometry.type==="MultiPolygon"&&T){const ae=R,G=$.filter(te=>te.styleOnLayer.style.drawMarker==!0);if(G.length>0){const te=G[0].styleOnLayer.style;for(let z of ae.geometry.coordinates){const ve=z[0],ee=[];for(let Pe of ve)ee.push(new ze.Point(Pe[0],Pe[1]));const Ee=fu(ee),ke=Oa(w,te),u={type:"Feature",geometry:{type:"Point",coordinates:[Ee.x,Ee.y]},properties:{__pointDivIconStyleProps:ke,...q}},ne=ze.geoJSON(u,{pointToLayer:(Pe,re)=>ze.marker(re,{icon:new ze.DivIcon(ke)})}).getLayers()[0];q.__hasPopup===!0&&q.__popupHTML!==null&&q.__popupOptions!==null&&ne.bindPopup(q.__popupHTML,q.__popupOptions),ne.addTo(p.centroidMarkers)}}}}});p.currentLayer=L,L.addTo(l),Ra(),p.isUpdating=!1;const _=va("id_serialized_leaflet_json");_.value=$c(p)}function $c(l){var m;let p=new ze.LayerGroup(l.centroidMarkers.getLayers());return(m=l.currentLayer)==null||m.addTo(p),JSON.stringify({featureCollection:p.toGeoJSON()})}const jc=l=>{const p=(_,R)=>Array.from(_.querySelectorAll('div[class*="form-row"]')).filter(B=>{var q;return(q=B.querySelector("label"))==null?void 0:q.textContent.includes(R)}),m=(_,R,y)=>{l.subscribeEventListener("input",_,$=>{if($.target!==null&&$.target instanceof HTMLInputElement){const B=$.target.closest("div[id*='stylesonlayer_set-']");if(B===null||!(B instanceof HTMLElement))throw new Error("Could not find 'draw_tooltip' form-field parent row!");const q=p(B,R);y($.target.closest("div[class*='form-row']"),q,$.target.checked)}}),document.querySelectorAll(_).forEach($=>$.dispatchEvent(new Event("input",{bubbles:!0})))},w="#FFFFFF",T="#E2DBC4",L="#f6f6f6";m("input[id*='-draw_tooltip']","Tooltip",(_,R,y)=>{for(let $ of R)y===!0?($.style.display="block",$.style.setProperty("background-color",L),_==null||_.style.setProperty("background-color",T)):($.style.display="none",$.style.setProperty("background-color",w),_==null||_.style.setProperty("background-color",w))}),m("input[id*='-draw_popup']","Popup",(_,R,y)=>{for(let $ of R)y===!0?($.style.display="block",$.style.setProperty("background-color",L),_==null||_.style.setProperty("background-color",T)):($.style.display="none",$.style.setProperty("background-color",w),_==null||_.style.setProperty("background-color",w))})},Fc=(l,p,m,w)=>{const T=()=>{$r(m).then(B=>{(B==null?void 0:B.providerState)==="GEOJSON"&&(w.isUpdating=!0,$a(1,w),Da().then(q=>{Rr(p,w,q)}))})},L=new hu(1e3,T);l.subscribeEventListener("input","textarea[id*='-feature_mapping']",B=>L.trigger()),l.subscribeEventListener("input","input[id*='-offset_x']",B=>L.trigger()),l.subscribeEventListener("input","input[id*='-offset_y']",B=>L.trigger()),l.subscribeEventListener("input","input[id*='-opacity']",B=>L.trigger());let _="",R="";const y=["textarea[id*='popup']","textarea[id*='label']"],$=()=>{const B=document.querySelectorAll("div[class*='note-editable']");console.log("editables: ",B);for(let q of B)q instanceof HTMLElement&&(console.log(q.innerHTML),q.blur());R="";for(let q of y)for(let j of document.querySelectorAll(q))j instanceof HTMLTextAreaElement&&(R+=j.value);R!==_&&(T(),_=R),setTimeout($,1e3)};$(),l.subscribeMutationObserver({childList:!0,subtree:!0},"span[id*='select2-id_stylesonlayer_set']",T),l.subscribeEventListener("input","input[id*='-draw_popup']",T),l.subscribeEventListener("input","input[id*='-draw_tooltip']",T),l.subscribeEventListener("change","select[id*='-direction']",T),l.subscribeEventListener("input","input[id*='-permanent']",T),l.subscribeEventListener("input","input[id*='-sticky']",T),document.addEventListener("visibilitychange",async function(){document.visibilityState==="visible"&&T()})};document.addEventListener("DOMContentLoaded",()=>{(async()=>{var ae;const l={minZoom:0,maxZoom:22,updateWhenIdle:!0,zIndex:0,attribution:'© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a></strong>'},p="rushadmin",m="clw2m6f9b018001obfxcc747g",w="pk.eyJ1IjoicnVzaGFkbWluIiwiYSI6ImNsdzJtYmRydzBuNDIyam5yZ2pwMG16cnUifQ.SkSSdHcrPq4u8HSitBvJcg",T="https://api.mapbox.com/styles/v1/",L=`${p}/${m}/tiles/256/{z}/{x}/{y}@2x`,_=`?access_token=${w}`;let R=ze.map("map-preview").setView([0,0],2);ze.tileLayer(T+L+_,l).addTo(R);let y={isUpdating:!0,stylesOnLayer:[],currentLayer:null,centroidMarkers:new ze.LayerGroup};y.centroidMarkers.addTo(R);const $=await Mr("id_map_data");(await Mr("id_map_data_helptext")).appendChild(await Mr("map-spinner"));const B=(ae=await $r($))==null?void 0:ae.providerState;Ra(),B&&B==="GEOJSON"&&Ma();const q=new pu(document.body);Fc(q,R,$,y),jc(q);const j=await Mr("map-preview");async function K(){const G=await $r($),te=()=>{j.style.display="none"},z=()=>{j.style.display="block"};(G==null?void 0:G.providerState)==="GEOJSON"?(z(),y.isUpdating=!0,$a(1,y),Ea($).then(ve=>Rr(R,y,ve))):te()}K(),$.addEventListener("change",K),Promise.all([Da(),Ea($)]).then(([G,te])=>{Rr(R,y,te),y.isUpdating=!0,Rr(R,y,G)})})()});
